import{f as p}from"./chunk-AHGPONMA.js";import{a as f}from"./chunk-XKK3VRSD.js";import{i as m}from"./chunk-IQ3U23OT.js";import{Da as r,Ea as u,Rc as c,a as s,ha as o,sb as a}from"./chunk-2BAC4AMN.js";var x=(()=>{class e{id=u();question=u();questionDataService=o(f);router=o(m);localize=o(p);nextRoute="";onDraft(t){if(this.question())this.questionDataService.updateQuestion(this.id(),s(s({},this.question()),t)).subscribe({next:()=>this.navigateDraft()});else{let{questionText:i,options:n}=t;this.questionDataService.createQuestion({questionText:i,options:n}).subscribe({next:()=>this.navigateDraft()})}}onSubmit(t){if(this.question())this.questionDataService.updateQuestion(this.id(),s(s({},this.question()),t)).subscribe({next:()=>this.navigateNextStep()});else{let{questionText:i,options:n}=t;this.questionDataService.createQuestion({questionText:i,options:n}).subscribe({next:v=>this.navigateNextStep(v._id)})}}navigateDraft(){this.router.navigate([this.localize.parser.currentLang,"questions"])}navigateNextStep(t){this.router.navigate([this.localize.parser.currentLang,"questions",t||this.id(),this.nextRoute])}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=a({type:e,selectors:[["ng-component"]],inputs:{id:[1,"id"],question:[1,"question"]},decls:0,vars:0,template:function(i,n){},encapsulation:2})}return e})();var T=(()=>{class e{submitEvent=r();draftEvent=r();form;location=o(c);saveAsDraft(){console.log("Saving as Draft:",this.form.value),this.draftEvent.emit(this.form.value)}continue(){this.form.valid?(console.log("Continuing:",this.form.value),this.submitEvent.emit(this.form.value)):this.form.markAllAsTouched()}navigatePrevStep(){this.location.back()}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=a({type:e,selectors:[["ng-component"]],outputs:{submitEvent:"submitEvent",draftEvent:"draftEvent"},decls:0,vars:0,template:function(i,n){},encapsulation:2})}return e})();export{T as a,x as b};
