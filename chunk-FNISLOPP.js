import{a as Vi,b as Hi}from"./chunk-HNW3ZSGN.js";import{a as Fi,b as Gt}from"./chunk-DXP4XLMN.js";import{b as jt,c as qt}from"./chunk-FAOHVPNF.js";import"./chunk-WEPIXFBJ.js";import{a as _i,b as fi}from"./chunk-FQQQEJYB.js";import{a as Ni,b as Bi}from"./chunk-DICA7KQC.js";import{a as Li,b as Mi,c as ge,e as K,h as zt}from"./chunk-FY5ZCWEG.js";import"./chunk-CGRUOODS.js";import{a as xt,b as Pt,g as Tt,h as ui}from"./chunk-LXP3RUUJ.js";import{a as ue,b as Oi,c as Ai,e as lt,f as ct}from"./chunk-3XXQVSFQ.js";import{a as Pi,b as Ti,c as Ii,f as Ri,g as ki}from"./chunk-RRFMO5VI.js";import"./chunk-3EG73H4F.js";import{h as wi,i as Si,j as Ei,k as xi}from"./chunk-OOB4KUIH.js";import{a as It,c as gi,d as Rt,f as kt,h as Ot,j as At,k as Ft,l as vi,n as Lt,o as Mt,p as Di,q as Nt,r as bi,s as yi,t as Bt,u as Ci,v as Vt,x as Ht}from"./chunk-SIF3KJ2G.js";import{$ as mi,B as ai,C as li,E as ci,F as di,H as hi,J as pi,K as V,L as Y,N as me,a as oi,c as rt,g as wt,h as St,i as at,k as si,m as Et,o as $,q as ri,s as A}from"./chunk-DGZYI55D.js";import"./chunk-2PPFUFFT.js";import"./chunk-A3GZRW4D.js";import"./chunk-UAYO7JCF.js";import{Aa as C,Ba as W,C as Ge,Cc as Z,D as z,Dc as ii,E as J,Ea as re,Fa as k,Fb as B,Gb as f,Gc as pe,Ia as ae,Ib as U,K as j,Mc as st,Oa as qe,Pb as m,Qb as p,Rb as et,Sa as ft,Sb as ce,Tb as de,Tc as ni,Uc as yt,Vb as $e,Vc as Ct,W as L,Wb as he,X as ze,Y as tt,Yb as b,_ as je,_b as it,a as R,b as Me,ba as M,ca as q,cc as Ye,db as _,dc as Ke,e as G,ea as D,ec as Xe,fb as le,g as ne,gb as We,ha as l,hb as Qe,ib as vt,j as h,jc as g,k as Ne,kb as Ue,kc as nt,lc as Je,m as Be,oa as _t,p as Ve,pa as oe,qa as se,qc as bt,rc as ti,sb as S,sc as ei,ta as O,tb as Q,u as He,ub as P,va as N,wb as T,xb as Ze,yb as Dt,z as gt,zb as E,zc as ot}from"./chunk-Q2UPFTKC.js";function An(o,i){}var F=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;componentFactoryResolver;providers;container;templateContext};var ve=(()=>{class o extends Ai{_elementRef=l(k);_focusTrapFactory=l(li);_config;_interactivityChecker=l(ai);_ngZone=l(W);_overlayRef=l(ge);_focusMonitor=l(hi);_renderer=l(Qe);_platform=l(oi);_document=l(st,{optional:!0});_portalOutlet;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_changeDetectorRef=l(ot);_injector=l(N);_isDestroyed=!1;constructor(){super(),this._config=l(F,{optional:!0})||new F,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(t){this._ariaLabelledByQueue.push(t),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(t){let e=this._ariaLabelledByQueue.indexOf(t);e>-1&&(this._ariaLabelledByQueue.splice(e,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();let e=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),e}attachTemplatePortal(t){this._portalOutlet.hasAttached();let e=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),e}attachDomPortal=t=>{this._portalOutlet.hasAttached();let e=this._portalOutlet.attachDomPortal(t);return this._contentAttached(),e};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,e){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let n=()=>{s(),r(),t.removeAttribute("tabindex")},s=this._renderer.listen(t,"blur",n),r=this._renderer.listen(t,"mousedown",n)})),t.focus(e)}_focusByCssSelector(t,e){let n=this._elementRef.nativeElement.querySelector(t);n&&this._forceFocus(n,e)}_trapFocus(){this._isDestroyed||ft(()=>{let t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let t=this._config.restoreFocus,e=null;if(typeof t=="string"?e=this._document.querySelector(t):typeof t=="boolean"?e=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(e=t),this._config.restoreFocus&&e&&typeof e.focus=="function"){let n=St(),s=this._elementRef.nativeElement;(!n||n===this._document.body||n===s||s.contains(n))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let t=this._elementRef.nativeElement,e=St();return t===e||t.contains(e)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=St()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=S({type:o,selectors:[["cdk-dialog-container"]],viewQuery:function(e,n){if(e&1&&Ye(lt,7),e&2){let s;Ke(s=Xe())&&(n._portalOutlet=s.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,n){e&2&&B("id",n._config.id||null)("role",n._config.role)("aria-modal",n._config.ariaModal)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledByQueue[0])("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null)},features:[T],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,n){e&1&&E(0,An,0,0,"ng-template",0)},dependencies:[lt],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return o})(),dt=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new h;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(i,t){this.overlayRef=i,this.config=t,this.disableClose=t.disableClose,this.backdropClick=i.backdropClick(),this.keydownEvents=i.keydownEvents(),this.outsidePointerEvents=i.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(e=>{e.keyCode===27&&!this.disableClose&&!Et(e)&&(e.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=i.detachments().subscribe(()=>{t.closeOnOverlayDetachments!==!1&&this.close()})}close(i,t){if(this.containerInstance){let e=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),e.next(i),e.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(i="",t=""){return this.overlayRef.updateSize({width:i,height:t}),this}addPanelClass(i){return this.overlayRef.addPanelClass(i),this}removePanelClass(i){return this.overlayRef.removePanelClass(i),this}},Fn=new D("DialogScrollStrategy",{providedIn:"root",factory:()=>{let o=l(K);return()=>o.scrollStrategies.block()}}),Ln=new D("DialogData"),Mn=new D("DefaultDialogConfig");var De=(()=>{class o{_overlay=l(K);_injector=l(N);_defaultOptions=l(Mn,{optional:!0});_parentDialog=l(o,{optional:!0,skipSelf:!0});_overlayContainer=l(Mi);_idGenerator=l(V);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new h;_afterOpenedAtThisLevel=new h;_ariaHiddenElements=new Map;_scrollStrategy=l(Fn);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=gt(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(L(void 0)));constructor(){}open(t,e){let n=this._defaultOptions||new F;e=R(R({},n),e),e.id=e.id||this._idGenerator.getId("cdk-dialog-"),e.id&&this.getDialogById(e.id);let s=this._getOverlayConfig(e),r=this._overlay.create(s),a=new dt(r,e),c=this._attachContainer(r,a,e);return a.containerInstance=c,this._attachDialogContent(t,a,c,e),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){_e(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){_e(this._openDialogsAtThisLevel,t=>{t.config.closeOnDestroy===!1&&this._removeOpenDialog(t,!1)}),_e(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){let e=new Li({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachContainer(t,e,n){let s=n.injector||n.viewContainerRef?.injector,r=[{provide:F,useValue:n},{provide:dt,useValue:e},{provide:ge,useValue:t}],a;n.container?typeof n.container=="function"?a=n.container:(a=n.container.type,r.push(...n.container.providers(n))):a=ve;let c=new ue(a,n.viewContainerRef,N.create({parent:s||this._injector,providers:r}));return t.attach(c).instance}_attachDialogContent(t,e,n,s){if(t instanceof le){let r=this._createInjector(s,e,n,void 0),a={$implicit:s.data,dialogRef:e};s.templateContext&&(a=R(R({},a),typeof s.templateContext=="function"?s.templateContext():s.templateContext)),n.attachTemplatePortal(new Oi(t,null,a,r))}else{let r=this._createInjector(s,e,n,this._injector),a=n.attachComponentPortal(new ue(t,s.viewContainerRef,r));e.componentRef=a,e.componentInstance=a.instance}}_createInjector(t,e,n,s){let r=t.injector||t.viewContainerRef?.injector,a=[{provide:Ln,useValue:t.data},{provide:dt,useValue:e}];return t.providers&&(typeof t.providers=="function"?a.push(...t.providers(e,t,n)):a.push(...t.providers)),t.direction&&(!r||!r.get(Y,null,{optional:!0}))&&a.push({provide:Y,useValue:{value:t.direction,change:Ve()}}),N.create({parent:r||s,providers:a})}_removeOpenDialog(t,e){let n=this.openDialogs.indexOf(t);n>-1&&(this.openDialogs.splice(n,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,r)=>{s?r.setAttribute("aria-hidden",s):r.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),e&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let t=this._overlayContainer.getContainerElement();if(t.parentElement){let e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let s=e[n];s!==t&&s.nodeName!=="SCRIPT"&&s.nodeName!=="STYLE"&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(e){return new(e||o)};static \u0275prov=M({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function _e(o,i){let t=o.length;for(;t--;)i(o[t])}var Gi=(()=>{class o{static \u0275fac=function(e){return new(e||o)};static \u0275mod=Q({type:o});static \u0275inj=q({providers:[De],imports:[zt,ct,pi,ct]})}return o})();function Nn(o,i){}var Qt=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;componentFactoryResolver;enterAnimationDuration;exitAnimationDuration},be="mdc-dialog--open",zi="mdc-dialog--opening",ji="mdc-dialog--closing",Bn=150,Vn=75,Hn=(()=>{class o extends ve{_animationMode=l(qe,{optional:!0});_animationStateChanged=new C;_animationsEnabled=this._animationMode!=="NoopAnimations";_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?Wi(this._config.enterAnimationDuration)??Bn:0;_exitAnimationDuration=this._animationsEnabled?Wi(this._config.exitAnimationDuration)??Vn:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(qi,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(zi,be)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(be),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(be),this._animationsEnabled?(this._hostElement.style.setProperty(qi,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(ji)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(t){this._actionSectionCount+=t,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(zi,ji)}_waitForAnimationToComplete(t,e){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(e,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(t):t()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(t){let e=super.attachComponentPortal(t);return e.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),e}static \u0275fac=(()=>{let t;return function(n){return(t||(t=O(o)))(n||o)}})();static \u0275cmp=S({type:o,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(e,n){e&2&&(he("id",n._config.id),B("aria-modal",n._config.ariaModal)("role",n._config.role)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledByQueue[0])("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null),U("_mat-animation-noopable",!n._animationsEnabled)("mat-mdc-dialog-container-with-actions",n._actionSectionCount>0))},features:[T],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(e,n){e&1&&(m(0,"div",0)(1,"div",1),E(2,Nn,0,0,"ng-template",2),p()())},dependencies:[lt],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mdc-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return o})(),qi="--mat-dialog-transition-duration";function Wi(o){return o==null?null:typeof o=="number"?o:o.endsWith("ms")?$(o.substring(0,o.length-2)):o.endsWith("s")?$(o.substring(0,o.length-1))*1e3:o==="0"?0:null}var Wt=function(o){return o[o.OPEN=0]="OPEN",o[o.CLOSING=1]="CLOSING",o[o.CLOSED=2]="CLOSED",o}(Wt||{}),H=class{_ref;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new h;_beforeClosed=new h;_result;_closeFallbackTimeout;_state=Wt.OPEN;_closeInteractionType;constructor(i,t,e){this._ref=i,this._containerInstance=e,this.disableClose=t.disableClose,this.id=i.id,i.addPanelClass("mat-mdc-dialog-panel"),e._animationStateChanged.pipe(J(n=>n.state==="opened"),j(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(J(n=>n.state==="closed"),j(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),i.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),z(this.backdropClick(),this.keydownEvents().pipe(J(n=>n.keyCode===27&&!this.disableClose&&!Et(n)))).subscribe(n=>{this.disableClose||(n.preventDefault(),Qi(this,n.type==="keydown"?"keyboard":"mouse"))})}close(i){this._result=i,this._containerInstance._animationStateChanged.pipe(J(t=>t.state==="closing"),j(1)).subscribe(t=>{this._beforeClosed.next(i),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=Wt.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(i){let t=this._ref.config.positionStrategy;return i&&(i.left||i.right)?i.left?t.left(i.left):t.right(i.right):t.centerHorizontally(),i&&(i.top||i.bottom)?i.top?t.top(i.top):t.bottom(i.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(i="",t=""){return this._ref.updateSize(i,t),this}addPanelClass(i){return this._ref.addPanelClass(i),this}removePanelClass(i){return this._ref.removePanelClass(i),this}getState(){return this._state}_finishDialogClose(){this._state=Wt.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function Qi(o,i,t){return o._closeInteractionType=i,o.close(t)}var ye=new D("MatMdcDialogData"),Gn=new D("mat-mdc-dialog-default-options"),zn=new D("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let o=l(K);return()=>o.scrollStrategies.block()}});var pt=(()=>{class o{_overlay=l(K);_defaultOptions=l(Gn,{optional:!0});_scrollStrategy=l(zn);_parentDialog=l(o,{optional:!0,skipSelf:!0});_idGenerator=l(V);_dialog=l(De);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new h;_afterOpenedAtThisLevel=new h;dialogConfigClass=Qt;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=gt(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(L(void 0)));constructor(){this._dialogRefConstructor=H,this._dialogContainerType=Hn,this._dialogDataToken=ye}open(t,e){let n;e=R(R({},this._defaultOptions||new Qt),e),e.id=e.id||this._idGenerator.getId("mat-mdc-dialog-"),e.scrollStrategy=e.scrollStrategy||this._scrollStrategy();let s=this._dialog.open(t,Me(R({},e),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:e},{provide:F,useValue:e}]},templateContext:()=>({dialogRef:n}),providers:(r,a,c)=>(n=new this._dialogRefConstructor(r,e,c),n.updatePosition(e?.position),[{provide:this._dialogContainerType,useValue:c},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:n}])}));return n.componentRef=s.componentRef,n.componentInstance=s.componentInstance,this.openDialogs.push(n),this.afterOpened.next(n),n.afterClosed().subscribe(()=>{let r=this.openDialogs.indexOf(n);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||this._getAfterAllClosed().next())}),n}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}static \u0275fac=function(e){return new(e||o)};static \u0275prov=M({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Ui=(()=>{class o{dialogRef=l(H,{optional:!0});_elementRef=l(k);_dialog=l(pt);ariaLabel;type="button";dialogResult;_matDialogClose;constructor(){}ngOnInit(){this.dialogRef||(this.dialogRef=Xi(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){let e=t._matDialogClose||t._matDialogCloseResult;e&&(this.dialogResult=e.currentValue)}_onButtonClick(t){Qi(this.dialogRef,t.screenX===0&&t.screenY===0?"keyboard":"mouse",this.dialogResult)}static \u0275fac=function(e){return new(e||o)};static \u0275dir=P({type:o,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,n){e&1&&b("click",function(r){return n._onButtonClick(r)}),e&2&&B("aria-label",n.ariaLabel||null)("type",n.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[_t]})}return o})(),Zi=(()=>{class o{_dialogRef=l(H,{optional:!0});_elementRef=l(k);_dialog=l(pt);constructor(){}ngOnInit(){this._dialogRef||(this._dialogRef=Xi(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static \u0275fac=function(e){return new(e||o)};static \u0275dir=P({type:o})}return o})(),$i=(()=>{class o extends Zi{id=l(V).getId("mat-mdc-dialog-title-");_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static \u0275fac=(()=>{let t;return function(n){return(t||(t=O(o)))(n||o)}})();static \u0275dir=P({type:o,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(e,n){e&2&&he("id",n.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],features:[T]})}return o})(),Yi=(()=>{class o{static \u0275fac=function(e){return new(e||o)};static \u0275dir=P({type:o,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],features:[Ze([Si])]})}return o})(),Ki=(()=>{class o extends Zi{align;_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static \u0275fac=(()=>{let t;return function(n){return(t||(t=O(o)))(n||o)}})();static \u0275dir=P({type:o,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(e,n){e&2&&U("mat-mdc-dialog-actions-align-start",n.align==="start")("mat-mdc-dialog-actions-align-center",n.align==="center")("mat-mdc-dialog-actions-align-end",n.align==="end")},inputs:{align:"align"},features:[T]})}return o})();function Xi(o,i){let t=o.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-mdc-dialog-container");)t=t.parentElement;return t?i.find(e=>e.id===t.id):null}var Ut=(()=>{class o{static \u0275fac=function(e){return new(e||o)};static \u0275mod=Q({type:o});static \u0275inj=q({providers:[pt],imports:[Gi,zt,ct,me,me]})}return o})();function Zn(o,i){if(o&1&&(m(0,"mat-option",11),g(1),p()),o&2){let t=i.$implicit;f("value",t.value),_(),Je(" ",t.viewValue," ")}}function $n(o,i){o&1&&(m(0,"mat-error"),g(1," Option label is required. "),p())}var Ji=(()=>{class o{dialogRef;data;fb;optionForm;inputTypeControl=new Lt("checkbox");availableInputTypes=[{value:"text",viewValue:"Text Input"},{value:"checkbox",viewValue:"Checkbox"}];constructor(t,e,n){this.dialogRef=t,this.data=e,this.fb=n,this.optionForm=this.fb.group({label:["",Ot.required],inputType:["checkbox"]}),e&&e.option&&(this.optionForm.patchValue(e.option),this.inputTypeControl.setValue(e.option.inputType))}ngOnInit(){this.inputTypeControl.valueChanges.subscribe(t=>{this.optionForm.patchValue({inputType:t})})}onNoClick(){this.dialogRef.close()}onSaveClick(){this.optionForm.valid?this.dialogRef.close(this.optionForm.value):this.optionForm.markAllAsTouched()}getInputType(){return this.inputTypeControl.value}static \u0275fac=function(e){return new(e||o)(vt(H),vt(ye),vt(Vt))};static \u0275cmp=S({type:o,selectors:[["hls-option-dialog"]],decls:19,vars:5,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"pt-4",3,"formGroup"],[1,"w-full"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["matInput","","placeholder","Option Label","formControlName","label"],[4,"ngIf"],["mat-dialog-actions","","align","end"],["mat-button","","mat-dialog-close","",3,"click"],["mat-raised-button","","color","primary",3,"click"],[3,"value"]],template:function(e,n){if(e&1&&(m(0,"h1",0),g(1),p(),m(2,"div",1)(3,"form",2)(4,"mat-form-field",3)(5,"mat-label"),g(6,"Select Input Type"),p(),m(7,"mat-select",4),E(8,Zn,2,2,"mat-option",5),p()(),m(9,"mat-form-field",3)(10,"mat-label"),g(11,"Option Label"),p(),et(12,"input",6),E(13,$n,2,0,"mat-error",7),p()()(),m(14,"div",8)(15,"button",9),b("click",function(){return n.onNoClick()}),g(16,"Cancel"),p(),m(17,"button",10),b("click",function(){return n.onSaveClick()}),g(18," Save "),p()()),e&2){let s;_(),nt(n.data!=null&&n.data.isEdit?"Edit Option":"Add Option"),_(2),f("formGroup",n.optionForm),_(4),f("formControl",n.inputTypeControl),_(),f("ngForOf",n.availableInputTypes),_(5),f("ngIf",(s=n.optionForm.get("label"))==null?null:s.hasError("required"))}},dependencies:[Ht,Mt,kt,At,Ft,Di,Nt,Bt,Ut,Ui,$i,Ki,Yi,qt,jt,Tt,xt,Pt,Gt,Rt,It,Ct,Bi,Ni,mi,yt],encapsulation:2})}return o})();function fn(o){let i=o.cloneNode(!0),t=i.querySelectorAll("[id]"),e=o.nodeName.toLowerCase();i.removeAttribute("id");for(let n=0;n<t.length;n++)t[n].removeAttribute("id");return e==="canvas"?nn(o,i):(e==="input"||e==="select"||e==="textarea")&&en(o,i),tn("canvas",o,i,nn),tn("input, textarea, select",o,i,en),i}function tn(o,i,t,e){let n=i.querySelectorAll(o);if(n.length){let s=t.querySelectorAll(o);for(let r=0;r<n.length;r++)e(n[r],s[r])}}var Yn=0;function en(o,i){i.type!=="file"&&(i.value=o.value),i.type==="radio"&&i.name&&(i.name=`mat-clone-${i.name}-${Yn++}`)}function nn(o,i){let t=i.getContext("2d");if(t)try{t.drawImage(o,0,0)}catch{}}function Ie(o){let i=o.getBoundingClientRect();return{top:i.top,right:i.right,bottom:i.bottom,left:i.left,width:i.width,height:i.height,x:i.x,y:i.y}}function we(o,i,t){let{top:e,bottom:n,left:s,right:r}=o;return t>=e&&t<=n&&i>=s&&i<=r}function ut(o,i,t){o.top+=i,o.bottom=o.top+o.height,o.left+=t,o.right=o.left+o.width}function on(o,i,t,e){let{top:n,right:s,bottom:r,left:a,width:c,height:d}=o,u=c*i,y=d*i;return e>n-y&&e<r+y&&t>a-u&&t<s+u}var Yt=class{_document;positions=new Map;constructor(i){this._document=i}clear(){this.positions.clear()}cache(i){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),i.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:Ie(t)})})}handleScroll(i){let t=at(i),e=this.positions.get(t);if(!e)return null;let n=e.scrollPosition,s,r;if(t===this._document){let d=this.getViewportScrollPosition();s=d.top,r=d.left}else s=t.scrollTop,r=t.scrollLeft;let a=n.top-s,c=n.left-r;return this.positions.forEach((d,u)=>{d.clientRect&&t!==u&&t.contains(u)&&ut(d.clientRect,a,c)}),n.top=s,n.left=r,{top:a,left:c}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function vn(o,i){let t=o.rootNodes;if(t.length===1&&t[0].nodeType===i.ELEMENT_NODE)return t[0];let e=i.createElement("div");return t.forEach(n=>e.appendChild(n)),e}function Re(o,i,t){for(let e in i)if(i.hasOwnProperty(e)){let n=i[e];n?o.setProperty(e,n,t?.has(e)?"important":""):o.removeProperty(e)}return o}function X(o,i){let t=i?"":"none";Re(o.style,{"touch-action":i?"":"none","-webkit-user-drag":i?"":"none","-webkit-tap-highlight-color":i?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function sn(o,i,t){Re(o.style,{position:i?"":"fixed",top:i?"":"0",opacity:i?"":"0",left:i?"":"-999em"},t)}function Kt(o,i){return i&&i!="none"?o+" "+i:o}function rn(o,i){o.style.width=`${i.width}px`,o.style.height=`${i.height}px`,o.style.transform=Xt(i.left,i.top)}function Xt(o,i){return`translate3d(${Math.round(o)}px, ${Math.round(i)}px, 0)`}function an(o){let i=o.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(o)*i}function Kn(o){let i=getComputedStyle(o),t=Ce(i,"transition-property"),e=t.find(a=>a==="transform"||a==="all");if(!e)return 0;let n=t.indexOf(e),s=Ce(i,"transition-duration"),r=Ce(i,"transition-delay");return an(s[n])+an(r[n])}function Ce(o,i){return o.getPropertyValue(i).split(",").map(e=>e.trim())}var Xn=new Set(["position"]),Se=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(i,t,e,n,s,r,a,c,d,u){this._document=i,this._rootElement=t,this._direction=e,this._initialDomRect=n,this._previewTemplate=s,this._previewClass=r,this._pickupPositionOnPage=a,this._initialTransform=c,this._zIndex=d,this._renderer=u}attach(i){this._preview=this._createPreview(),i.appendChild(this._preview),ln(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(i){this._preview.style.transform=i}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(i){this._preview.classList.add(i)}getTransitionDuration(){return Kn(this._preview)}addEventListener(i,t){return this._renderer.listen(this._preview,i,t)}_createPreview(){let i=this._previewTemplate,t=this._previewClass,e=i?i.template:null,n;if(e&&i){let s=i.matchSize?this._initialDomRect:null,r=i.viewContainer.createEmbeddedView(e,i.context);r.detectChanges(),n=vn(r,this._document),this._previewEmbeddedView=r,i.matchSize?rn(n,s):n.style.transform=Xt(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else n=fn(this._rootElement),rn(n,this._initialDomRect),this._initialTransform&&(n.style.transform=this._initialTransform);return Re(n.style,{"pointer-events":"none",margin:ln(n)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},Xn),X(n,!1),n.classList.add("cdk-drag-preview"),n.setAttribute("popover","manual"),n.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(s=>n.classList.add(s)):n.classList.add(t)),n}};function ln(o){return"showPopover"in o}var cn=rt({passive:!0}),Zt=rt({passive:!1}),dn=rt({passive:!1,capture:!0}),Jn=800,hn=new Set(["position"]),Ee=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_anchor;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=ae(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new h;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=G.EMPTY;_pointerUpSubscription=G.EMPTY;_scrollSubscription=G.EMPTY;_resizeSubscription=G.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(i){i!==this._disabled&&(this._disabled=i,this._toggleNativeDragInteractions(),this._handles.forEach(t=>X(t,i)))}_disabled=!1;beforeStarted=new h;started=new h;released=new h;ended=new h;entered=new h;exited=new h;dropped=new h;moved=this._moveEvents;data;constrainPosition;constructor(i,t,e,n,s,r,a){this._config=t,this._document=e,this._ngZone=n,this._viewportRuler=s,this._dragDropRegistry=r,this._renderer=a,this.withRootElement(i).withParent(t.parentDragRef||null),this._parentPositions=new Yt(e),r.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(i){this._handles=i.map(e=>A(e)),this._handles.forEach(e=>X(e,this.disabled)),this._toggleNativeDragInteractions();let t=new Set;return this._disabledHandles.forEach(e=>{this._handles.indexOf(e)>-1&&t.add(e)}),this._disabledHandles=t,this}withPreviewTemplate(i){return this._previewTemplate=i,this}withPlaceholderTemplate(i){return this._placeholderTemplate=i,this}withRootElement(i){let t=A(i);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,Zt),t.addEventListener("touchstart",this._pointerDown,cn),t.addEventListener("dragstart",this._nativeDragStart,Zt)}),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(i){return this._boundaryElement=i?A(i):null,this._resizeSubscription.unsubscribe(),i&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(i){return this._parentDragRef=i,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(i){!this._disabledHandles.has(i)&&this._handles.indexOf(i)>-1&&(this._disabledHandles.add(i),X(i,!0))}enableHandle(i){this._disabledHandles.has(i)&&(this._disabledHandles.delete(i),X(i,this.disabled))}withDirection(i){return this._direction=i,this}_withDropContainer(i){this._dropContainer=i}getFreeDragPosition(){let i=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:i.x,y:i.y}}setFreeDragPosition(i){return this._activeTransform={x:0,y:0},this._passiveTransform.x=i.x,this._passiveTransform.y=i.y,this._dropContainer||this._applyRootElementTransform(i.x,i.y),this}withPreviewContainer(i){return this._previewContainer=i,this}_sortFromLastPointerPosition(){let i=this._lastKnownPointerPosition;i&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(i),i)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",mn,dn)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_pointerDown=i=>{if(this.beforeStarted.next(),this._handles.length){let t=this._getTargetHandle(i);t&&!this._disabledHandles.has(t)&&!this.disabled&&this._initializeDragSequence(t,i)}else this.disabled||this._initializeDragSequence(this._rootElement,i)};_pointerMove=i=>{let t=this._getPointerPositionOnPage(i);if(!this._hasStartedDragging()){let n=Math.abs(t.x-this._pickupPositionOnPage.x),s=Math.abs(t.y-this._pickupPositionOnPage.y);if(n+s>=this._config.dragStartThreshold){let a=Date.now()>=this._dragStartTime+this._getDragStartDelay(i),c=this._dropContainer;if(!a){this._endDragSequence(i);return}(!c||!c.isDragging()&&!c.isReceiving())&&(i.cancelable&&i.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(i)))}return}i.cancelable&&i.preventDefault();let e=this._getConstrainedPointerPosition(t);if(this._hasMoved=!0,this._lastKnownPointerPosition=t,this._updatePointerDirectionDelta(e),this._dropContainer)this._updateActiveDropContainer(e,t);else{let n=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,s=this._activeTransform;s.x=e.x-n.x+this._passiveTransform.x,s.y=e.y-n.y+this._passiveTransform.y,this._applyRootElementTransform(s.x,s.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:e,event:i,distance:this._getDragDistance(e),delta:this._pointerDirectionDelta})})};_pointerUp=i=>{this._endDragSequence(i)};_endDragSequence(i){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:i}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(i),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let t=this._getPointerPositionOnPage(i);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:i})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(i){mt(i)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let t=this._getShadowRoot(),e=this._dropContainer;if(t&&this._ngZone.runOutsideAngular(()=>{t.addEventListener("selectstart",mn,dn)}),e){let n=this._rootElement,s=n.parentNode,r=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment("");s.insertBefore(a,n),this._initialTransform=n.style.transform||"",this._preview=new Se(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(s,t)),sn(n,!1,hn),this._document.body.appendChild(s.replaceChild(r,n)),this.started.next({source:this,event:i}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this,event:i}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(i,t){this._parentDragRef&&t.stopPropagation();let e=this.isDragging(),n=mt(t),s=!n&&t.button!==0,r=this._rootElement,a=at(t),c=!n&&this._lastTouchEventTime&&this._lastTouchEventTime+Jn>Date.now(),d=n?di(t):ci(t);if(a&&a.draggable&&t.type==="mousedown"&&t.preventDefault(),e||s||c||d)return;if(this._handles.length){let I=r.style;this._rootElementTapHighlight=I.webkitTapHighlightColor||"",I.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(I=>this._updateOnScroll(I)),this._boundaryElement&&(this._boundaryRect=Ie(this._boundaryElement));let u=this._previewTemplate;this._pickupPositionInElement=u&&u.template&&!u.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,i,t);let y=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:y.x,y:y.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(i){sn(this._rootElement,!0,hn),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let t=this._dropContainer,e=t.getItemIndex(this),n=this._getPointerPositionOnPage(i),s=this._getDragDistance(n),r=t._isOverContainer(n.x,n.y);this.ended.next({source:this,distance:s,dropPoint:n,event:i}),this.dropped.next({item:this,currentIndex:e,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:r,distance:s,dropPoint:n,event:i}),t.drop(this,e,this._initialIndex,this._initialContainer,r,s,n,i),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:i,y:t},{x:e,y:n}){let s=this._initialContainer._getSiblingContainerFromPosition(this,i,t);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(i,t)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,i,t,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(e,n),this._dropContainer._sortItem(this,i,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(i,t):this._applyPreviewTransform(i-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let i=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(i.left,i.top);let t=this._preview.getTransitionDuration();return t===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(e=>{let n=a=>{(!a||this._preview&&at(a)===this._preview.element&&a.propertyName==="transform")&&(r(),e(),clearTimeout(s))},s=setTimeout(n,t*1.5),r=this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){let i=this._placeholderTemplate,t=i?i.template:null,e;return t?(this._placeholderRef=i.viewContainer.createEmbeddedView(t,i.context),this._placeholderRef.detectChanges(),e=vn(this._placeholderRef,this._document)):e=fn(this._rootElement),e.style.pointerEvents="none",e.classList.add("cdk-drag-placeholder"),e}_getPointerPositionInElement(i,t,e){let n=t===this._rootElement?null:t,s=n?n.getBoundingClientRect():i,r=mt(e)?e.targetTouches[0]:e,a=this._getViewportScrollPosition(),c=r.pageX-s.left-a.left,d=r.pageY-s.top-a.top;return{x:s.left-i.left+c,y:s.top-i.top+d}}_getPointerPositionOnPage(i){let t=this._getViewportScrollPosition(),e=mt(i)?i.touches[0]||i.changedTouches[0]||{pageX:0,pageY:0}:i,n=e.pageX-t.left,s=e.pageY-t.top;if(this._ownerSVGElement){let r=this._ownerSVGElement.getScreenCTM();if(r){let a=this._ownerSVGElement.createSVGPoint();return a.x=n,a.y=s,a.matrixTransform(r.inverse())}}return{x:n,y:s}}_getConstrainedPointerPosition(i){let t=this._dropContainer?this._dropContainer.lockAxis:null,{x:e,y:n}=this.constrainPosition?this.constrainPosition(i,this,this._initialDomRect,this._pickupPositionInElement):i;if(this.lockAxis==="x"||t==="x"?n=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||t==="y")&&(e=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:s,y:r}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:c,height:d}=this._getPreviewRect(),u=a.top+r,y=a.bottom-(d-r),I=a.left+s,ee=a.right-(c-s);e=pn(e,I,ee),n=pn(n,u,y)}return{x:e,y:n}}_updatePointerDirectionDelta(i){let{x:t,y:e}=i,n=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,r=Math.abs(t-s.x),a=Math.abs(e-s.y);return r>this._config.pointerDirectionChangeThreshold&&(n.x=t>s.x?1:-1,s.x=t),a>this._config.pointerDirectionChangeThreshold&&(n.y=e>s.y?1:-1,s.y=e),n}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let i=this._handles.length>0||!this.isDragging();i!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=i,X(this._rootElement,i))}_removeRootElementListeners(i){i.removeEventListener("mousedown",this._pointerDown,Zt),i.removeEventListener("touchstart",this._pointerDown,cn),i.removeEventListener("dragstart",this._nativeDragStart,Zt)}_applyRootElementTransform(i,t){let e=1/this.scale,n=Xt(i*e,t*e),s=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=s.transform&&s.transform!="none"?s.transform:""),s.transform=Kt(n,this._initialTransform)}_applyPreviewTransform(i,t){let e=this._previewTemplate?.template?void 0:this._initialTransform,n=Xt(i,t);this._preview.setTransform(Kt(n,e))}_getDragDistance(i){let t=this._pickupPositionOnPage;return t?{x:i.x-t.x,y:i.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:i,y:t}=this._passiveTransform;if(i===0&&t===0||this.isDragging()||!this._boundaryElement)return;let e=this._rootElement.getBoundingClientRect(),n=this._boundaryElement.getBoundingClientRect();if(n.width===0&&n.height===0||e.width===0&&e.height===0)return;let s=n.left-e.left,r=e.right-n.right,a=n.top-e.top,c=e.bottom-n.bottom;n.width>e.width?(s>0&&(i+=s),r>0&&(i-=r)):i=0,n.height>e.height?(a>0&&(t+=a),c>0&&(t-=c)):t=0,(i!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:i})}_getDragStartDelay(i){let t=this.dragStartDelay;return typeof t=="number"?t:mt(i)?t.touch:t?t.mouse:0}_updateOnScroll(i){let t=this._parentPositions.handleScroll(i);if(t){let e=at(i);this._boundaryRect&&e!==this._boundaryElement&&e.contains(this._boundaryElement)&&ut(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=wt(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(i,t){let e=this._previewContainer||"global";if(e==="parent")return i;if(e==="global"){let n=this._document;return t||n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement||n.body}return A(e)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=i=>{if(this._handles.length){let t=this._getTargetHandle(i);t&&!this._disabledHandles.has(t)&&!this.disabled&&i.preventDefault()}else this.disabled||i.preventDefault()};_getTargetHandle(i){return this._handles.find(t=>i.target&&(i.target===t||t.contains(i.target)))}};function pn(o,i,t){return Math.max(i,Math.min(t,o))}function mt(o){return o.type[0]==="t"}function mn(o){o.preventDefault()}function te(o,i,t){let e=un(i,o.length-1),n=un(t,o.length-1);if(e===n)return;let s=o[e],r=n<e?-1:1;for(let a=e;a!==n;a+=r)o[a]=o[a+r];o[n]=s}function un(o,i){return Math.max(0,Math.min(i,o))}var Jt=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(i){this._dragDropRegistry=i}_previousSwap={drag:null,delta:0,overlaps:!1};start(i){this.withItems(i)}sort(i,t,e,n){let s=this._itemPositions,r=this._getItemIndexFromPointerPosition(i,t,e,n);if(r===-1&&s.length>0)return null;let a=this.orientation==="horizontal",c=s.findIndex(w=>w.drag===i),d=s[r],u=s[c].clientRect,y=d.clientRect,I=c>r?1:-1,ee=this._getItemOffsetPx(u,y,I),Rn=this._getSiblingOffsetPx(c,s,I),kn=s.slice();return te(s,c,r),s.forEach((w,On)=>{if(kn[On]===w)return;let Ae=w.drag===i,ie=Ae?ee:Rn,Fe=Ae?i.getPlaceholderElement():w.drag.getRootElement();w.offset+=ie;let Le=Math.round(w.offset*(1/w.drag.scale));a?(Fe.style.transform=Kt(`translate3d(${Le}px, 0, 0)`,w.initialTransform),ut(w.clientRect,0,ie)):(Fe.style.transform=Kt(`translate3d(0, ${Le}px, 0)`,w.initialTransform),ut(w.clientRect,ie,0))}),this._previousSwap.overlaps=we(y,t,e),this._previousSwap.drag=d.drag,this._previousSwap.delta=a?n.x:n.y,{previousIndex:c,currentIndex:r}}enter(i,t,e,n){let s=n==null||n<0?this._getItemIndexFromPointerPosition(i,t,e):n,r=this._activeDraggables,a=r.indexOf(i),c=i.getPlaceholderElement(),d=r[s];if(d===i&&(d=r[s+1]),!d&&(s==null||s===-1||s<r.length-1)&&this._shouldEnterAsFirstChild(t,e)&&(d=r[0]),a>-1&&r.splice(a,1),d&&!this._dragDropRegistry.isDragging(d)){let u=d.getRootElement();u.parentElement.insertBefore(c,u),r.splice(s,0,i)}else this._element.appendChild(c),r.push(i);c.style.transform="",this._cacheItemPositions()}withItems(i){this._activeDraggables=i.slice(),this._cacheItemPositions()}withSortPredicate(i){this._sortPredicate=i}reset(){this._activeDraggables?.forEach(i=>{let t=i.getRootElement();if(t){let e=this._itemPositions.find(n=>n.drag===i)?.initialTransform;t.style.transform=e||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(i){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(e=>e.drag===i)}updateOnScroll(i,t){this._itemPositions.forEach(({clientRect:e})=>{ut(e,i,t)}),this._itemPositions.forEach(({drag:e})=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()})}withElementContainer(i){this._element=i}_cacheItemPositions(){let i=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(t=>{let e=t.getVisibleElement();return{drag:t,offset:0,initialTransform:e.style.transform||"",clientRect:Ie(e)}}).sort((t,e)=>i?t.clientRect.left-e.clientRect.left:t.clientRect.top-e.clientRect.top)}_getItemOffsetPx(i,t,e){let n=this.orientation==="horizontal",s=n?t.left-i.left:t.top-i.top;return e===-1&&(s+=n?t.width-i.width:t.height-i.height),s}_getSiblingOffsetPx(i,t,e){let n=this.orientation==="horizontal",s=t[i].clientRect,r=t[i+e*-1],a=s[n?"width":"height"]*e;if(r){let c=n?"left":"top",d=n?"right":"bottom";e===-1?a-=r.clientRect[c]-s[d]:a+=s[c]-r.clientRect[d]}return a}_shouldEnterAsFirstChild(i,t){if(!this._activeDraggables.length)return!1;let e=this._itemPositions,n=this.orientation==="horizontal";if(e[0].drag!==this._activeDraggables[0]){let r=e[e.length-1].clientRect;return n?i>=r.right:t>=r.bottom}else{let r=e[0].clientRect;return n?i<=r.left:t<=r.top}}_getItemIndexFromPointerPosition(i,t,e,n){let s=this.orientation==="horizontal",r=this._itemPositions.findIndex(({drag:a,clientRect:c})=>{if(a===i)return!1;if(n){let d=s?n.x:n.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&d===this._previousSwap.delta)return!1}return s?t>=Math.floor(c.left)&&t<Math.floor(c.right):e>=Math.floor(c.top)&&e<Math.floor(c.bottom)});return r===-1||!this._sortPredicate(r,i)?-1:r}},xe=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(i,t){this._document=i,this._dragDropRegistry=t}start(i){let t=this._element.childNodes;this._relatedNodes=[];for(let e=0;e<t.length;e++){let n=t[e];this._relatedNodes.push([n,n.nextSibling])}this.withItems(i)}sort(i,t,e,n){let s=this._getItemIndexFromPointerPosition(i,t,e),r=this._previousSwap;if(s===-1||this._activeItems[s]===i)return null;let a=this._activeItems[s];if(r.drag===a&&r.overlaps&&r.deltaX===n.x&&r.deltaY===n.y)return null;let c=this.getItemIndex(i),d=i.getPlaceholderElement(),u=a.getRootElement();s>c?u.after(d):u.before(d),te(this._activeItems,c,s);let y=this._getRootNode().elementFromPoint(t,e);return r.deltaX=n.x,r.deltaY=n.y,r.drag=a,r.overlaps=u===y||u.contains(y),{previousIndex:c,currentIndex:s}}enter(i,t,e,n){let s=n==null||n<0?this._getItemIndexFromPointerPosition(i,t,e):n;s===-1&&(s=this._getClosestItemIndexToPointer(i,t,e));let r=this._activeItems[s],a=this._activeItems.indexOf(i);a>-1&&this._activeItems.splice(a,1),r&&!this._dragDropRegistry.isDragging(r)?(this._activeItems.splice(s,0,i),r.getRootElement().before(i.getPlaceholderElement())):(this._activeItems.push(i),this._element.appendChild(i.getPlaceholderElement()))}withItems(i){this._activeItems=i.slice()}withSortPredicate(i){this._sortPredicate=i}reset(){let i=this._element,t=this._previousSwap;for(let e=this._relatedNodes.length-1;e>-1;e--){let[n,s]=this._relatedNodes[e];n.parentNode===i&&n.nextSibling!==s&&(s===null?i.appendChild(n):s.parentNode===i&&i.insertBefore(n,s))}this._relatedNodes=[],this._activeItems=[],t.drag=null,t.deltaX=t.deltaY=0,t.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(i){return this._activeItems.indexOf(i)}updateOnScroll(){this._activeItems.forEach(i=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}withElementContainer(i){i!==this._element&&(this._element=i,this._rootNode=void 0)}_getItemIndexFromPointerPosition(i,t,e){let n=this._getRootNode().elementFromPoint(Math.floor(t),Math.floor(e)),s=n?this._activeItems.findIndex(r=>{let a=r.getRootElement();return n===a||a.contains(n)}):-1;return s===-1||!this._sortPredicate(s,i)?-1:s}_getRootNode(){return this._rootNode||(this._rootNode=wt(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(i,t,e){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let n=1/0,s=-1;for(let r=0;r<this._activeItems.length;r++){let a=this._activeItems[r];if(a!==i){let{x:c,y:d}=a.getRootElement().getBoundingClientRect(),u=Math.hypot(t-c,e-d);u<n&&(n=u,s=r)}}return s}},gn=.05,Dn=.05,x=function(o){return o[o.NONE=0]="NONE",o[o.UP=1]="UP",o[o.DOWN=2]="DOWN",o}(x||{}),v=function(o){return o[o.NONE=0]="NONE",o[o.LEFT=1]="LEFT",o[o.RIGHT=2]="RIGHT",o}(v||{}),Pe=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis;autoScrollDisabled=!1;autoScrollStep=2;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new h;entered=new h;exited=new h;dropped=new h;sorted=new h;receivingStarted=new h;receivingStopped=new h;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=G.EMPTY;_verticalScrollDirection=x.NONE;_horizontalScrollDirection=v.NONE;_scrollNode;_stopScrollTimers=new h;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(i,t,e,n,s){this._dragDropRegistry=t,this._ngZone=n,this._viewportRuler=s;let r=this.element=A(i);this._document=e,this.withOrientation("vertical").withElementContainer(r),t.registerDropContainer(this),this._parentPositions=new Yt(e)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(i,t,e,n){this._draggingStarted(),n==null&&this.sortingDisabled&&(n=this._draggables.indexOf(i)),this._sortStrategy.enter(i,t,e,n),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:i,container:this,currentIndex:this.getItemIndex(i)})}exit(i){this._reset(),this.exited.next({item:i,container:this})}drop(i,t,e,n,s,r,a,c={}){this._reset(),this.dropped.next({item:i,currentIndex:t,previousIndex:e,container:this,previousContainer:n,isPointerOverContainer:s,distance:r,dropPoint:a,event:c})}withItems(i){let t=this._draggables;return this._draggables=i,i.forEach(e=>e._withDropContainer(this)),this.isDragging()&&(t.filter(n=>n.isDragging()).every(n=>i.indexOf(n)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(i){return this._direction=i,this._sortStrategy instanceof Jt&&(this._sortStrategy.direction=i),this}connectedTo(i){return this._siblings=i.slice(),this}withOrientation(i){if(i==="mixed")this._sortStrategy=new xe(this._document,this._dragDropRegistry);else{let t=new Jt(this._dragDropRegistry);t.direction=this._direction,t.orientation=i,this._sortStrategy=t}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((t,e)=>this.sortPredicate(t,e,this)),this}withScrollableParents(i){let t=this._container;return this._scrollableElements=i.indexOf(t)===-1?[t,...i]:i.slice(),this}withElementContainer(i){if(i===this._container)return this;let t=A(this.element),e=this._scrollableElements.indexOf(this._container),n=this._scrollableElements.indexOf(i);return e>-1&&this._scrollableElements.splice(e,1),n>-1&&this._scrollableElements.splice(n,1),this._sortStrategy&&this._sortStrategy.withElementContainer(i),this._cachedShadowRoot=null,this._scrollableElements.unshift(i),this._container=i,this}getScrollableParents(){return this._scrollableElements}getItemIndex(i){return this._isDragging?this._sortStrategy.getItemIndex(i):this._draggables.indexOf(i)}isReceiving(){return this._activeSiblings.size>0}_sortItem(i,t,e,n){if(this.sortingDisabled||!this._domRect||!on(this._domRect,gn,t,e))return;let s=this._sortStrategy.sort(i,t,e,n);s&&this.sorted.next({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:i})}_startScrollingIfNecessary(i,t){if(this.autoScrollDisabled)return;let e,n=x.NONE,s=v.NONE;if(this._parentPositions.positions.forEach((r,a)=>{a===this._document||!r.clientRect||e||on(r.clientRect,gn,i,t)&&([n,s]=to(a,r.clientRect,this._direction,i,t),(n||s)&&(e=a))}),!n&&!s){let{width:r,height:a}=this._viewportRuler.getViewportSize(),c={width:r,height:a,top:0,right:r,bottom:a,left:0};n=bn(c,t),s=yn(c,i),e=window}e&&(n!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||e!==this._scrollNode)&&(this._verticalScrollDirection=n,this._horizontalScrollDirection=s,this._scrollNode=e,(n||s)&&e?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let i=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=i.msScrollSnapType||i.scrollSnapType||"",i.scrollSnapType=i.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let i=this._container.style;i.scrollSnapType=i.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),Ge(0,Be).pipe(tt(this._stopScrollTimers)).subscribe(()=>{let i=this._scrollNode,t=this.autoScrollStep;this._verticalScrollDirection===x.UP?i.scrollBy(0,-t):this._verticalScrollDirection===x.DOWN&&i.scrollBy(0,t),this._horizontalScrollDirection===v.LEFT?i.scrollBy(-t,0):this._horizontalScrollDirection===v.RIGHT&&i.scrollBy(t,0)})};_isOverContainer(i,t){return this._domRect!=null&&we(this._domRect,i,t)}_getSiblingContainerFromPosition(i,t,e){return this._siblings.find(n=>n._canReceive(i,t,e))}_canReceive(i,t,e){if(!this._domRect||!we(this._domRect,t,e)||!this.enterPredicate(i,this))return!1;let n=this._getShadowRoot().elementFromPoint(t,e);return n?n===this._container||this._container.contains(n):!1}_startReceiving(i,t){let e=this._activeSiblings;!e.has(i)&&t.every(n=>this.enterPredicate(n,this)||this._draggables.indexOf(n)>-1)&&(e.add(i),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:i,receiver:this,items:t}))}_stopReceiving(i){this._activeSiblings.delete(i),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:i,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(i=>{if(this.isDragging()){let t=this._parentPositions.handleScroll(i);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let i=wt(this._container);this._cachedShadowRoot=i||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let i=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,i))}};function bn(o,i){let{top:t,bottom:e,height:n}=o,s=n*Dn;return i>=t-s&&i<=t+s?x.UP:i>=e-s&&i<=e+s?x.DOWN:x.NONE}function yn(o,i){let{left:t,right:e,width:n}=o,s=n*Dn;return i>=t-s&&i<=t+s?v.LEFT:i>=e-s&&i<=e+s?v.RIGHT:v.NONE}function to(o,i,t,e,n){let s=bn(i,n),r=yn(i,e),a=x.NONE,c=v.NONE;if(s){let d=o.scrollTop;s===x.UP?d>0&&(a=x.UP):o.scrollHeight-d>o.clientHeight&&(a=x.DOWN)}if(r){let d=o.scrollLeft;t==="rtl"?r===v.RIGHT?d<0&&(c=v.RIGHT):o.scrollWidth+d>o.clientWidth&&(c=v.LEFT):r===v.LEFT?d>0&&(c=v.LEFT):o.scrollWidth-d>o.clientWidth&&(c=v.RIGHT)}return[a,c]}var $t=rt({passive:!1,capture:!0}),eo=(()=>{class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=S({type:o,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(e,n){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}"],encapsulation:2,changeDetection:0})}return o})(),ke=(()=>{class o{_ngZone=l(W);_document=l(st);_styleLoader=l(si);_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=ae([]);_globalListeners=new Map;_draggingPredicate=t=>t.isDragging();_domNodesToDirectives=null;pointerMove=new h;pointerUp=new h;scroll=new h;constructor(){}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,$t)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),this._dragInstances.size===0&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,$t)}startDragging(t,e){if(!(this._activeDragInstances().indexOf(t)>-1)&&(this._styleLoader.load(eo),this._activeDragInstances.update(n=>[...n,t]),this._activeDragInstances().length===1)){let n=e.type.startsWith("touch"),s={handler:r=>this.pointerUp.next(r),options:!0};n?(this._globalListeners.set("touchend",s),this._globalListeners.set("touchcancel",s)):this._globalListeners.set("mouseup",s),this._globalListeners.set("scroll",{handler:r=>this.scroll.next(r),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:$t}),n||this._globalListeners.set("mousemove",{handler:r=>this.pointerMove.next(r),options:$t}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((r,a)=>{this._document.addEventListener(a,r.handler,r.options)})})}}stopDragging(t){this._activeDragInstances.update(e=>{let n=e.indexOf(t);return n>-1?(e.splice(n,1),[...e]):e}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances().indexOf(t)>-1}scrolled(t){let e=[this.scroll];return t&&t!==this._document&&e.push(new ne(n=>this._ngZone.runOutsideAngular(()=>{let r=a=>{this._activeDragInstances().length&&n.next(a)};return t.addEventListener("scroll",r,!0),()=>{t.removeEventListener("scroll",r,!0)}}))),z(...e)}registerDirectiveNode(t,e){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(t,e)}removeDirectiveNode(t){this._domNodesToDirectives?.delete(t)}getDragDirectiveForNode(t){return this._domNodesToDirectives?.get(t)||null}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=t=>{this._activeDragInstances().length>0&&t.preventDefault()};_persistentTouchmoveListener=t=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&t.preventDefault(),this.pointerMove.next(t))};_clearGlobalListeners(){this._globalListeners.forEach((t,e)=>{this._document.removeEventListener(e,t.handler,t.options)}),this._globalListeners.clear()}static \u0275fac=function(e){return new(e||o)};static \u0275prov=M({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),io={dragStartThreshold:5,pointerDirectionChangeThreshold:5},Oe=(()=>{class o{_document=l(st);_ngZone=l(W);_viewportRuler=l(Ei);_dragDropRegistry=l(ke);_renderer=l(We).createRenderer(null,null);constructor(){}createDrag(t,e=io){return new Ee(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(t){return new Pe(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(e){return new(e||o)};static \u0275prov=M({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Te=new D("CDK_DRAG_PARENT");var Cn=new D("CdkDragHandle"),wn=(()=>{class o{element=l(k);_parentDrag=l(Te,{optional:!0,skipSelf:!0});_dragDropRegistry=l(ke);_stateChanges=new h;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._stateChanges.next(this)}_disabled=!1;constructor(){this._parentDrag?._addHandle(this)}ngAfterViewInit(){if(!this._parentDrag){let t=this.element.nativeElement.parentElement;for(;t;){let e=this._dragDropRegistry.getDragDirectiveForNode(t);if(e){this._parentDrag=e,e._addHandle(this);break}t=t.parentElement}}}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static \u0275fac=function(e){return new(e||o)};static \u0275dir=P({type:o,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",Z]},features:[bt([{provide:Cn,useExisting:o}]),Dt]})}return o})(),Sn=new D("CDK_DRAG_CONFIG"),En=new D("CdkDropList"),xn=(()=>{class o{element=l(k);dropContainer=l(En,{optional:!0,skipSelf:!0});_ngZone=l(W);_viewContainerRef=l(Ue);_dir=l(Y,{optional:!0});_changeDetectorRef=l(ot);_selfHandle=l(Cn,{optional:!0,self:!0});_parentDrag=l(Te,{optional:!0,skipSelf:!0});_dragDropRegistry=l(ke);_destroyed=new h;_handles=new Ne([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(t){this._disabled=t,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new C;released=new C;ended=new C;entered=new C;exited=new C;dropped=new C;moved=new ne(t=>{let e=this._dragRef.moved.pipe(He(n=>({source:this,pointerPosition:n.pointerPosition,event:n.event,delta:n.delta,distance:n.distance}))).subscribe(t);return()=>{e.unsubscribe()}});_injector=l(N);constructor(){let t=this.dropContainer,e=l(Sn,{optional:!0}),n=l(Oe);this._dragRef=n.createDrag(this.element,{dragStartThreshold:e&&e.dragStartThreshold!=null?e.dragStartThreshold:5,pointerDirectionChangeThreshold:e&&e.pointerDirectionChangeThreshold!=null?e.pointerDirectionChangeThreshold:5,zIndex:e?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),e&&this._assignDefaults(e),t&&(this._dragRef._withDropContainer(t._dropListRef),t.addItem(this),t._dropListRef.beforeStarted.pipe(tt(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){ft(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(t){let e=t.rootElementSelector,n=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(t){let e=this._handles.getValue();e.push(t),this._handles.next(e)}_removeHandle(t){let e=this._handles.getValue(),n=e.indexOf(t);n>-1&&(e.splice(n,1),this._handles.next(e))}_setPreviewTemplate(t){this._previewTemplate=t}_resetPreviewTemplate(t){t===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(t){this._placeholderTemplate=t}_resetPlaceholderTemplate(t){t===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let t=this.element.nativeElement,e=t;this.rootElementSelector&&(e=t.closest!==void 0?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(e||t)}_getBoundaryElement(){let t=this.boundaryElement;return t?typeof t=="string"?this.element.nativeElement.closest(t):A(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){let e=this._dir,n=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,r=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.scale=this.scale,t.dragStartDelay=typeof n=="object"&&n?n:$(n),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(r).withPreviewContainer(this.previewContainer||"global"),e&&t.withDirection(e.value)}}),t.beforeStarted.pipe(j(1)).subscribe(()=>{if(this._parentDrag){t.withParent(this._parentDrag._dragRef);return}let e=this.element.nativeElement.parentElement;for(;e;){let n=this._dragDropRegistry.getDragDirectiveForNode(e);if(n){t.withParent(n._dragRef);break}e=e.parentElement}})}_handleEvents(t){t.started.subscribe(e=>{this.started.emit({source:this,event:e.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(e=>{this.released.emit({source:this,event:e.event})}),t.ended.subscribe(e=>{this.ended.emit({source:this,distance:e.distance,dropPoint:e.dropPoint,event:e.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(e=>{this.entered.emit({container:e.container.data,item:this,currentIndex:e.currentIndex})}),t.exited.subscribe(e=>{this.exited.emit({container:e.container.data,item:this})}),t.dropped.subscribe(e=>{this.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,isPointerOverContainer:e.isPointerOverContainer,item:this,distance:e.distance,dropPoint:e.dropPoint,event:e.event})})}_assignDefaults(t){let{lockAxis:e,dragStartDelay:n,constrainPosition:s,previewClass:r,boundaryElement:a,draggingDisabled:c,rootElementSelector:d,previewContainer:u}=t;this.disabled=c??!1,this.dragStartDelay=n||0,e&&(this.lockAxis=e),s&&(this.constrainPosition=s),r&&(this.previewClass=r),a&&(this.boundaryElement=a),d&&(this.rootElementSelector=d),u&&(this.previewContainer=u)}_setupHandlesListener(){this._handles.pipe(je(t=>{let e=t.map(n=>n.element);this._selfHandle&&this.rootElementSelector&&e.push(this.element),this._dragRef.withHandles(e)}),ze(t=>z(...t.map(e=>e._stateChanges.pipe(L(e))))),tt(this._destroyed)).subscribe(t=>{let e=this._dragRef,n=t.element.nativeElement;t.disabled?e.disableHandle(n):e.enableHandle(n)})}static \u0275fac=function(e){return new(e||o)};static \u0275dir=P({type:o,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,n){e&2&&U("cdk-drag-disabled",n.disabled)("cdk-drag-dragging",n._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",Z],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",ii]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[bt([{provide:Te,useExisting:o}]),Dt,_t]})}return o})(),_n=new D("CdkDropListGroup");var Pn=(()=>{class o{element=l(k);_changeDetectorRef=l(ot);_scrollDispatcher=l(wi);_dir=l(Y,{optional:!0});_group=l(_n,{optional:!0,skipSelf:!0});_destroyed=new h;_scrollableParentsResolved;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation;id=l(V).getId("cdk-drop-list-");lockAxis;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=t}_disabled;sortingDisabled;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled;autoScrollStep;elementContainerSelector;dropped=new C;entered=new C;exited=new C;sorted=new C;_unsortedItems=new Set;constructor(){let t=l(Oe),e=l(Sn,{optional:!0});this._dropListRef=t.createDropList(this.element),this._dropListRef.data=this,e&&this._assignDefaults(e),this._dropListRef.enterPredicate=(n,s)=>this.enterPredicate(n.data,s.data),this._dropListRef.sortPredicate=(n,s,r)=>this.sortPredicate(n,s.data,r.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),o._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,e)=>t._dragRef.getVisibleElement().compareDocumentPosition(e._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let t=o._dropLists.indexOf(this);t>-1&&o._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe(L(this._dir.value),tt(this._destroyed)).subscribe(e=>t.withDirection(e)),t.beforeStarted.subscribe(()=>{let e=ri(this.connectedTo).map(n=>{if(typeof n=="string"){let s=o._dropLists.find(r=>r.id===n);return s}return n});if(this._group&&this._group._items.forEach(n=>{e.indexOf(n)===-1&&e.push(n)}),!this._scrollableParentsResolved){let n=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(s=>s.getElementRef().nativeElement);this._dropListRef.withScrollableParents(n),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){let n=this.element.nativeElement.querySelector(this.elementContainerSelector);t.withElementContainer(n)}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=this.sortingDisabled,t.autoScrollDisabled=this.autoScrollDisabled,t.autoScrollStep=$(this.autoScrollStep,2),t.connectedTo(e.filter(n=>n&&n!==this).map(n=>n._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(e=>{this.entered.emit({container:this,item:e.item.data,currentIndex:e.currentIndex})}),t.exited.subscribe(e=>{this.exited.emit({container:this,item:e.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(e=>{this.sorted.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,container:this,item:e.item.data})}),t.dropped.subscribe(e=>{this.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,item:e.item.data,isPointerOverContainer:e.isPointerOverContainer,distance:e.distance,dropPoint:e.dropPoint,event:e.event}),this._changeDetectorRef.markForCheck()}),z(t.receivingStarted,t.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(t){let{lockAxis:e,draggingDisabled:n,sortingDisabled:s,listAutoScrollDisabled:r,listOrientation:a}=t;this.disabled=n??!1,this.sortingDisabled=s??!1,this.autoScrollDisabled=r??!1,this.orientation=a||"vertical",e&&(this.lockAxis=e)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}static \u0275fac=function(e){return new(e||o)};static \u0275dir=P({type:o,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,n){e&2&&(B("id",n.id),U("cdk-drop-list-disabled",n.disabled)("cdk-drop-list-dragging",n._dropListRef.isDragging())("cdk-drop-list-receiving",n._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",Z],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",Z],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",Z],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[bt([{provide:_n,useValue:void 0},{provide:En,useExisting:o}]),Dt]})}return o})();var Tn=(()=>{class o{static \u0275fac=function(e){return new(e||o)};static \u0275mod=Q({type:o});static \u0275inj=q({providers:[Oe],imports:[xi]})}return o})();var oo=o=>({"is-invalid":o});function so(o,i){o&1&&(m(0,"mat-error"),g(1," Question text is required. "),p())}function ro(o,i){if(o&1&&(ce(0),m(1,"mat-form-field",20)(2,"mat-label"),g(3),p(),et(4,"input",21),p(),de()),o&2){let t,e,n=it().$implicit;_(3),nt((t=n.get("label"))==null?null:t.value),_(),f("value",(e=n.get("value"))==null?null:e.value)}}function ao(o,i){if(o&1&&(ce(0),m(1,"mat-checkbox",22),g(2),p(),de()),o&2){let t,e,n=it().$implicit;_(),f("checked",(t=n.get("value"))==null?null:t.value),_(),nt((e=n.get("label"))==null?null:e.value)}}function lo(o,i){if(o&1){let t=$e();m(0,"div",14)(1,"div",15)(2,"mat-icon",16),g(3,"drag_indicator"),p(),E(4,ro,5,2,"ng-container",6)(5,ao,3,2,"ng-container",6),p(),m(6,"div",17)(7,"button",18),b("click",function(){let n=oe(t).index,s=it();return se(s.openDialog(n))}),m(8,"mat-icon"),g(9,"edit"),p()(),m(10,"button",19),b("click",function(){let n=oe(t).index,s=it();return se(s.removeOption(n))}),m(11,"mat-icon"),g(12,"delete"),p()()()()}if(o&2){let t,e,n=i.$implicit,s=i.index;f("formGroupName",s),_(4),f("ngIf",((t=n.get("inputType"))==null?null:t.value)==="text"),_(),f("ngIf",((e=n.get("inputType"))==null?null:e.value)==="checkbox")}}function co(o,i){o&1&&(m(0,"div",23),g(1," At least one option is required. "),p())}var In=(()=>{class o extends Vi{questionText=re();options=re();form=new vi({questionText:new Lt("",Ot.required),options:new Ci([],this.minLengthArray(1))});fb=l(Vt);dialog=l(pt);questionTextEff=pe(()=>{this.form.patchValue({questionText:this.questionText()||""})});optionsEff=pe(()=>{if(this.optionForms.clear(),this.optionForms.setValidators(this.minLengthArray(1)),this.options()?.length)for(let t of this.options())this.optionForms.push(this.fb.group(t));else this.addOption();this.optionForms.updateValueAndValidity()});get optionForms(){return this.form.get("options")}openDialog(t=null){let e=t!==null,n=null;e&&(n=this.optionForms.at(t).value),this.dialog.open(Ji,{width:"400px",data:{isEdit:e,option:n}}).afterClosed().subscribe(r=>{r&&(e?this.optionForms.at(t).patchValue(r):this.optionForms.push(this.fb.group(r)))})}addOption(){this.openDialog()}removeOption(t){this.optionForms.removeAt(t)}drop(t){te(this.optionForms.controls,t.previousIndex,t.currentIndex),this.optionForms.setValue(this.optionForms.controls.map(e=>e.value))}minLengthArray(t){return e=>e.value.length>=t?null:{minLengthArray:{valid:!1,requiredLength:t}}}static \u0275fac=(()=>{let t;return function(n){return(t||(t=O(o)))(n||o)}})();static \u0275cmp=S({type:o,selectors:[["hls-question-form"]],inputs:{questionText:[1,"questionText"],options:[1,"options"]},features:[T],decls:24,vars:7,consts:[[1,"container"],[1,"max-w-2xl","mx-auto"],[1,"mb-8"],[3,"ngSubmit","formGroup"],[1,"w-full","mb-4"],["matInput","","placeholder","Enter your question...","formControlName","questionText",3,"ngClass"],[4,"ngIf"],["formArrayName","options","cdkDropList","",3,"cdkDropListDropped"],["class","flex items-center justify-between mb-2 gap-2 bg-[var(--mat-sys-background)] px-4 py-5 rounded","cdkDrag","",3,"formGroupName",4,"ngFor","ngForOf"],["mat-button","","color","primary","type","button",1,"mb-4",3,"click"],["class","text-[var(--mat-sys-error)] text-sm mt-1",4,"ngIf"],[1,"flex","justify-end","gap-2"],["mat-raised-button","","color","basic","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit"],["cdkDrag","",1,"flex","items-center","justify-between","mb-2","gap-2","bg-[var(--mat-sys-background)]","px-4","py-5","rounded",3,"formGroupName"],[1,"flex","gap-4","items-center","flex-1"],["cdkDragHandle",""],[1,"flex","items-center","gap-4"],["mat-icon-button","","type","button",3,"click"],["mat-icon-button","","color","warn","type","button",3,"click"],[1,"flex-grow","max-w-[350px]"],["matInput","","readonly","",3,"value"],[3,"checked"],[1,"text-[var(--mat-sys-error)]","text-sm","mt-1"]],template:function(e,n){if(e&1&&(m(0,"div",0)(1,"mat-card",1)(2,"mat-card-header",2)(3,"mat-card-title"),g(4," Question Form "),p()(),m(5,"mat-card-content")(6,"form",3),b("ngSubmit",function(){return n.continue()}),m(7,"mat-form-field",4)(8,"mat-label"),g(9,"Question Text"),p(),et(10,"textarea",5),E(11,so,2,0,"mat-error",6),p(),m(12,"div",7),b("cdkDropListDropped",function(r){return n.drop(r)}),E(13,lo,13,3,"div",8),p(),m(14,"button",9),b("click",function(){return n.addOption()}),m(15,"mat-icon"),g(16,"add"),p(),g(17," Add Option "),p(),E(18,co,2,0,"div",10),m(19,"div",11)(20,"button",12),b("click",function(){return n.saveAsDraft()}),g(21," Save as Draft "),p(),m(22,"button",13),g(23," Continue "),p()()()()()()),e&2){let s,r;_(6),f("formGroup",n.form),_(4),f("ngClass",ei(5,oo,((s=n.form.get("questionText"))==null?null:s.touched)&&((s=n.form.get("questionText"))==null?null:s.invalid))),_(),f("ngIf",(r=n.form.get("questionText"))==null?null:r.hasError("required")),_(2),f("ngForOf",n.optionForms.controls),_(5),f("ngIf",(n.optionForms.errors==null?null:n.optionForms.errors.minLengthArray)&&n.optionForms.touched)}},dependencies:[Ht,Mt,kt,At,Ft,Nt,Bt,bi,yi,ui,Tt,xt,Pt,qt,jt,Rt,It,gi,Gt,Fi,fi,_i,ni,Ct,yt,Ut,ki,Pi,Ii,Ri,Ti,Tn,Pn,xn,wn],encapsulation:2})}return o})();var ho=()=>[],Ws=(()=>{class o extends Hi{nextRoute="visualization-type";static \u0275fac=(()=>{let t;return function(n){return(t||(t=O(o)))(n||o)}})();static \u0275cmp=S({type:o,selectors:[["hls-question-form-page"]],features:[T],decls:1,vars:3,consts:[[3,"submitEvent","draftEvent","questionText","options"]],template:function(e,n){if(e&1&&(m(0,"hls-question-form",0),b("submitEvent",function(r){return n.onSubmit(r)})("draftEvent",function(r){return n.onDraft(r)}),p()),e&2){let s,r;f("questionText",(s=n.question())==null?null:s.questionText)("options",((r=n.question())==null?null:r.options)||ti(2,ho))}},dependencies:[In],encapsulation:2})}return o})();export{Ws as QuestionFormPageComponent};
