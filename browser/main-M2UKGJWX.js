import{a as Vn,b as Jn,c as Zn,d as Xn,e as ei}from"./chunk-G5T4SLW2.js";import{f as Qn}from"./chunk-FML4FTK4.js";import"./chunk-GVSWLUU6.js";import"./chunk-T3Q3DASN.js";import{a as ti}from"./chunk-T7YMEPIF.js";import{b as Gn,c as Yn,d as Wn}from"./chunk-77OOH4TO.js";import{Ca as jn,D as On,Hb as $n,Ka as Dn,Y as En,_ as In,ba as Pn,bb as Ln,d as h,e as T,ea as ge,eb as Hn,ha as Mn,jc as Bn,kb as Un,m as Cn,ra as Nn,s as Sn,ua as kn,xa as zn,xc as Kn}from"./chunk-VRAGGOJR.js";var rr=h((bC,oi)=>{"use strict";var od=typeof global=="object"&&global&&global.Object===Object&&global;oi.exports=od});var L=h((_C,ui)=>{"use strict";var ud=rr(),ld=typeof self=="object"&&self&&self.Object===Object&&self,cd=ud||ld||Function("return this")();ui.exports=cd});var le=h((AC,li)=>{"use strict";var hd=L(),fd=hd.Symbol;li.exports=fd});var di=h((wC,fi)=>{"use strict";var ci=le(),hi=Object.prototype,dd=hi.hasOwnProperty,pd=hi.toString,De=ci?ci.toStringTag:void 0;function vd(e){var r=dd.call(e,De),t=e[De];try{e[De]=void 0;var n=!0}catch{}var i=pd.call(e);return n&&(r?e[De]=t:delete e[De]),i}fi.exports=vd});var vi=h((xC,pi)=>{"use strict";var yd=Object.prototype,gd=yd.toString;function md(e){return gd.call(e)}pi.exports=md});var ce=h((qC,mi)=>{"use strict";var yi=le(),bd=di(),_d=vi(),Ad="[object Null]",wd="[object Undefined]",gi=yi?yi.toStringTag:void 0;function xd(e){return e==null?e===void 0?wd:Ad:gi&&gi in Object(e)?bd(e):_d(e)}mi.exports=xd});var nr=h((FC,bi)=>{"use strict";function qd(e,r){return function(t){return e(r(t))}}bi.exports=qd});var pt=h((RC,_i)=>{"use strict";var Fd=nr(),Rd=Fd(Object.getPrototypeOf,Object);_i.exports=Rd});var V=h((TC,Ai)=>{"use strict";function Td(e){return e!=null&&typeof e=="object"}Ai.exports=Td});var qi=h((CC,xi)=>{"use strict";var Cd=ce(),Sd=pt(),Od=V(),Ed="[object Object]",Id=Function.prototype,Pd=Object.prototype,wi=Id.toString,Md=Pd.hasOwnProperty,Nd=wi.call(Object);function kd(e){if(!Od(e)||Cd(e)!=Ed)return!1;var r=Sd(e);if(r===null)return!0;var t=Md.call(r,"constructor")&&r.constructor;return typeof t=="function"&&t instanceof t&&wi.call(t)==Nd}xi.exports=kd});var K=h((SC,Fi)=>{"use strict";function zd(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}Fi.exports=zd});var vt=h((OC,Ri)=>{"use strict";var jd=ce(),Dd=K(),Ld="[object AsyncFunction]",Hd="[object Function]",Ud="[object GeneratorFunction]",$d="[object Proxy]";function Bd(e){if(!Dd(e))return!1;var r=jd(e);return r==Hd||r==Ud||r==Ld||r==$d}Ri.exports=Bd});var Ci=h((EC,Ti)=>{"use strict";var Kd=L(),Gd=Kd["__core-js_shared__"];Ti.exports=Gd});var Ei=h((IC,Oi)=>{"use strict";var ir=Ci(),Si=function(){var e=/[^.]+$/.exec(ir&&ir.keys&&ir.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Yd(e){return!!Si&&Si in e}Oi.exports=Yd});var sr=h((PC,Ii)=>{"use strict";var Wd=Function.prototype,Qd=Wd.toString;function Vd(e){if(e!=null){try{return Qd.call(e)}catch{}try{return e+""}catch{}}return""}Ii.exports=Vd});var Mi=h((MC,Pi)=>{"use strict";var Jd=vt(),Zd=Ei(),Xd=K(),ep=sr(),tp=/[\\^$.*+?()[\]{}|]/g,rp=/^\[object .+?Constructor\]$/,np=Function.prototype,ip=Object.prototype,sp=np.toString,ap=ip.hasOwnProperty,op=RegExp("^"+sp.call(ap).replace(tp,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function up(e){if(!Xd(e)||Zd(e))return!1;var r=Jd(e)?op:rp;return r.test(ep(e))}Pi.exports=up});var ki=h((NC,Ni)=>{"use strict";function lp(e,r){return e?.[r]}Ni.exports=lp});var re=h((kC,zi)=>{"use strict";var cp=Mi(),hp=ki();function fp(e,r){var t=hp(e,r);return cp(t)?t:void 0}zi.exports=fp});var ar=h((zC,ji)=>{"use strict";var dp=re(),pp=function(){try{var e=dp(Object,"defineProperty");return e({},"",{}),e}catch{}}();ji.exports=pp});var yt=h((jC,Li)=>{"use strict";var Di=ar();function vp(e,r,t){r=="__proto__"&&Di?Di(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}Li.exports=vp});var Ui=h((DC,Hi)=>{"use strict";function yp(e){return function(r,t,n){for(var i=-1,s=Object(r),a=n(r),o=a.length;o--;){var u=a[e?o:++i];if(t(s[u],u,s)===!1)break}return r}}Hi.exports=yp});var or=h((LC,$i)=>{"use strict";var gp=Ui(),mp=gp();$i.exports=mp});var Ki=h((HC,Bi)=>{"use strict";function bp(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n}Bi.exports=bp});var Yi=h((UC,Gi)=>{"use strict";var _p=ce(),Ap=V(),wp="[object Arguments]";function xp(e){return Ap(e)&&_p(e)==wp}Gi.exports=xp});var Le=h(($C,Vi)=>{"use strict";var Wi=Yi(),qp=V(),Qi=Object.prototype,Fp=Qi.hasOwnProperty,Rp=Qi.propertyIsEnumerable,Tp=Wi(function(){return arguments}())?Wi:function(e){return qp(e)&&Fp.call(e,"callee")&&!Rp.call(e,"callee")};Vi.exports=Tp});var N=h((BC,Ji)=>{"use strict";var Cp=Array.isArray;Ji.exports=Cp});var Xi=h((KC,Zi)=>{"use strict";function Sp(){return!1}Zi.exports=Sp});var Ue=h((He,me)=>{"use strict";var Op=L(),Ep=Xi(),rs=typeof He=="object"&&He&&!He.nodeType&&He,es=rs&&typeof me=="object"&&me&&!me.nodeType&&me,Ip=es&&es.exports===rs,ts=Ip?Op.Buffer:void 0,Pp=ts?ts.isBuffer:void 0,Mp=Pp||Ep;me.exports=Mp});var $e=h((GC,ns)=>{"use strict";var Np=9007199254740991,kp=/^(?:0|[1-9]\d*)$/;function zp(e,r){var t=typeof e;return r=r??Np,!!r&&(t=="number"||t!="symbol"&&kp.test(e))&&e>-1&&e%1==0&&e<r}ns.exports=zp});var gt=h((YC,is)=>{"use strict";var jp=9007199254740991;function Dp(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=jp}is.exports=Dp});var as=h((WC,ss)=>{"use strict";var Lp=ce(),Hp=gt(),Up=V(),$p="[object Arguments]",Bp="[object Array]",Kp="[object Boolean]",Gp="[object Date]",Yp="[object Error]",Wp="[object Function]",Qp="[object Map]",Vp="[object Number]",Jp="[object Object]",Zp="[object RegExp]",Xp="[object Set]",ev="[object String]",tv="[object WeakMap]",rv="[object ArrayBuffer]",nv="[object DataView]",iv="[object Float32Array]",sv="[object Float64Array]",av="[object Int8Array]",ov="[object Int16Array]",uv="[object Int32Array]",lv="[object Uint8Array]",cv="[object Uint8ClampedArray]",hv="[object Uint16Array]",fv="[object Uint32Array]",F={};F[iv]=F[sv]=F[av]=F[ov]=F[uv]=F[lv]=F[cv]=F[hv]=F[fv]=!0;F[$p]=F[Bp]=F[rv]=F[Kp]=F[nv]=F[Gp]=F[Yp]=F[Wp]=F[Qp]=F[Vp]=F[Jp]=F[Zp]=F[Xp]=F[ev]=F[tv]=!1;function dv(e){return Up(e)&&Hp(e.length)&&!!F[Lp(e)]}ss.exports=dv});var mt=h((QC,os)=>{"use strict";function pv(e){return function(r){return e(r)}}os.exports=pv});var bt=h((Be,be)=>{"use strict";var vv=rr(),us=typeof Be=="object"&&Be&&!Be.nodeType&&Be,Ke=us&&typeof be=="object"&&be&&!be.nodeType&&be,yv=Ke&&Ke.exports===us,ur=yv&&vv.process,gv=function(){try{var e=Ke&&Ke.require&&Ke.require("util").types;return e||ur&&ur.binding&&ur.binding("util")}catch{}}();be.exports=gv});var _t=h((VC,hs)=>{"use strict";var mv=as(),bv=mt(),ls=bt(),cs=ls&&ls.isTypedArray,_v=cs?bv(cs):mv;hs.exports=_v});var lr=h((JC,fs)=>{"use strict";var Av=Ki(),wv=Le(),xv=N(),qv=Ue(),Fv=$e(),Rv=_t(),Tv=Object.prototype,Cv=Tv.hasOwnProperty;function Sv(e,r){var t=xv(e),n=!t&&wv(e),i=!t&&!n&&qv(e),s=!t&&!n&&!i&&Rv(e),a=t||n||i||s,o=a?Av(e.length,String):[],u=o.length;for(var c in e)(r||Cv.call(e,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Fv(c,u)))&&o.push(c);return o}fs.exports=Sv});var _e=h((ZC,ds)=>{"use strict";var Ov=Object.prototype;function Ev(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||Ov;return e===t}ds.exports=Ev});var vs=h((XC,ps)=>{"use strict";var Iv=nr(),Pv=Iv(Object.keys,Object);ps.exports=Pv});var cr=h((eS,ys)=>{"use strict";var Mv=_e(),Nv=vs(),kv=Object.prototype,zv=kv.hasOwnProperty;function jv(e){if(!Mv(e))return Nv(e);var r=[];for(var t in Object(e))zv.call(e,t)&&t!="constructor"&&r.push(t);return r}ys.exports=jv});var G=h((tS,gs)=>{"use strict";var Dv=vt(),Lv=gt();function Hv(e){return e!=null&&Lv(e.length)&&!Dv(e)}gs.exports=Hv});var J=h((rS,ms)=>{"use strict";var Uv=lr(),$v=cr(),Bv=G();function Kv(e){return Bv(e)?Uv(e):$v(e)}ms.exports=Kv});var hr=h((nS,bs)=>{"use strict";var Gv=or(),Yv=J();function Wv(e,r){return e&&Gv(e,r,Yv)}bs.exports=Wv});var As=h((iS,_s)=>{"use strict";function Qv(){this.__data__=[],this.size=0}_s.exports=Qv});var Ge=h((sS,ws)=>{"use strict";function Vv(e,r){return e===r||e!==e&&r!==r}ws.exports=Vv});var Ye=h((aS,xs)=>{"use strict";var Jv=Ge();function Zv(e,r){for(var t=e.length;t--;)if(Jv(e[t][0],r))return t;return-1}xs.exports=Zv});var Fs=h((oS,qs)=>{"use strict";var Xv=Ye(),ey=Array.prototype,ty=ey.splice;function ry(e){var r=this.__data__,t=Xv(r,e);if(t<0)return!1;var n=r.length-1;return t==n?r.pop():ty.call(r,t,1),--this.size,!0}qs.exports=ry});var Ts=h((uS,Rs)=>{"use strict";var ny=Ye();function iy(e){var r=this.__data__,t=ny(r,e);return t<0?void 0:r[t][1]}Rs.exports=iy});var Ss=h((lS,Cs)=>{"use strict";var sy=Ye();function ay(e){return sy(this.__data__,e)>-1}Cs.exports=ay});var Es=h((cS,Os)=>{"use strict";var oy=Ye();function uy(e,r){var t=this.__data__,n=oy(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this}Os.exports=uy});var We=h((hS,Is)=>{"use strict";var ly=As(),cy=Fs(),hy=Ts(),fy=Ss(),dy=Es();function Ae(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}Ae.prototype.clear=ly;Ae.prototype.delete=cy;Ae.prototype.get=hy;Ae.prototype.has=fy;Ae.prototype.set=dy;Is.exports=Ae});var Ms=h((fS,Ps)=>{"use strict";var py=We();function vy(){this.__data__=new py,this.size=0}Ps.exports=vy});var ks=h((dS,Ns)=>{"use strict";function yy(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}Ns.exports=yy});var js=h((pS,zs)=>{"use strict";function gy(e){return this.__data__.get(e)}zs.exports=gy});var Ls=h((vS,Ds)=>{"use strict";function my(e){return this.__data__.has(e)}Ds.exports=my});var At=h((yS,Hs)=>{"use strict";var by=re(),_y=L(),Ay=by(_y,"Map");Hs.exports=Ay});var Qe=h((gS,Us)=>{"use strict";var wy=re(),xy=wy(Object,"create");Us.exports=xy});var Ks=h((mS,Bs)=>{"use strict";var $s=Qe();function qy(){this.__data__=$s?$s(null):{},this.size=0}Bs.exports=qy});var Ys=h((bS,Gs)=>{"use strict";function Fy(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}Gs.exports=Fy});var Qs=h((_S,Ws)=>{"use strict";var Ry=Qe(),Ty="__lodash_hash_undefined__",Cy=Object.prototype,Sy=Cy.hasOwnProperty;function Oy(e){var r=this.__data__;if(Ry){var t=r[e];return t===Ty?void 0:t}return Sy.call(r,e)?r[e]:void 0}Ws.exports=Oy});var Js=h((AS,Vs)=>{"use strict";var Ey=Qe(),Iy=Object.prototype,Py=Iy.hasOwnProperty;function My(e){var r=this.__data__;return Ey?r[e]!==void 0:Py.call(r,e)}Vs.exports=My});var Xs=h((wS,Zs)=>{"use strict";var Ny=Qe(),ky="__lodash_hash_undefined__";function zy(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Ny&&r===void 0?ky:r,this}Zs.exports=zy});var ta=h((xS,ea)=>{"use strict";var jy=Ks(),Dy=Ys(),Ly=Qs(),Hy=Js(),Uy=Xs();function we(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}we.prototype.clear=jy;we.prototype.delete=Dy;we.prototype.get=Ly;we.prototype.has=Hy;we.prototype.set=Uy;ea.exports=we});var ia=h((qS,na)=>{"use strict";var ra=ta(),$y=We(),By=At();function Ky(){this.size=0,this.__data__={hash:new ra,map:new(By||$y),string:new ra}}na.exports=Ky});var aa=h((FS,sa)=>{"use strict";function Gy(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}sa.exports=Gy});var Ve=h((RS,oa)=>{"use strict";var Yy=aa();function Wy(e,r){var t=e.__data__;return Yy(r)?t[typeof r=="string"?"string":"hash"]:t.map}oa.exports=Wy});var la=h((TS,ua)=>{"use strict";var Qy=Ve();function Vy(e){var r=Qy(this,e).delete(e);return this.size-=r?1:0,r}ua.exports=Vy});var ha=h((CS,ca)=>{"use strict";var Jy=Ve();function Zy(e){return Jy(this,e).get(e)}ca.exports=Zy});var da=h((SS,fa)=>{"use strict";var Xy=Ve();function eg(e){return Xy(this,e).has(e)}fa.exports=eg});var va=h((OS,pa)=>{"use strict";var tg=Ve();function rg(e,r){var t=tg(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this}pa.exports=rg});var wt=h((ES,ya)=>{"use strict";var ng=ia(),ig=la(),sg=ha(),ag=da(),og=va();function xe(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}xe.prototype.clear=ng;xe.prototype.delete=ig;xe.prototype.get=sg;xe.prototype.has=ag;xe.prototype.set=og;ya.exports=xe});var ma=h((IS,ga)=>{"use strict";var ug=We(),lg=At(),cg=wt(),hg=200;function fg(e,r){var t=this.__data__;if(t instanceof ug){var n=t.__data__;if(!lg||n.length<hg-1)return n.push([e,r]),this.size=++t.size,this;t=this.__data__=new cg(n)}return t.set(e,r),this.size=t.size,this}ga.exports=fg});var xt=h((PS,ba)=>{"use strict";var dg=We(),pg=Ms(),vg=ks(),yg=js(),gg=Ls(),mg=ma();function qe(e){var r=this.__data__=new dg(e);this.size=r.size}qe.prototype.clear=pg;qe.prototype.delete=vg;qe.prototype.get=yg;qe.prototype.has=gg;qe.prototype.set=mg;ba.exports=qe});var Aa=h((MS,_a)=>{"use strict";var bg="__lodash_hash_undefined__";function _g(e){return this.__data__.set(e,bg),this}_a.exports=_g});var xa=h((NS,wa)=>{"use strict";function Ag(e){return this.__data__.has(e)}wa.exports=Ag});var fr=h((kS,qa)=>{"use strict";var wg=wt(),xg=Aa(),qg=xa();function qt(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new wg;++r<t;)this.add(e[r])}qt.prototype.add=qt.prototype.push=xg;qt.prototype.has=qg;qa.exports=qt});var Ra=h((zS,Fa)=>{"use strict";function Fg(e,r){for(var t=-1,n=e==null?0:e.length;++t<n;)if(r(e[t],t,e))return!0;return!1}Fa.exports=Fg});var dr=h((jS,Ta)=>{"use strict";function Rg(e,r){return e.has(r)}Ta.exports=Rg});var pr=h((DS,Ca)=>{"use strict";var Tg=fr(),Cg=Ra(),Sg=dr(),Og=1,Eg=2;function Ig(e,r,t,n,i,s){var a=t&Og,o=e.length,u=r.length;if(o!=u&&!(a&&u>o))return!1;var c=s.get(e),f=s.get(r);if(c&&f)return c==r&&f==e;var l=-1,d=!0,p=t&Eg?new Tg:void 0;for(s.set(e,r),s.set(r,e);++l<o;){var v=e[l],y=r[l];if(n)var g=a?n(y,v,l,r,e,s):n(v,y,l,e,r,s);if(g!==void 0){if(g)continue;d=!1;break}if(p){if(!Cg(r,function(R,I){if(!Sg(p,I)&&(v===R||i(v,R,t,n,s)))return p.push(I)})){d=!1;break}}else if(!(v===y||i(v,y,t,n,s))){d=!1;break}}return s.delete(e),s.delete(r),d}Ca.exports=Ig});var vr=h((LS,Sa)=>{"use strict";var Pg=L(),Mg=Pg.Uint8Array;Sa.exports=Mg});var Ea=h((HS,Oa)=>{"use strict";function Ng(e){var r=-1,t=Array(e.size);return e.forEach(function(n,i){t[++r]=[i,n]}),t}Oa.exports=Ng});var Ft=h((US,Ia)=>{"use strict";function kg(e){var r=-1,t=Array(e.size);return e.forEach(function(n){t[++r]=n}),t}Ia.exports=kg});var za=h(($S,ka)=>{"use strict";var Pa=le(),Ma=vr(),zg=Ge(),jg=pr(),Dg=Ea(),Lg=Ft(),Hg=1,Ug=2,$g="[object Boolean]",Bg="[object Date]",Kg="[object Error]",Gg="[object Map]",Yg="[object Number]",Wg="[object RegExp]",Qg="[object Set]",Vg="[object String]",Jg="[object Symbol]",Zg="[object ArrayBuffer]",Xg="[object DataView]",Na=Pa?Pa.prototype:void 0,yr=Na?Na.valueOf:void 0;function em(e,r,t,n,i,s,a){switch(t){case Xg:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case Zg:return!(e.byteLength!=r.byteLength||!s(new Ma(e),new Ma(r)));case $g:case Bg:case Yg:return zg(+e,+r);case Kg:return e.name==r.name&&e.message==r.message;case Wg:case Vg:return e==r+"";case Gg:var o=Dg;case Qg:var u=n&Hg;if(o||(o=Lg),e.size!=r.size&&!u)return!1;var c=a.get(e);if(c)return c==r;n|=Ug,a.set(e,r);var f=jg(o(e),o(r),n,i,s,a);return a.delete(e),f;case Jg:if(yr)return yr.call(e)==yr.call(r)}return!1}ka.exports=em});var Rt=h((BS,ja)=>{"use strict";function tm(e,r){for(var t=-1,n=r.length,i=e.length;++t<n;)e[i+t]=r[t];return e}ja.exports=tm});var gr=h((KS,Da)=>{"use strict";var rm=Rt(),nm=N();function im(e,r,t){var n=r(e);return nm(e)?n:rm(n,t(e))}Da.exports=im});var Ha=h((GS,La)=>{"use strict";function sm(e,r){for(var t=-1,n=e==null?0:e.length,i=0,s=[];++t<n;){var a=e[t];r(a,t,e)&&(s[i++]=a)}return s}La.exports=sm});var mr=h((YS,Ua)=>{"use strict";function am(){return[]}Ua.exports=am});var Tt=h((WS,Ba)=>{"use strict";var om=Ha(),um=mr(),lm=Object.prototype,cm=lm.propertyIsEnumerable,$a=Object.getOwnPropertySymbols,hm=$a?function(e){return e==null?[]:(e=Object(e),om($a(e),function(r){return cm.call(e,r)}))}:um;Ba.exports=hm});var br=h((QS,Ka)=>{"use strict";var fm=gr(),dm=Tt(),pm=J();function vm(e){return fm(e,pm,dm)}Ka.exports=vm});var Wa=h((VS,Ya)=>{"use strict";var Ga=br(),ym=1,gm=Object.prototype,mm=gm.hasOwnProperty;function bm(e,r,t,n,i,s){var a=t&ym,o=Ga(e),u=o.length,c=Ga(r),f=c.length;if(u!=f&&!a)return!1;for(var l=u;l--;){var d=o[l];if(!(a?d in r:mm.call(r,d)))return!1}var p=s.get(e),v=s.get(r);if(p&&v)return p==r&&v==e;var y=!0;s.set(e,r),s.set(r,e);for(var g=a;++l<u;){d=o[l];var R=e[d],I=r[d];if(n)var ee=a?n(I,R,d,r,e,s):n(R,I,d,e,r,s);if(!(ee===void 0?R===I||i(R,I,t,n,s):ee)){y=!1;break}g||(g=d=="constructor")}if(y&&!g){var te=e.constructor,ye=r.constructor;te!=ye&&"constructor"in e&&"constructor"in r&&!(typeof te=="function"&&te instanceof te&&typeof ye=="function"&&ye instanceof ye)&&(y=!1)}return s.delete(e),s.delete(r),y}Ya.exports=bm});var Va=h((JS,Qa)=>{"use strict";var _m=re(),Am=L(),wm=_m(Am,"DataView");Qa.exports=wm});var Za=h((ZS,Ja)=>{"use strict";var xm=re(),qm=L(),Fm=xm(qm,"Promise");Ja.exports=Fm});var _r=h((XS,Xa)=>{"use strict";var Rm=re(),Tm=L(),Cm=Rm(Tm,"Set");Xa.exports=Cm});var to=h((eO,eo)=>{"use strict";var Sm=re(),Om=L(),Em=Sm(Om,"WeakMap");eo.exports=Em});var Re=h((tO,uo)=>{"use strict";var Ar=Va(),wr=At(),xr=Za(),qr=_r(),Fr=to(),oo=ce(),Fe=sr(),ro="[object Map]",Im="[object Object]",no="[object Promise]",io="[object Set]",so="[object WeakMap]",ao="[object DataView]",Pm=Fe(Ar),Mm=Fe(wr),Nm=Fe(xr),km=Fe(qr),zm=Fe(Fr),he=oo;(Ar&&he(new Ar(new ArrayBuffer(1)))!=ao||wr&&he(new wr)!=ro||xr&&he(xr.resolve())!=no||qr&&he(new qr)!=io||Fr&&he(new Fr)!=so)&&(he=function(e){var r=oo(e),t=r==Im?e.constructor:void 0,n=t?Fe(t):"";if(n)switch(n){case Pm:return ao;case Mm:return ro;case Nm:return no;case km:return io;case zm:return so}return r});uo.exports=he});var go=h((rO,yo)=>{"use strict";var Rr=xt(),jm=pr(),Dm=za(),Lm=Wa(),lo=Re(),co=N(),ho=Ue(),Hm=_t(),Um=1,fo="[object Arguments]",po="[object Array]",Ct="[object Object]",$m=Object.prototype,vo=$m.hasOwnProperty;function Bm(e,r,t,n,i,s){var a=co(e),o=co(r),u=a?po:lo(e),c=o?po:lo(r);u=u==fo?Ct:u,c=c==fo?Ct:c;var f=u==Ct,l=c==Ct,d=u==c;if(d&&ho(e)){if(!ho(r))return!1;a=!0,f=!1}if(d&&!f)return s||(s=new Rr),a||Hm(e)?jm(e,r,t,n,i,s):Dm(e,r,u,t,n,i,s);if(!(t&Um)){var p=f&&vo.call(e,"__wrapped__"),v=l&&vo.call(r,"__wrapped__");if(p||v){var y=p?e.value():e,g=v?r.value():r;return s||(s=new Rr),i(y,g,t,n,s)}}return d?(s||(s=new Rr),Lm(e,r,t,n,i,s)):!1}yo.exports=Bm});var St=h((nO,_o)=>{"use strict";var Km=go(),mo=V();function bo(e,r,t,n,i){return e===r?!0:e==null||r==null||!mo(e)&&!mo(r)?e!==e&&r!==r:Km(e,r,t,n,bo,i)}_o.exports=bo});var wo=h((iO,Ao)=>{"use strict";var Gm=xt(),Ym=St(),Wm=1,Qm=2;function Vm(e,r,t,n){var i=t.length,s=i,a=!n;if(e==null)return!s;for(e=Object(e);i--;){var o=t[i];if(a&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++i<s;){o=t[i];var u=o[0],c=e[u],f=o[1];if(a&&o[2]){if(c===void 0&&!(u in e))return!1}else{var l=new Gm;if(n)var d=n(c,f,u,e,r,l);if(!(d===void 0?Ym(f,c,Wm|Qm,n,l):d))return!1}}return!0}Ao.exports=Vm});var Tr=h((sO,xo)=>{"use strict";var Jm=K();function Zm(e){return e===e&&!Jm(e)}xo.exports=Zm});var Fo=h((aO,qo)=>{"use strict";var Xm=Tr(),eb=J();function tb(e){for(var r=eb(e),t=r.length;t--;){var n=r[t],i=e[n];r[t]=[n,i,Xm(i)]}return r}qo.exports=tb});var Cr=h((oO,Ro)=>{"use strict";function rb(e,r){return function(t){return t==null?!1:t[e]===r&&(r!==void 0||e in Object(t))}}Ro.exports=rb});var Co=h((uO,To)=>{"use strict";var nb=wo(),ib=Fo(),sb=Cr();function ab(e){var r=ib(e);return r.length==1&&r[0][2]?sb(r[0][0],r[0][1]):function(t){return t===e||nb(t,e,r)}}To.exports=ab});var Je=h((lO,So)=>{"use strict";var ob=ce(),ub=V(),lb="[object Symbol]";function cb(e){return typeof e=="symbol"||ub(e)&&ob(e)==lb}So.exports=cb});var Ot=h((cO,Oo)=>{"use strict";var hb=N(),fb=Je(),db=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pb=/^\w*$/;function vb(e,r){if(hb(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||fb(e)?!0:pb.test(e)||!db.test(e)||r!=null&&e in Object(r)}Oo.exports=vb});var Po=h((hO,Io)=>{"use strict";var Eo=wt(),yb="Expected a function";function Sr(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(yb);var t=function(){var n=arguments,i=r?r.apply(this,n):n[0],s=t.cache;if(s.has(i))return s.get(i);var a=e.apply(this,n);return t.cache=s.set(i,a)||s,a};return t.cache=new(Sr.Cache||Eo),t}Sr.Cache=Eo;Io.exports=Sr});var No=h((fO,Mo)=>{"use strict";var gb=Po(),mb=500;function bb(e){var r=gb(e,function(n){return t.size===mb&&t.clear(),n}),t=r.cache;return r}Mo.exports=bb});var zo=h((dO,ko)=>{"use strict";var _b=No(),Ab=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wb=/\\(\\)?/g,xb=_b(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(Ab,function(t,n,i,s){r.push(i?s.replace(wb,"$1"):n||t)}),r});ko.exports=xb});var Et=h((pO,jo)=>{"use strict";function qb(e,r){for(var t=-1,n=e==null?0:e.length,i=Array(n);++t<n;)i[t]=r(e[t],t,e);return i}jo.exports=qb});var Bo=h((vO,$o)=>{"use strict";var Do=le(),Fb=Et(),Rb=N(),Tb=Je(),Cb=1/0,Lo=Do?Do.prototype:void 0,Ho=Lo?Lo.toString:void 0;function Uo(e){if(typeof e=="string")return e;if(Rb(e))return Fb(e,Uo)+"";if(Tb(e))return Ho?Ho.call(e):"";var r=e+"";return r=="0"&&1/e==-Cb?"-0":r}$o.exports=Uo});var Or=h((yO,Ko)=>{"use strict";var Sb=Bo();function Ob(e){return e==null?"":Sb(e)}Ko.exports=Ob});var Te=h((gO,Go)=>{"use strict";var Eb=N(),Ib=Ot(),Pb=zo(),Mb=Or();function Nb(e,r){return Eb(e)?e:Ib(e,r)?[e]:Pb(Mb(e))}Go.exports=Nb});var fe=h((mO,Yo)=>{"use strict";var kb=Je(),zb=1/0;function jb(e){if(typeof e=="string"||kb(e))return e;var r=e+"";return r=="0"&&1/e==-zb?"-0":r}Yo.exports=jb});var Ze=h((bO,Wo)=>{"use strict";var Db=Te(),Lb=fe();function Hb(e,r){r=Db(r,e);for(var t=0,n=r.length;e!=null&&t<n;)e=e[Lb(r[t++])];return t&&t==n?e:void 0}Wo.exports=Hb});var Er=h((_O,Qo)=>{"use strict";var Ub=Ze();function $b(e,r,t){var n=e==null?void 0:Ub(e,r);return n===void 0?t:n}Qo.exports=$b});var Jo=h((AO,Vo)=>{"use strict";function Bb(e,r){return e!=null&&r in Object(e)}Vo.exports=Bb});var Ir=h((wO,Zo)=>{"use strict";var Kb=Te(),Gb=Le(),Yb=N(),Wb=$e(),Qb=gt(),Vb=fe();function Jb(e,r,t){r=Kb(r,e);for(var n=-1,i=r.length,s=!1;++n<i;){var a=Vb(r[n]);if(!(s=e!=null&&t(e,a)))break;e=e[a]}return s||++n!=i?s:(i=e==null?0:e.length,!!i&&Qb(i)&&Wb(a,i)&&(Yb(e)||Gb(e)))}Zo.exports=Jb});var Pr=h((xO,Xo)=>{"use strict";var Zb=Jo(),Xb=Ir();function e_(e,r){return e!=null&&Xb(e,r,Zb)}Xo.exports=e_});var tu=h((qO,eu)=>{"use strict";var t_=St(),r_=Er(),n_=Pr(),i_=Ot(),s_=Tr(),a_=Cr(),o_=fe(),u_=1,l_=2;function c_(e,r){return i_(e)&&s_(r)?a_(o_(e),r):function(t){var n=r_(t,e);return n===void 0&&n===r?n_(t,e):t_(r,n,u_|l_)}}eu.exports=c_});var Xe=h((FO,ru)=>{"use strict";function h_(e){return e}ru.exports=h_});var iu=h((RO,nu)=>{"use strict";function f_(e){return function(r){return r?.[e]}}nu.exports=f_});var au=h((TO,su)=>{"use strict";var d_=Ze();function p_(e){return function(r){return d_(r,e)}}su.exports=p_});var uu=h((CO,ou)=>{"use strict";var v_=iu(),y_=au(),g_=Ot(),m_=fe();function b_(e){return g_(e)?v_(m_(e)):y_(e)}ou.exports=b_});var Ce=h((SO,lu)=>{"use strict";var __=Co(),A_=tu(),w_=Xe(),x_=N(),q_=uu();function F_(e){return typeof e=="function"?e:e==null?w_:typeof e=="object"?x_(e)?A_(e[0],e[1]):__(e):q_(e)}lu.exports=F_});var hu=h((OO,cu)=>{"use strict";var R_=yt(),T_=hr(),C_=Ce();function S_(e,r){var t={};return r=C_(r,3),T_(e,function(n,i,s){R_(t,i,r(n,i,s))}),t}cu.exports=S_});var Mr=h((EO,fu)=>{"use strict";function O_(e,r,t,n){for(var i=e.length,s=t+(n?1:-1);n?s--:++s<i;)if(r(e[s],s,e))return s;return-1}fu.exports=O_});var pu=h((IO,du)=>{"use strict";function E_(e){return e!==e}du.exports=E_});var yu=h((PO,vu)=>{"use strict";function I_(e,r,t){for(var n=t-1,i=e.length;++n<i;)if(e[n]===r)return n;return-1}vu.exports=I_});var mu=h((MO,gu)=>{"use strict";var P_=Mr(),M_=pu(),N_=yu();function k_(e,r,t){return r===r?N_(e,r,t):P_(e,M_,t)}gu.exports=k_});var _u=h((NO,bu)=>{"use strict";var z_=mu();function j_(e,r){var t=e==null?0:e.length;return!!t&&z_(e,r,0)>-1}bu.exports=j_});var wu=h((kO,Au)=>{"use strict";function D_(e,r,t){for(var n=-1,i=e==null?0:e.length;++n<i;)if(t(r,e[n]))return!0;return!1}Au.exports=D_});var qu=h((zO,xu)=>{"use strict";function L_(){}xu.exports=L_});var Ru=h((jO,Fu)=>{"use strict";var Nr=_r(),H_=qu(),U_=Ft(),$_=1/0,B_=Nr&&1/U_(new Nr([,-0]))[1]==$_?function(e){return new Nr(e)}:H_;Fu.exports=B_});var kr=h((DO,Tu)=>{"use strict";var K_=fr(),G_=_u(),Y_=wu(),W_=dr(),Q_=Ru(),V_=Ft(),J_=200;function Z_(e,r,t){var n=-1,i=G_,s=e.length,a=!0,o=[],u=o;if(t)a=!1,i=Y_;else if(s>=J_){var c=r?null:Q_(e);if(c)return V_(c);a=!1,i=W_,u=new K_}else u=r?[]:o;e:for(;++n<s;){var f=e[n],l=r?r(f):f;if(f=t||f!==0?f:0,a&&l===l){for(var d=u.length;d--;)if(u[d]===l)continue e;r&&u.push(l),o.push(f)}else i(u,l,t)||(u!==o&&u.push(l),o.push(f))}return o}Tu.exports=Z_});var Su=h((LO,Cu)=>{"use strict";var X_=kr();function eA(e){return e&&e.length?X_(e):[]}Cu.exports=eA});var Pu=h((HO,Iu)=>{"use strict";var Ou=le(),tA=Le(),rA=N(),Eu=Ou?Ou.isConcatSpreadable:void 0;function nA(e){return rA(e)||tA(e)||!!(Eu&&e&&e[Eu])}Iu.exports=nA});var ku=h((UO,Nu)=>{"use strict";var iA=Rt(),sA=Pu();function Mu(e,r,t,n,i){var s=-1,a=e.length;for(t||(t=sA),i||(i=[]);++s<a;){var o=e[s];r>0&&t(o)?r>1?Mu(o,r-1,t,n,i):iA(i,o):n||(i[i.length]=o)}return i}Nu.exports=Mu});var zr=h(($O,zu)=>{"use strict";var aA=ku();function oA(e){var r=e==null?0:e.length;return r?aA(e,1):[]}zu.exports=oA});var $r=h((GO,Yu)=>{"use strict";function dA(e,r,t){var n=-1,i=e.length;r<0&&(r=-r>i?0:i+r),t=t>i?i:t,t<0&&(t+=i),i=r>t?0:t-r>>>0,r>>>=0;for(var s=Array(i);++n<i;)s[n]=e[n+r];return s}Yu.exports=dA});var Qu=h((YO,Wu)=>{"use strict";var pA=$r();function vA(e,r,t){var n=e.length;return t=t===void 0?n:t,!r&&t>=n?e:pA(e,r,t)}Wu.exports=vA});var Br=h((WO,Vu)=>{"use strict";var yA="\\ud800-\\udfff",gA="\\u0300-\\u036f",mA="\\ufe20-\\ufe2f",bA="\\u20d0-\\u20ff",_A=gA+mA+bA,AA="\\ufe0e\\ufe0f",wA="\\u200d",xA=RegExp("["+wA+yA+_A+AA+"]");function qA(e){return xA.test(e)}Vu.exports=qA});var Zu=h((QO,Ju)=>{"use strict";function FA(e){return e.split("")}Ju.exports=FA});var al=h((VO,sl)=>{"use strict";var Xu="\\ud800-\\udfff",RA="\\u0300-\\u036f",TA="\\ufe20-\\ufe2f",CA="\\u20d0-\\u20ff",SA=RA+TA+CA,OA="\\ufe0e\\ufe0f",EA="["+Xu+"]",Kr="["+SA+"]",Gr="\\ud83c[\\udffb-\\udfff]",IA="(?:"+Kr+"|"+Gr+")",el="[^"+Xu+"]",tl="(?:\\ud83c[\\udde6-\\uddff]){2}",rl="[\\ud800-\\udbff][\\udc00-\\udfff]",PA="\\u200d",nl=IA+"?",il="["+OA+"]?",MA="(?:"+PA+"(?:"+[el,tl,rl].join("|")+")"+il+nl+")*",NA=il+nl+MA,kA="(?:"+[el+Kr+"?",Kr,tl,rl,EA].join("|")+")",zA=RegExp(Gr+"(?="+Gr+")|"+kA+NA,"g");function jA(e){return e.match(zA)||[]}sl.exports=jA});var ul=h((JO,ol)=>{"use strict";var DA=Zu(),LA=Br(),HA=al();function UA(e){return LA(e)?HA(e):DA(e)}ol.exports=UA});var cl=h((ZO,ll)=>{"use strict";var $A=Qu(),BA=Br(),KA=ul(),GA=Or();function YA(e){return function(r){r=GA(r);var t=BA(r)?KA(r):void 0,n=t?t[0]:r.charAt(0),i=t?$A(t,1).join(""):r.slice(1);return n[e]()+i}}ll.exports=YA});var fl=h((XO,hl)=>{"use strict";var WA=cl(),QA=WA("toLowerCase");hl.exports=QA});var pl=h((eE,dl)=>{"use strict";var VA=St();function JA(e,r){return VA(e,r)}dl.exports=JA});var yl=h((tE,vl)=>{"use strict";var ZA=G();function XA(e,r){return function(t,n){if(t==null)return t;if(!ZA(t))return e(t,n);for(var i=t.length,s=r?i:-1,a=Object(t);(r?s--:++s<i)&&n(a[s],s,a)!==!1;);return t}}vl.exports=XA});var Yr=h((rE,gl)=>{"use strict";var ew=hr(),tw=yl(),rw=tw(ew);gl.exports=rw});var bl=h((nE,ml)=>{"use strict";var nw=Yr(),iw=G();function sw(e,r){var t=-1,n=iw(e)?Array(e.length):[];return nw(e,function(i,s,a){n[++t]=r(i,s,a)}),n}ml.exports=sw});var Al=h((iE,_l)=>{"use strict";var aw=Et(),ow=Ce(),uw=bl(),lw=N();function cw(e,r){var t=lw(e)?aw:uw;return t(e,ow(r,3))}_l.exports=cw});var xl=h((sE,wl)=>{"use strict";function hw(e,r){for(var t=-1,n=e==null?0:e.length;++t<n&&r(e[t],t,e)!==!1;);return e}wl.exports=hw});var et=h((aE,ql)=>{"use strict";var fw=yt(),dw=Ge(),pw=Object.prototype,vw=pw.hasOwnProperty;function yw(e,r,t){var n=e[r];(!(vw.call(e,r)&&dw(n,t))||t===void 0&&!(r in e))&&fw(e,r,t)}ql.exports=yw});var Oe=h((oE,Fl)=>{"use strict";var gw=et(),mw=yt();function bw(e,r,t,n){var i=!t;t||(t={});for(var s=-1,a=r.length;++s<a;){var o=r[s],u=n?n(t[o],e[o],o,t,e):void 0;u===void 0&&(u=e[o]),i?mw(t,o,u):gw(t,o,u)}return t}Fl.exports=bw});var Tl=h((uE,Rl)=>{"use strict";var _w=Oe(),Aw=J();function ww(e,r){return e&&_w(r,Aw(r),e)}Rl.exports=ww});var Sl=h((lE,Cl)=>{"use strict";function xw(e){var r=[];if(e!=null)for(var t in Object(e))r.push(t);return r}Cl.exports=xw});var El=h((cE,Ol)=>{"use strict";var qw=K(),Fw=_e(),Rw=Sl(),Tw=Object.prototype,Cw=Tw.hasOwnProperty;function Sw(e){if(!qw(e))return Rw(e);var r=Fw(e),t=[];for(var n in e)n=="constructor"&&(r||!Cw.call(e,n))||t.push(n);return t}Ol.exports=Sw});var tt=h((hE,Il)=>{"use strict";var Ow=lr(),Ew=El(),Iw=G();function Pw(e){return Iw(e)?Ow(e,!0):Ew(e)}Il.exports=Pw});var Ml=h((fE,Pl)=>{"use strict";var Mw=Oe(),Nw=tt();function kw(e,r){return e&&Mw(r,Nw(r),e)}Pl.exports=kw});var Dl=h((rt,Ee)=>{"use strict";var zw=L(),jl=typeof rt=="object"&&rt&&!rt.nodeType&&rt,Nl=jl&&typeof Ee=="object"&&Ee&&!Ee.nodeType&&Ee,jw=Nl&&Nl.exports===jl,kl=jw?zw.Buffer:void 0,zl=kl?kl.allocUnsafe:void 0;function Dw(e,r){if(r)return e.slice();var t=e.length,n=zl?zl(t):new e.constructor(t);return e.copy(n),n}Ee.exports=Dw});var Hl=h((dE,Ll)=>{"use strict";function Lw(e,r){var t=-1,n=e.length;for(r||(r=Array(n));++t<n;)r[t]=e[t];return r}Ll.exports=Lw});var $l=h((pE,Ul)=>{"use strict";var Hw=Oe(),Uw=Tt();function $w(e,r){return Hw(e,Uw(e),r)}Ul.exports=$w});var Wr=h((vE,Bl)=>{"use strict";var Bw=Rt(),Kw=pt(),Gw=Tt(),Yw=mr(),Ww=Object.getOwnPropertySymbols,Qw=Ww?function(e){for(var r=[];e;)Bw(r,Gw(e)),e=Kw(e);return r}:Yw;Bl.exports=Qw});var Gl=h((yE,Kl)=>{"use strict";var Vw=Oe(),Jw=Wr();function Zw(e,r){return Vw(e,Jw(e),r)}Kl.exports=Zw});var Wl=h((gE,Yl)=>{"use strict";var Xw=gr(),ex=Wr(),tx=tt();function rx(e){return Xw(e,tx,ex)}Yl.exports=rx});var Vl=h((mE,Ql)=>{"use strict";var nx=Object.prototype,ix=nx.hasOwnProperty;function sx(e){var r=e.length,t=new e.constructor(r);return r&&typeof e[0]=="string"&&ix.call(e,"index")&&(t.index=e.index,t.input=e.input),t}Ql.exports=sx});var Mt=h((bE,Zl)=>{"use strict";var Jl=vr();function ax(e){var r=new e.constructor(e.byteLength);return new Jl(r).set(new Jl(e)),r}Zl.exports=ax});var ec=h((_E,Xl)=>{"use strict";var ox=Mt();function ux(e,r){var t=r?ox(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}Xl.exports=ux});var rc=h((AE,tc)=>{"use strict";var lx=/\w*$/;function cx(e){var r=new e.constructor(e.source,lx.exec(e));return r.lastIndex=e.lastIndex,r}tc.exports=cx});var oc=h((wE,ac)=>{"use strict";var nc=le(),ic=nc?nc.prototype:void 0,sc=ic?ic.valueOf:void 0;function hx(e){return sc?Object(sc.call(e)):{}}ac.exports=hx});var lc=h((xE,uc)=>{"use strict";var fx=Mt();function dx(e,r){var t=r?fx(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}uc.exports=dx});var hc=h((qE,cc)=>{"use strict";var px=Mt(),vx=ec(),yx=rc(),gx=oc(),mx=lc(),bx="[object Boolean]",_x="[object Date]",Ax="[object Map]",wx="[object Number]",xx="[object RegExp]",qx="[object Set]",Fx="[object String]",Rx="[object Symbol]",Tx="[object ArrayBuffer]",Cx="[object DataView]",Sx="[object Float32Array]",Ox="[object Float64Array]",Ex="[object Int8Array]",Ix="[object Int16Array]",Px="[object Int32Array]",Mx="[object Uint8Array]",Nx="[object Uint8ClampedArray]",kx="[object Uint16Array]",zx="[object Uint32Array]";function jx(e,r,t){var n=e.constructor;switch(r){case Tx:return px(e);case bx:case _x:return new n(+e);case Cx:return vx(e,t);case Sx:case Ox:case Ex:case Ix:case Px:case Mx:case Nx:case kx:case zx:return mx(e,t);case Ax:return new n;case wx:case Fx:return new n(e);case xx:return yx(e);case qx:return new n;case Rx:return gx(e)}}cc.exports=jx});var pc=h((FE,dc)=>{"use strict";var Dx=K(),fc=Object.create,Lx=function(){function e(){}return function(r){if(!Dx(r))return{};if(fc)return fc(r);e.prototype=r;var t=new e;return e.prototype=void 0,t}}();dc.exports=Lx});var yc=h((RE,vc)=>{"use strict";var Hx=pc(),Ux=pt(),$x=_e();function Bx(e){return typeof e.constructor=="function"&&!$x(e)?Hx(Ux(e)):{}}vc.exports=Bx});var mc=h((TE,gc)=>{"use strict";var Kx=Re(),Gx=V(),Yx="[object Map]";function Wx(e){return Gx(e)&&Kx(e)==Yx}gc.exports=Wx});var wc=h((CE,Ac)=>{"use strict";var Qx=mc(),Vx=mt(),bc=bt(),_c=bc&&bc.isMap,Jx=_c?Vx(_c):Qx;Ac.exports=Jx});var qc=h((SE,xc)=>{"use strict";var Zx=Re(),Xx=V(),eq="[object Set]";function tq(e){return Xx(e)&&Zx(e)==eq}xc.exports=tq});var Cc=h((OE,Tc)=>{"use strict";var rq=qc(),nq=mt(),Fc=bt(),Rc=Fc&&Fc.isSet,iq=Rc?nq(Rc):rq;Tc.exports=iq});var Pc=h((EE,Ic)=>{"use strict";var sq=xt(),aq=xl(),oq=et(),uq=Tl(),lq=Ml(),cq=Dl(),hq=Hl(),fq=$l(),dq=Gl(),pq=br(),vq=Wl(),yq=Re(),gq=Vl(),mq=hc(),bq=yc(),_q=N(),Aq=Ue(),wq=wc(),xq=K(),qq=Cc(),Fq=J(),Rq=tt(),Tq=1,Cq=2,Sq=4,Sc="[object Arguments]",Oq="[object Array]",Eq="[object Boolean]",Iq="[object Date]",Pq="[object Error]",Oc="[object Function]",Mq="[object GeneratorFunction]",Nq="[object Map]",kq="[object Number]",Ec="[object Object]",zq="[object RegExp]",jq="[object Set]",Dq="[object String]",Lq="[object Symbol]",Hq="[object WeakMap]",Uq="[object ArrayBuffer]",$q="[object DataView]",Bq="[object Float32Array]",Kq="[object Float64Array]",Gq="[object Int8Array]",Yq="[object Int16Array]",Wq="[object Int32Array]",Qq="[object Uint8Array]",Vq="[object Uint8ClampedArray]",Jq="[object Uint16Array]",Zq="[object Uint32Array]",A={};A[Sc]=A[Oq]=A[Uq]=A[$q]=A[Eq]=A[Iq]=A[Bq]=A[Kq]=A[Gq]=A[Yq]=A[Wq]=A[Nq]=A[kq]=A[Ec]=A[zq]=A[jq]=A[Dq]=A[Lq]=A[Qq]=A[Vq]=A[Jq]=A[Zq]=!0;A[Pq]=A[Oc]=A[Hq]=!1;function Nt(e,r,t,n,i,s){var a,o=r&Tq,u=r&Cq,c=r&Sq;if(t&&(a=i?t(e,n,i,s):t(e)),a!==void 0)return a;if(!xq(e))return e;var f=_q(e);if(f){if(a=gq(e),!o)return hq(e,a)}else{var l=yq(e),d=l==Oc||l==Mq;if(Aq(e))return cq(e,o);if(l==Ec||l==Sc||d&&!i){if(a=u||d?{}:bq(e),!o)return u?dq(e,lq(a,e)):fq(e,uq(a,e))}else{if(!A[l])return i?e:{};a=mq(e,l,o)}}s||(s=new sq);var p=s.get(e);if(p)return p;s.set(e,a),qq(e)?e.forEach(function(g){a.add(Nt(g,r,t,g,e,s))}):wq(e)&&e.forEach(function(g,R){a.set(R,Nt(g,r,t,R,e,s))});var v=c?u?vq:pq:u?Rq:Fq,y=f?void 0:v(e);return aq(y||e,function(g,R){y&&(R=g,g=e[R]),oq(a,R,Nt(g,r,t,R,e,s))}),a}Ic.exports=Nt});var Nc=h((IE,Mc)=>{"use strict";var Xq=Pc(),e0=1,t0=4;function r0(e){return Xq(e,e0|t0)}Mc.exports=r0});var kt=h((PE,kc)=>{"use strict";function n0(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}kc.exports=n0});var jc=h((ME,zc)=>{"use strict";function i0(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}zc.exports=i0});var Lc=h((NE,Dc)=>{"use strict";var s0=Ze(),a0=$r();function o0(e,r){return r.length<2?e:s0(e,a0(r,0,-1))}Dc.exports=o0});var Uc=h((kE,Hc)=>{"use strict";var u0=kt(),l0=Te(),c0=jc(),h0=Lc(),f0=fe();function d0(e,r,t){r=l0(r,e),e=h0(e,r);var n=e==null?e:e[f0(c0(r))];return n==null?void 0:u0(n,e,t)}Hc.exports=d0});var Qr=h((zE,Bc)=>{"use strict";var p0=kt(),$c=Math.max;function v0(e,r,t){return r=$c(r===void 0?e.length-1:r,0),function(){for(var n=arguments,i=-1,s=$c(n.length-r,0),a=Array(s);++i<s;)a[i]=n[r+i];i=-1;for(var o=Array(r+1);++i<r;)o[i]=n[i];return o[r]=t(a),p0(e,this,o)}}Bc.exports=v0});var Gc=h((jE,Kc)=>{"use strict";function y0(e){return function(){return e}}Kc.exports=y0});var Qc=h((DE,Wc)=>{"use strict";var g0=Gc(),Yc=ar(),m0=Xe(),b0=Yc?function(e,r){return Yc(e,"toString",{configurable:!0,enumerable:!1,value:g0(r),writable:!0})}:m0;Wc.exports=b0});var Jc=h((LE,Vc)=>{"use strict";var _0=800,A0=16,w0=Date.now;function x0(e){var r=0,t=0;return function(){var n=w0(),i=A0-(n-t);if(t=n,i>0){if(++r>=_0)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}Vc.exports=x0});var Vr=h((HE,Zc)=>{"use strict";var q0=Qc(),F0=Jc(),R0=F0(q0);Zc.exports=R0});var Jr=h((UE,Xc)=>{"use strict";var T0=Xe(),C0=Qr(),S0=Vr();function O0(e,r){return S0(C0(e,r,T0),e+"")}Xc.exports=O0});var th=h(($E,eh)=>{"use strict";var E0=kt(),I0=Yr(),P0=Uc(),M0=Jr(),N0=G(),k0=M0(function(e,r,t){var n=-1,i=typeof r=="function",s=N0(e)?Array(e.length):[];return I0(e,function(a){s[++n]=i?E0(r,a,t):P0(a,r,t)}),s});eh.exports=k0});var nh=h((BE,rh)=>{"use strict";function z0(e){for(var r=-1,t=e==null?0:e.length,n=0,i=[];++r<t;){var s=e[r];s&&(i[n++]=s)}return i}rh.exports=z0});var sh=h((KE,ih)=>{"use strict";var j0=Object.prototype,D0=j0.hasOwnProperty;function L0(e,r){return e!=null&&D0.call(e,r)}ih.exports=L0});var oh=h((GE,ah)=>{"use strict";var H0=sh(),U0=Ir();function $0(e,r){return e!=null&&U0(e,r,H0)}ah.exports=$0});var lh=h((YE,uh)=>{"use strict";var B0=Et();function K0(e,r){return B0(r,function(t){return e[t]})}uh.exports=K0});var hh=h((WE,ch)=>{"use strict";var G0=lh(),Y0=J();function W0(e){return e==null?[]:G0(e,Y0(e))}ch.exports=W0});var dh=h((QE,fh)=>{"use strict";var Q0=cr(),V0=Re(),J0=Le(),Z0=N(),X0=G(),eF=Ue(),tF=_e(),rF=_t(),nF="[object Map]",iF="[object Set]",sF=Object.prototype,aF=sF.hasOwnProperty;function oF(e){if(e==null)return!0;if(X0(e)&&(Z0(e)||typeof e=="string"||typeof e.splice=="function"||eF(e)||rF(e)||J0(e)))return!e.length;var r=V0(e);if(r==nF||r==iF)return!e.size;if(tF(e))return!Q0(e).length;for(var t in e)if(aF.call(e,t))return!1;return!0}fh.exports=oF});var vh=h((VE,ph)=>{"use strict";var uF=Ce(),lF=kr();function cF(e,r){return e&&e.length?lF(e,uF(r,2)):[]}ph.exports=cF});var gh=h((JE,yh)=>{"use strict";var hF=Xe();function fF(e){return typeof e=="function"?e:hF}yh.exports=fF});var bh=h((ZE,mh)=>{"use strict";var dF=or(),pF=gh(),vF=tt();function yF(e,r){return e==null?e:dF(e,pF(r),vF)}mh.exports=yF});var wh=h((XE,Ah)=>{"use strict";var gF=et(),mF=Te(),bF=$e(),_h=K(),_F=fe();function AF(e,r,t,n){if(!_h(e))return e;r=mF(r,e);for(var i=-1,s=r.length,a=s-1,o=e;o!=null&&++i<s;){var u=_F(r[i]),c=t;if(u==="__proto__"||u==="constructor"||u==="prototype")return e;if(i!=a){var f=o[u];c=n?n(f,u,o):void 0,c===void 0&&(c=_h(f)?f:bF(r[i+1])?[]:{})}gF(o,u,c),o=o[u]}return e}Ah.exports=AF});var qh=h((eI,xh)=>{"use strict";var wF=Ze(),xF=wh(),qF=Te();function FF(e,r,t){for(var n=-1,i=r.length,s={};++n<i;){var a=r[n],o=wF(e,a);t(o,a)&&xF(s,qF(a,e),o)}return s}xh.exports=FF});var Rh=h((tI,Fh)=>{"use strict";var RF=qh(),TF=Pr();function CF(e,r){return RF(e,r,function(t,n){return TF(e,n)})}Fh.exports=CF});var Ch=h((rI,Th)=>{"use strict";var SF=zr(),OF=Qr(),EF=Vr();function IF(e){return EF(OF(e,void 0,SF),e+"")}Th.exports=IF});var Oh=h((nI,Sh)=>{"use strict";var PF=Rh(),MF=Ch(),NF=MF(function(e,r){return e==null?{}:PF(e,r)});Sh.exports=NF});var Ih=h((iI,Eh)=>{"use strict";var kF=Ge(),zF=G(),jF=$e(),DF=K();function LF(e,r,t){if(!DF(t))return!1;var n=typeof r;return(n=="number"?zF(t)&&jF(r,t.length):n=="string"&&r in t)?kF(t[r],e):!1}Eh.exports=LF});var Mh=h((sI,Ph)=>{"use strict";var HF=Jr(),UF=Ih();function $F(e){return HF(function(r,t){var n=-1,i=t.length,s=i>1?t[i-1]:void 0,a=i>2?t[2]:void 0;for(s=e.length>3&&typeof s=="function"?(i--,s):void 0,a&&UF(t[0],t[1],a)&&(s=i<3?void 0:s,i=1),r=Object(r);++n<i;){var o=t[n];o&&e(r,o,n,s)}return r})}Ph.exports=$F});var kh=h((aI,Nh)=>{"use strict";var BF=et(),KF=Oe(),GF=Mh(),YF=G(),WF=_e(),QF=J(),VF=Object.prototype,JF=VF.hasOwnProperty,ZF=GF(function(e,r){if(WF(r)||YF(r)){KF(r,QF(r),e);return}for(var t in r)JF.call(r,t)&&BF(e,t,r[t])});Nh.exports=ZF});var jh=h((oI,zh)=>{"use strict";var XF=Ce(),eR=G(),tR=J();function rR(e){return function(r,t,n){var i=Object(r);if(!eR(r)){var s=XF(t,3);r=tR(r),t=function(o){return s(i[o],o,i)}}var a=e(r,t,n);return a>-1?i[s?r[a]:a]:void 0}}zh.exports=rR});var Lh=h((uI,Dh)=>{"use strict";var nR=/\s/;function iR(e){for(var r=e.length;r--&&nR.test(e.charAt(r)););return r}Dh.exports=iR});var Uh=h((lI,Hh)=>{"use strict";var sR=Lh(),aR=/^\s+/;function oR(e){return e&&e.slice(0,sR(e)+1).replace(aR,"")}Hh.exports=oR});var Gh=h((cI,Kh)=>{"use strict";var uR=Uh(),$h=K(),lR=Je(),Bh=NaN,cR=/^[-+]0x[0-9a-f]+$/i,hR=/^0b[01]+$/i,fR=/^0o[0-7]+$/i,dR=parseInt;function pR(e){if(typeof e=="number")return e;if(lR(e))return Bh;if($h(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=$h(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=uR(e);var t=hR.test(e);return t||fR.test(e)?dR(e.slice(2),t?2:8):cR.test(e)?Bh:+e}Kh.exports=pR});var Qh=h((hI,Wh)=>{"use strict";var vR=Gh(),Yh=1/0,yR=17976931348623157e292;function gR(e){if(!e)return e===0?e:0;if(e=vR(e),e===Yh||e===-Yh){var r=e<0?-1:1;return r*yR}return e===e?e:0}Wh.exports=gR});var Zr=h((fI,Vh)=>{"use strict";var mR=Qh();function bR(e){var r=mR(e),t=r%1;return r===r?t?r-t:r:0}Vh.exports=bR});var Zh=h((dI,Jh)=>{"use strict";var _R=Mr(),AR=Ce(),wR=Zr(),xR=Math.max;function qR(e,r,t){var n=e==null?0:e.length;if(!n)return-1;var i=t==null?0:wR(t);return i<0&&(i=xR(n+i,0)),_R(e,AR(r,3),i)}Jh.exports=qR});var ef=h((pI,Xh)=>{"use strict";var FR=jh(),RR=Zh(),TR=FR(RR);Xh.exports=TR});var rf=h((vI,tf)=>{"use strict";var CR=Zr();function SR(e){return typeof e=="number"&&e==CR(e)}tf.exports=SR});var id="@",sd=(()=>{class e{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=ge(Nn);loadingSchedulerFn=ge(ad,{optional:!0});_engine;constructor(t,n,i,s,a){this.doc=t,this.delegate=n,this.zone=i,this.animationType=s,this.moduleImpl=a}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-Q7LIO6TW.js").then(i=>i),n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(t):n=t(),n.catch(i=>{throw new En(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:s})=>{this._engine=i(this.animationType,this.doc);let a=new s(this.delegate,this._engine,this.zone);return this.delegate=a,a})}createRenderer(t,n){let i=this.delegate.createRenderer(t,n);if(i.\u0275type===0)return i;typeof i.throwOnSyntheticProps=="boolean"&&(i.throwOnSyntheticProps=!1);let s=new tr(i);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let o=a.createRenderer(t,n);s.use(o),this.scheduler??=this.injector.get(kn,null,{optional:!0}),this.scheduler?.notify(11)}).catch(a=>{s.use(i)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(t){this._engine?.flush(),this.delegate.componentReplaced?.(t)}static \u0275fac=function(n){Hn()};static \u0275prov=In({token:e,factory:e.\u0275fac})}return e})(),tr=class{delegate;replay=[];\u0275type=1;constructor(r){this.delegate=r}use(r){if(this.delegate=r,this.replay!==null){for(let t of this.replay)t(r);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(r,t){return this.delegate.createElement(r,t)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}get destroyNode(){return this.delegate.destroyNode}appendChild(r,t){this.delegate.appendChild(r,t)}insertBefore(r,t,n,i){this.delegate.insertBefore(r,t,n,i)}removeChild(r,t,n){this.delegate.removeChild(r,t,n)}selectRootElement(r,t){return this.delegate.selectRootElement(r,t)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,t,n,i){this.delegate.setAttribute(r,t,n,i)}removeAttribute(r,t,n){this.delegate.removeAttribute(r,t,n)}addClass(r,t){this.delegate.addClass(r,t)}removeClass(r,t){this.delegate.removeClass(r,t)}setStyle(r,t,n,i){this.delegate.setStyle(r,t,n,i)}removeStyle(r,t,n){this.delegate.removeStyle(r,t,n)}setProperty(r,t,n){this.shouldReplay(t)&&this.replay.push(i=>i.setProperty(r,t,n)),this.delegate.setProperty(r,t,n)}setValue(r,t){this.delegate.setValue(r,t)}listen(r,t,n,i){return this.shouldReplay(t)&&this.replay.push(s=>s.listen(r,t,n,i)),this.delegate.listen(r,t,n,i)}shouldReplay(r){return this.replay!==null&&r.startsWith(id)}},ad=new Pn("");function ri(e="animations"){return jn("NgAsyncAnimations"),Mn([{provide:Ln,useFactory:(r,t,n)=>new sd(r,t,n,e),deps:[Kn,Yn,zn]},{provide:Dn,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var ni=e=>{let r=ge(Jn);return ge(ti).getQuestion(e.params.id).pipe(Sn(n=>n.question),On(n=>(r.navigate(["/"],{queryParams:{error:n.message}}),Cn)))};var ii=[{path:"",loadComponent:()=>import("./chunk-753QU6UA.js").then(e=>e.DashboardLayoutComponent),children:[{path:"",pathMatch:"full",redirectTo:"questions/create"},{path:"my-account",loadComponent:()=>import("./chunk-Q4VYRNDF.js").then(e=>e.MyAccountPageComponent)},{path:"questions",children:[{path:"create",loadComponent:()=>import("./chunk-FF4AS4YI.js").then(e=>e.QuestionFormPageComponent)},{path:":id",resolve:{question:ni},runGuardsAndResolvers:"always",children:[{path:"question-form",loadComponent:()=>import("./chunk-FF4AS4YI.js").then(e=>e.QuestionFormPageComponent)},{path:"visualization-type",loadComponent:()=>import("./chunk-DH56AYYH.js").then(e=>e.VisualizationTypePageComponent)},{path:"poll-settings",loadComponent:()=>import("./chunk-SAMVAB5N.js").then(e=>e.PollSettingsPageComponent)},{path:"question-assignment",loadComponent:()=>import("./chunk-YPOTWUP3.js").then(e=>e.QuestionAssignmentPageComponent)}]}]}]}];var si={providers:[Bn({eventCoalescing:!0}),Zn(ii,Xn()),ri(),Gn(),{provide:Qn,useValue:{appearance:"fill"}}]};var ai=(()=>{class e{title="sandbox";static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Un({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(n,i){n&1&&$n(0,"router-outlet")},dependencies:[ei,Vn],encapsulation:2})}return e})();var ze=T(qi()),ct=T(vt()),Mf=T(hu()),Nf=T(Su()),Xt=T(zr());var uA=Object.prototype.toString;function lA(e){return uA.call(e)==="[object Function]"}var Uu=function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")},It=function(){function e(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}();function ju(e){return e.split("").map(function(r){return"(?:"+r.toUpperCase()+"|"+r.toLowerCase()+")"}).join("")}function Se(e,r){for(var t=e.length-1;t>=0;t--)e[t]===r&&Array.prototype.splice.call(e,t,1)}function cA(e,r){return Object.prototype.hasOwnProperty.call(e,r)}var jr={},Du=function(){It(e,null,[{key:"getInstance",value:function(t){return jr[t]=jr[t]||new e,jr[t]}}]);function e(){Uu(this,e),this.plurals=[],this.singulars=[],this.uncountables=[],this.humans=[],this.acronyms={},this.acronymRegex=/(?=a)b/}return It(e,[{key:"acronym",value:function(t){this.acronyms[t.toLowerCase()]=t;var n=[];for(var i in this.acronyms)cA(this.acronyms,i)&&n.push(this.acronyms[i]);this.acronymRegex=new RegExp(n.join("|"))}},{key:"plural",value:function(t,n){typeof t=="string"&&Se(this.uncountables,t),Se(this.uncountables,n),this.plurals.unshift([t,n])}},{key:"singular",value:function(t,n){typeof t=="string"&&Se(this.uncountables,t),Se(this.uncountables,n),this.singulars.unshift([t,n])}},{key:"irregular",value:function(t,n){Se(this.uncountables,t),Se(this.uncountables,n);var i=t[0],s=t.substr(1),a=n[0],o=n.substr(1);if(i.toUpperCase()===a.toUpperCase())this.plural(new RegExp("("+i+")"+s+"$","i"),"$1"+o),this.plural(new RegExp("("+a+")"+o+"$","i"),"$1"+o),this.singular(new RegExp("("+i+")"+s+"$","i"),"$1"+s),this.singular(new RegExp("("+a+")"+o+"$","i"),"$1"+s);else{var u=ju(s),c=ju(o);this.plural(new RegExp(i.toUpperCase()+u+"$"),a.toUpperCase()+o),this.plural(new RegExp(i.toLowerCase()+u+"$"),a.toLowerCase()+o),this.plural(new RegExp(a.toUpperCase()+c+"$"),a.toUpperCase()+o),this.plural(new RegExp(a.toLowerCase()+c+"$"),a.toLowerCase()+o),this.singular(new RegExp(i.toUpperCase()+u+"$"),i.toUpperCase()+s),this.singular(new RegExp(i.toLowerCase()+u+"$"),i.toLowerCase()+s),this.singular(new RegExp(a.toUpperCase()+c+"$"),i.toUpperCase()+s),this.singular(new RegExp(a.toLowerCase()+c+"$"),i.toLowerCase()+s)}}},{key:"uncountable",value:function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];this.uncountables=this.uncountables.concat(n)}},{key:"human",value:function(t,n){this.humans.unshift([t,n])}},{key:"clear",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"all";t==="all"?(this.plurals=[],this.singulars=[],this.uncountables=[],this.humans=[]):this[t]=[]}}]),e}();function hA(e){e.plural(/$/,"s"),e.plural(/s$/i,"s"),e.plural(/^(ax|test)is$/i,"$1es"),e.plural(/(octop|vir)us$/i,"$1i"),e.plural(/(octop|vir)i$/i,"$1i"),e.plural(/(alias|status)$/i,"$1es"),e.plural(/(bu)s$/i,"$1ses"),e.plural(/(buffal|tomat)o$/i,"$1oes"),e.plural(/([ti])um$/i,"$1a"),e.plural(/([ti])a$/i,"$1a"),e.plural(/sis$/i,"ses"),e.plural(/(?:([^f])fe|([lr])f)$/i,"$1$2ves"),e.plural(/(hive)$/i,"$1s"),e.plural(/([^aeiouy]|qu)y$/i,"$1ies"),e.plural(/(x|ch|ss|sh)$/i,"$1es"),e.plural(/(matr|vert|ind)(?:ix|ex)$/i,"$1ices"),e.plural(/^(m|l)ouse$/i,"$1ice"),e.plural(/^(m|l)ice$/i,"$1ice"),e.plural(/^(ox)$/i,"$1en"),e.plural(/^(oxen)$/i,"$1"),e.plural(/(quiz)$/i,"$1zes"),e.singular(/s$/i,""),e.singular(/(ss)$/i,"$1"),e.singular(/(n)ews$/i,"$1ews"),e.singular(/([ti])a$/i,"$1um"),e.singular(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)(sis|ses)$/i,"$1sis"),e.singular(/(^analy)(sis|ses)$/i,"$1sis"),e.singular(/([^f])ves$/i,"$1fe"),e.singular(/(hive)s$/i,"$1"),e.singular(/(tive)s$/i,"$1"),e.singular(/([lr])ves$/i,"$1f"),e.singular(/([^aeiouy]|qu)ies$/i,"$1y"),e.singular(/(s)eries$/i,"$1eries"),e.singular(/(m)ovies$/i,"$1ovie"),e.singular(/(x|ch|ss|sh)es$/i,"$1"),e.singular(/^(m|l)ice$/i,"$1ouse"),e.singular(/(bus)(es)?$/i,"$1"),e.singular(/(o)es$/i,"$1"),e.singular(/(shoe)s$/i,"$1"),e.singular(/(cris|test)(is|es)$/i,"$1is"),e.singular(/^(a)x[ie]s$/i,"$1xis"),e.singular(/(octop|vir)(us|i)$/i,"$1us"),e.singular(/(alias|status)(es)?$/i,"$1"),e.singular(/^(ox)en/i,"$1"),e.singular(/(vert|ind)ices$/i,"$1ex"),e.singular(/(matr)ices$/i,"$1ix"),e.singular(/(quiz)zes$/i,"$1"),e.singular(/(database)s$/i,"$1"),e.irregular("person","people"),e.irregular("man","men"),e.irregular("child","children"),e.irregular("sex","sexes"),e.irregular("move","moves"),e.irregular("zombie","zombies"),e.uncountable("equipment","information","rice","money","species","series","fish","sheep","jeans","police")}var Lu={en:hA};function ne(e,r){if(lA(e)&&(r=e,e=null),e=e||"en",r)r(Du.getInstance(e));else return Du.getInstance(e)}for(Dr in Lu)ne(Dr,Lu[Dr]);var Dr;function $u(e,r){var t=""+e,n,i,s;if(t.length===0)return t;var a=t.toLowerCase().match(/\b\w+$/);if(a&&ne().uncountables.indexOf(a[0])>-1)return t;for(var o=0,u=r.length;o<u;o++)if(n=r[o],i=n[0],s=n[1],t.match(i)){t=t.replace(i,s);break}return t}function Hr(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en";return $u(e,ne(r).plurals)}function Ur(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en";return $u(e,ne(r).singulars)}function Pt(e){var r=e==null?"":String(e);return r.charAt(0).toUpperCase()+r.slice(1)}function Bu(e,r){r==null&&(r=!0);var t=""+e;return r?t=t.replace(/^[a-z\d]*/,function(n){return ne().acronyms[n]||Pt(n)}):t=t.replace(new RegExp("^(?:"+ne().acronymRegex.source+"(?=\\b|[A-Z_])|\\w)"),function(n){return n.toLowerCase()}),t=t.replace(/(?:_|(\/))([a-z\d]*)/gi,function(n,i,s,a,o){return i||(i=""),""+i+(ne().acronyms[s]||Pt(s))}),t}function Ku(e){var r=""+e;return r=r.replace(new RegExp("(?:([A-Za-z\\d])|^)("+ne().acronymRegex.source+")(?=\\b|[^a-z])","g"),function(t,n,i){return""+(n||"")+(n?"_":"")+i.toLowerCase()}),r=r.replace(/([A-Z\d]+)([A-Z][a-z])/g,"$1_$2"),r=r.replace(/([a-z\d])([A-Z])/g,"$1_$2"),r=r.replace(/-/g,"_"),r.toLowerCase()}function Gu(e){return e.replace(/_/g,"-")}var Hu={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00C6:"AE",\u00C7:"C",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00D0:"D",\u00D1:"N",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O","\xD7":"x",\u00D8:"O",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00DD:"Y",\u00DE:"Th",\u00DF:"ss",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00E6:"ae",\u00E7:"c",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00F0:"d",\u00F1:"n",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00FD:"y",\u00FE:"th",\u00FF:"y",\u0100:"A",\u0101:"a",\u0102:"A",\u0103:"a",\u0104:"A",\u0105:"a",\u0106:"C",\u0107:"c",\u0108:"C",\u0109:"c",\u010A:"C",\u010B:"c",\u010C:"C",\u010D:"c",\u010E:"D",\u010F:"d",\u0110:"D",\u0111:"d",\u0112:"E",\u0113:"e",\u0114:"E",\u0115:"e",\u0116:"E",\u0117:"e",\u0118:"E",\u0119:"e",\u011A:"E",\u011B:"e",\u011C:"G",\u011D:"g",\u011E:"G",\u011F:"g",\u0120:"G",\u0121:"g",\u0122:"G",\u0123:"g",\u0124:"H",\u0125:"h",\u0126:"H",\u0127:"h",\u0128:"I",\u0129:"i",\u012A:"I",\u012B:"i",\u012C:"I",\u012D:"i",\u012E:"I",\u012F:"i",\u0130:"I",\u0131:"i",\u0132:"IJ",\u0133:"ij",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013A:"l",\u013B:"L",\u013C:"l",\u013D:"L",\u013E:"l",\u013F:"L",\u0140:"l",\u0141:"L",\u0142:"l",\u0143:"N",\u0144:"n",\u0145:"N",\u0146:"n",\u0147:"N",\u0148:"n",\u0149:"'n",\u014A:"NG",\u014B:"ng",\u014C:"O",\u014D:"o",\u014E:"O",\u014F:"o",\u0150:"O",\u0151:"o",\u0152:"OE",\u0153:"oe",\u0154:"R",\u0155:"r",\u0156:"R",\u0157:"r",\u0158:"R",\u0159:"r",\u015A:"S",\u015B:"s",\u015C:"S",\u015D:"s",\u015E:"S",\u015F:"s",\u0160:"S",\u0161:"s",\u0162:"T",\u0163:"t",\u0164:"T",\u0165:"t",\u0166:"T",\u0167:"t",\u0168:"U",\u0169:"u",\u016A:"U",\u016B:"u",\u016C:"U",\u016D:"u",\u016E:"U",\u016F:"u",\u0170:"U",\u0171:"u",\u0172:"U",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017A:"z",\u017B:"Z",\u017C:"z",\u017D:"Z",\u017E:"z",\u0410:"A",\u0411:"B",\u0412:"V",\u0413:"G",\u0414:"D",\u0415:"E",\u0401:"E",\u0416:"ZH",\u0417:"Z",\u0418:"I",\u0419:"J",\u041A:"K",\u041B:"L",\u041C:"M",\u041D:"N",\u041E:"O",\u041F:"P",\u0420:"R",\u0421:"S",\u0422:"T",\u0423:"U",\u0424:"F",\u0425:"KH",\u0426:"C",\u0427:"CH",\u0428:"SH",\u0429:"SHCH",\u042A:"",\u042B:"Y",\u042C:"",\u042D:"E",\u042E:"YU",\u042F:"YA",\u0430:"a",\u0431:"b",\u0432:"v",\u0433:"g",\u0434:"d",\u0435:"e",\u0451:"e",\u0436:"zh",\u0437:"z",\u0438:"i",\u0439:"j",\u043A:"k",\u043B:"l",\u043C:"m",\u043D:"n",\u043E:"o",\u043F:"p",\u0440:"r",\u0441:"s",\u0442:"t",\u0443:"u",\u0444:"f",\u0445:"kh",\u0446:"c",\u0447:"ch",\u0448:"sh",\u0449:"shch",\u044A:"",\u044B:"y",\u044C:"",\u044D:"e",\u044E:"yu",\u044F:"ya"},fA="?",Lr={},BO=function(){It(e,null,[{key:"getInstance",value:function(t){return Lr[t]=Lr[t]||new e,Lr[t]}}]);function e(){Uu(this,e),this.approximations={};for(var r in Hu)this.approximate(r,Hu[r])}return It(e,[{key:"approximate",value:function(t,n){this.approximations[t]=n}},{key:"transliterate",value:function(t,n){var i=this;return t.replace(/[^\u0000-\u007f]/g,function(s){return i.approximations[s]||n||fA})}}]),e}();var kf=T(fl()),Gt=T(pl()),zf=T(Al()),jf=T(Nc()),X=T(th()),ht=T(nh()),Df=T(oh()),Bt=T(hh()),Yt=T(dh()),Fn=T(Er()),Rn=T(vh()),Lf=T(bh()),Hf=T(Oh()),Wt=T(kh()),Kt=T(ef()),wn=T(rf());typeof global<"u"&&typeof global.self>"u"&&(global.self={},global.__pretenderNodePolyfill=!0);var OR=Object.create;function Xr(){var e=OR(null);return e.__=void 0,delete e.__,e}var uf=function(r,t,n){this.path=r,this.matcher=t,this.delegate=n};uf.prototype.to=function(r,t){var n=this.delegate;if(n&&n.willAddRoute&&(r=n.willAddRoute(this.matcher.target,r)),this.matcher.add(this.path,r),t){if(t.length===0)throw new Error("You must have an argument in the function passed to `to`");this.matcher.addChild(this.path,r,t,this.delegate)}};var zt=function(r){this.routes=Xr(),this.children=Xr(),this.target=r};zt.prototype.add=function(r,t){this.routes[r]=t};zt.prototype.addChild=function(r,t,n,i){var s=new zt(t);this.children[r]=s;var a=en(r,s,i);i&&i.contextEntered&&i.contextEntered(t,a),n(a)};function en(e,r,t){function n(i,s){var a=e+i;if(s)s(en(a,r,t));else return new uf(a,r,t)}return n}function ER(e,r,t){for(var n=0,i=0;i<e.length;i++)n+=e[i].path.length;r=r.substr(n);var s={path:r,handler:t};e.push(s)}function lf(e,r,t,n){for(var i=r.routes,s=Object.keys(i),a=0;a<s.length;a++){var o=s[a],u=e.slice();ER(u,o,i[o]);var c=r.children[o];c?lf(u,c,t,n):t.call(n,u)}}var IR=function(e,r){var t=new zt;e(en("",t,this.delegate)),lf([],t,function(n){r?r(this,n):this.add(n)},this)};function cf(e){return e.split("/").map(tn).join("/")}var PR=/%|\//g;function tn(e){return e.length<3||e.indexOf("%")===-1?e:decodeURIComponent(e).replace(PR,encodeURIComponent)}var MR=/%(?:2(?:4|6|B|C)|3(?:B|D|A)|40)/g;function hf(e){return encodeURIComponent(e).replace(MR,decodeURIComponent)}var NR=/(\/|\.|\*|\+|\?|\||\(|\)|\[|\]|\{|\}|\\)/g,Dt=Array.isArray,kR=Object.prototype.hasOwnProperty;function ff(e,r){if(typeof e!="object"||e===null)throw new Error("You must pass an object as the second argument to `generate`.");if(!kR.call(e,r))throw new Error("You must provide param `"+r+"` to `generate`.");var t=e[r],n=typeof t=="string"?t:""+t;if(n.length===0)throw new Error("You must provide a param `"+r+"`.");return n}var nt=[];nt[0]=function(e,r){for(var t=r,n=e.value,i=0;i<n.length;i++){var s=n.charCodeAt(i);t=t.put(s,!1,!1)}return t};nt[1]=function(e,r){return r.put(47,!0,!0)};nt[2]=function(e,r){return r.put(-1,!1,!0)};nt[4]=function(e,r){return r};var it=[];it[0]=function(e){return e.value.replace(NR,"\\$1")};it[1]=function(){return"([^/]+)"};it[2]=function(){return"(.+)"};it[4]=function(){return""};var st=[];st[0]=function(e){return e.value};st[1]=function(e,r){var t=ff(r,e.value);return P.ENCODE_AND_DECODE_PATH_SEGMENTS?hf(t):t};st[2]=function(e,r){return ff(r,e.value)};st[4]=function(){return""};var nf=Object.freeze({}),jt=Object.freeze([]);function zR(e,r,t){r.length>0&&r.charCodeAt(0)===47&&(r=r.substr(1));for(var n=r.split("/"),i=void 0,s=void 0,a=0;a<n.length;a++){var o=n[a],u=0,c=0;o===""?c=4:o.charCodeAt(0)===58?c=1:o.charCodeAt(0)===42?c=2:c=0,u=2<<c,u&12&&(o=o.slice(1),i=i||[],i.push(o),s=s||[],s.push((u&4)!==0)),u&14&&t[c]++,e.push({type:c,value:tn(o)})}return{names:i||jt,shouldDecodes:s||jt}}function sf(e,r,t){return e.char===r&&e.negate===t}var Ie=function(r,t,n,i,s){this.states=r,this.id=t,this.char=n,this.negate=i,this.nextStates=s?t:null,this.pattern="",this._regex=void 0,this.handlers=void 0,this.types=void 0};Ie.prototype.regex=function(){return this._regex||(this._regex=new RegExp(this.pattern)),this._regex};Ie.prototype.get=function(r,t){var n=this,i=this.nextStates;if(i!==null)if(Dt(i))for(var s=0;s<i.length;s++){var a=n.states[i[s]];if(sf(a,r,t))return a}else{var o=this.states[i];if(sf(o,r,t))return o}};Ie.prototype.put=function(r,t,n){var i;if(i=this.get(r,t))return i;var s=this.states;return i=new Ie(s,s.length,r,t,n),s[s.length]=i,this.nextStates==null?this.nextStates=i.id:Dt(this.nextStates)?this.nextStates.push(i.id):this.nextStates=[this.nextStates,i.id],i};Ie.prototype.match=function(r){var t=this,n=this.nextStates;if(!n)return[];var i=[];if(Dt(n))for(var s=0;s<n.length;s++){var a=t.states[n[s]];af(a,r)&&i.push(a)}else{var o=this.states[n];af(o,r)&&i.push(o)}return i};function af(e,r){return e.negate?e.char!==r&&e.char!==-1:e.char===r||e.char===-1}function jR(e){return e.sort(function(r,t){var n=r.types||[0,0,0],i=n[0],s=n[1],a=n[2],o=t.types||[0,0,0],u=o[0],c=o[1],f=o[2];if(a!==f)return a-f;if(a){if(i!==u)return u-i;if(s!==c)return c-s}return s!==c?s-c:i!==u?u-i:0})}function DR(e,r){for(var t=[],n=0,i=e.length;n<i;n++){var s=e[n];t=t.concat(s.match(r))}return t}var Lt=function(r){this.length=0,this.queryParams=r||{}};Lt.prototype.splice=Array.prototype.splice;Lt.prototype.slice=Array.prototype.slice;Lt.prototype.push=Array.prototype.push;function LR(e,r,t){var n=e.handlers,i=e.regex();if(!i||!n)throw new Error("state not initialized");var s=r.match(i),a=1,o=new Lt(t);o.length=n.length;for(var u=0;u<n.length;u++){var c=n[u],f=c.names,l=c.shouldDecodes,d=nf,p=!1;if(f!==jt&&l!==jt)for(var v=0;v<f.length;v++){p=!0;var y=f[v],g=s&&s[a++];d===nf&&(d={}),P.ENCODE_AND_DECODE_PATH_SEGMENTS&&l[v]?d[y]=g&&decodeURIComponent(g):d[y]=g}o[u]={handler:c.handler,params:d,isDynamic:p}}return o}function of(e){e=e.replace(/\+/gm,"%20");var r;try{r=decodeURIComponent(e)}catch{r=""}return r}var P=function(){this.names=Xr();var r=[],t=new Ie(r,0,-1,!0,!1);r[0]=t,this.states=r,this.rootState=t};P.prototype.add=function(r,t){for(var n=this.rootState,i="^",s=[0,0,0],a=new Array(r.length),o=[],u=!0,c=0,f=0;f<r.length;f++){for(var l=r[f],d=zR(o,l.path,s),p=d.names,v=d.shouldDecodes;c<o.length;c++){var y=o[c];y.type!==4&&(u=!1,n=n.put(47,!1,!1),i+="/",n=nt[y.type](y,n),i+=it[y.type](y))}a[f]={handler:l.handler,names:p,shouldDecodes:v}}u&&(n=n.put(47,!1,!1),i+="/"),n.handlers=a,n.pattern=i+"$",n.types=s;var g;typeof t=="object"&&t!==null&&t.as&&(g=t.as),g&&(this.names[g]={segments:o,handlers:a})};P.prototype.handlersFor=function(r){var t=this.names[r];if(!t)throw new Error("There is no route named "+r);for(var n=new Array(t.handlers.length),i=0;i<t.handlers.length;i++){var s=t.handlers[i];n[i]=s}return n};P.prototype.hasRoute=function(r){return!!this.names[r]};P.prototype.generate=function(r,t){var n=this.names[r],i="";if(!n)throw new Error("There is no route named "+r);for(var s=n.segments,a=0;a<s.length;a++){var o=s[a];o.type!==4&&(i+="/",i+=st[o.type](o,t))}return i.charAt(0)!=="/"&&(i="/"+i),t&&t.queryParams&&(i+=this.generateQueryString(t.queryParams)),i};P.prototype.generateQueryString=function(r){var t=[],n=Object.keys(r);n.sort();for(var i=0;i<n.length;i++){var s=n[i],a=r[s];if(a!=null){var o=encodeURIComponent(s);if(Dt(a))for(var u=0;u<a.length;u++){var c=s+"[]="+encodeURIComponent(a[u]);t.push(c)}else o+="="+encodeURIComponent(a),t.push(o)}}return t.length===0?"":"?"+t.join("&")};P.prototype.parseQueryString=function(r){for(var t=r.split("&"),n={},i=0;i<t.length;i++){var s=t[i].split("="),a=of(s[0]),o=a.length,u=!1,c=void 0;s.length===1?c="true":(o>2&&a.slice(o-2)==="[]"&&(u=!0,a=a.slice(0,o-2),n[a]||(n[a]=[])),c=s[1]?of(s[1]):""),u?n[a].push(c):n[a]=c}return n};P.prototype.recognize=function(r){var t,n=[this.rootState],i={},s=!1,a=r.indexOf("#");a!==-1&&(r=r.substr(0,a));var o=r.indexOf("?");if(o!==-1){var u=r.substr(o+1,r.length);r=r.substr(0,o),i=this.parseQueryString(u)}r.charAt(0)!=="/"&&(r="/"+r);var c=r;P.ENCODE_AND_DECODE_PATH_SEGMENTS?r=cf(r):(r=decodeURI(r),c=decodeURI(c));var f=r.length;f>1&&r.charAt(f-1)==="/"&&(r=r.substr(0,f-1),c=c.substr(0,c.length-1),s=!0);for(var l=0;l<r.length&&(n=DR(n,r.charCodeAt(l)),!!n.length);l++);for(var d=[],p=0;p<n.length;p++)n[p].handlers&&d.push(n[p]);n=jR(d);var v=d[0];return v&&v.handlers&&(s&&v.pattern&&v.pattern.slice(-5)==="(.+)$"&&(c=c+"/"),t=LR(v,c,i)),t};P.VERSION="0.3.4";P.ENCODE_AND_DECODE_PATH_SEGMENTS=!0;P.Normalizer={normalizeSegment:tn,normalizePath:cf,encodePathSegment:hf};P.prototype.map=IR;var ie=P;var se=function(r,t,n,i){this.type=r,this.bubbles=t,this.cancelable=n,this.target=i};se.prototype={stopPropagation:function(){},preventDefault:function(){this.defaultPrevented=!0}};var HR={100:"Continue",101:"Switching Protocols",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",300:"Multiple Choice",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported"};function UR(e){var r;if(typeof DOMParser<"u"){var t=new DOMParser;r=t.parseFromString(e,"text/xml")}else r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(e);return r}var $R={"Accept-Charset":!0,"Accept-Encoding":!0,Connection:!0,"Content-Length":!0,Cookie:!0,Cookie2:!0,"Content-Transfer-Encoding":!0,Date:!0,Expect:!0,Host:!0,"Keep-Alive":!0,Referer:!0,TE:!0,Trailer:!0,"Transfer-Encoding":!0,Upgrade:!0,"User-Agent":!0,Via:!0};function BR(e,r){r.addEventListener(e,function(t){var n=r["on"+e];n&&typeof n=="function"&&n.call(t.target,t)})}function Ht(){this._eventListeners={};for(var e=["loadstart","progress","load","abort","loadend"],r=e.length-1;r>=0;r--)BR(e[r],this)}Ht.prototype={addEventListener:function(r,t){this._eventListeners[r]=this._eventListeners[r]||[],this._eventListeners[r].push(t)},removeEventListener:function(r,t){for(var n=this._eventListeners[r]||[],i=0,s=n.length;i<s;++i)if(n[i]==t)return n.splice(i,1)},dispatchEvent:function(r){for(var t=r.type,n=this._eventListeners[t]||[],i=0;i<n.length;i++)typeof n[i]=="function"?n[i].call(this,r):n[i].handleEvent(r);return!!r.defaultPrevented},_progress:function(r,t,n){var i=new se("progress");i.target=this,i.lengthComputable=r,i.loaded=t,i.total=n,this.dispatchEvent(i)}};function w(){Ht.call(this),this.readyState=w.UNSENT,this.requestHeaders={},this.requestBody=null,this.status=0,this.statusText="",this.upload=new Ht,this.onabort=null,this.onerror=null,this.onload=null,this.onloadend=null,this.onloadstart=null,this.onprogress=null,this.onreadystatechange=null,this.ontimeout=null}w.prototype=new Ht;w.UNSENT=0;w.OPENED=1;w.HEADERS_RECEIVED=2;w.LOADING=3;w.DONE=4;var df={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4,async:!0,withCredentials:!1,open:function(r,t,n,i,s){this.method=r,this.url=t,this.async=typeof n=="boolean"?n:!0,this.username=i,this.password=s,this.responseText=null,this.response=this.responseText,this.responseXML=null,this.responseURL=t,this.requestHeaders={},this.sendFlag=!1,this._readyStateChange(w.OPENED)},setRequestHeader:function(r,t){if(pf(this),$R[r]||/^(Sec-|Proxy-)/.test(r))throw new Error('Refused to set unsafe header "'+r+'"');this.requestHeaders[r]?this.requestHeaders[r]+=","+t:this.requestHeaders[r]=t},send:function(r){if(pf(this),!/^(get|head)$/i.test(this.method)){var t=!1;Object.keys(this.requestHeaders).forEach(function(n){n.toLowerCase()==="content-type"&&(t=!0)}),!t&&!(r||"").toString().match("FormData")&&(this.requestHeaders["Content-Type"]="text/plain;charset=UTF-8"),this.requestBody=r}this.errorFlag=!1,this.sendFlag=this.async,this._readyStateChange(w.OPENED),typeof this.onSend=="function"&&this.onSend(this),this.dispatchEvent(new se("loadstart",!1,!1,this))},abort:function(){this.aborted=!0,this.responseText=null,this.response=this.responseText,this.errorFlag=!0,this.requestHeaders={},this.dispatchEvent(new se("abort",!1,!1,this)),this.readyState>w.UNSENT&&this.sendFlag&&(this._readyStateChange(w.UNSENT),this.sendFlag=!1),typeof this.onerror=="function"&&this.onerror()},getResponseHeader:function(r){if(this.readyState<w.HEADERS_RECEIVED||/^Set-Cookie2?$/i.test(r))return null;r=r.toLowerCase();for(var t in this.responseHeaders)if(t.toLowerCase()==r)return this.responseHeaders[t];return null},getAllResponseHeaders:function(){if(this.readyState<w.HEADERS_RECEIVED)return"";var r="";for(var t in this.responseHeaders)this.responseHeaders.hasOwnProperty(t)&&!/^Set-Cookie2?$/i.test(t)&&(r+=t+": "+this.responseHeaders[t]+`\r
`);return r},overrideMimeType:function(r){typeof r=="string"&&(this.forceMimeType=r.toLowerCase())},_readyStateChange:function(r){this.readyState=r,typeof this.onreadystatechange=="function"&&this.onreadystatechange(new se("readystatechange")),this.dispatchEvent(new se("readystatechange")),this.readyState==w.DONE&&this.dispatchEvent(new se("load",!1,!1,this)),(this.readyState==w.UNSENT||this.readyState==w.DONE)&&this.dispatchEvent(new se("loadend",!1,!1,this))},_setResponseHeaders:function(r){this.responseHeaders={};for(var t in r)r.hasOwnProperty(t)&&(this.responseHeaders[t]=r[t]);this.forceMimeType&&(this.responseHeaders["Content-Type"]=this.forceMimeType),this.async?this._readyStateChange(w.HEADERS_RECEIVED):this.readyState=w.HEADERS_RECEIVED},_setResponseBody:function(r){KR(this),GR(this),YR(r);var t=this.chunkSize||10,n=0;this.responseText="",this.response=this.responseText;do this.async&&this._readyStateChange(w.LOADING),this.responseText+=r.substring(n,n+t),this.response=this.responseText,n+=t;while(n<r.length);var i=this.getResponseHeader("Content-Type");if(this.responseText&&(!i||/(text\/xml)|(application\/xml)|(\+xml)/.test(i)))try{this.responseXML=UR(this.responseText)}catch{}this.async?this._readyStateChange(w.DONE):this.readyState=w.DONE},respond:function(r,t,n){this._setResponseHeaders(t||{}),this.status=typeof r=="number"?r:200,this.statusText=HR[this.status],this._setResponseBody(n||"")}};for(rn in df)w.prototype[rn]=df[rn];var rn;function pf(e){if(e.readyState!==w.OPENED)throw new Error("INVALID_STATE_ERR");if(e.sendFlag)throw new Error("INVALID_STATE_ERR")}function KR(e){if(e.readyState==w.DONE)throw new Error("Request done")}function GR(e){if(e.async&&e.readyState!=w.HEADERS_RECEIVED)throw new Error("No headers received")}function YR(e){if(typeof e!="string"){var r=new Error("Attempted to respond to fake XMLHttpRequest with "+e+", which is not a string.");throw r.name="InvalidBodyException",r}}var at=w;var vf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wf=function(r,t){if(t=t.split(":")[0],r=+r,!r)return!1;switch(t){case"http":case"ws":return r!==80;case"https":case"wss":return r!==443;case"ftp":return r!==21;case"gopher":return r!==70;case"file":return!1}return r!==0},WR=Object.prototype.hasOwnProperty,QR;function yf(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return null}}function VR(e){for(var r=/([^=?&]+)=?([^&]*)/g,t={},n;n=r.exec(e);){var i=yf(n[1]),s=yf(n[2]);i===null||s===null||i in t||(t[i]=s)}return t}function JR(e,r){r=r||"";var t=[],n,i;typeof r!="string"&&(r="?");for(i in e)if(WR.call(e,i)){if(n=e[i],!n&&(n===null||n===QR||isNaN(n))&&(n=""),i=encodeURIComponent(i),n=encodeURIComponent(n),i===null||n===null)continue;t.push(i+"="+n)}return t.length?r+t.join("&"):""}var ZR=JR,XR=VR,Ut={stringify:ZR,parse:XR},eT=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,tT=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,rT=/^[a-zA-Z]:/,nT="[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]",iT=new RegExp("^"+nT+"+");function un(e){return(e||"").toString().replace(iT,"")}var an=[["#","hash"],["?","query"],function(r,t){return Z(t.protocol)?r.replace(/\\/g,"/"):r},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],gf={hash:1,query:1};function xf(e){var r;typeof window<"u"?r=window:typeof vf<"u"?r=vf:typeof self<"u"?r=self:r={};var t=r.location||{};e=e||t;var n={},i=typeof e,s;if(e.protocol==="blob:")n=new Y(unescape(e.pathname),{});else if(i==="string"){n=new Y(e,{});for(s in gf)delete n[s]}else if(i==="object"){for(s in e)s in gf||(n[s]=e[s]);n.slashes===void 0&&(n.slashes=eT.test(e.href))}return n}function Z(e){return e==="file:"||e==="ftp:"||e==="http:"||e==="https:"||e==="ws:"||e==="wss:"}function qf(e,r){e=un(e),r=r||{};var t=tT.exec(e),n=t[1]?t[1].toLowerCase():"",i=!!t[2],s=!!t[3],a=0,o;return i?s?(o=t[2]+t[3]+t[4],a=t[2].length+t[3].length):(o=t[2]+t[4],a=t[2].length):s?(o=t[3]+t[4],a=t[3].length):o=t[4],n==="file:"?a>=2&&(o=o.slice(2)):Z(n)?o=t[4]:n?i&&(o=o.slice(2)):a>=2&&Z(r.protocol)&&(o=t[4]),{protocol:n,slashes:i||Z(n),slashesCount:a,rest:o}}function sT(e,r){if(e==="")return r;for(var t=(r||"/").split("/").slice(0,-1).concat(e.split("/")),n=t.length,i=t[n-1],s=!1,a=0;n--;)t[n]==="."?t.splice(n,1):t[n]===".."?(t.splice(n,1),a++):a&&(n===0&&(s=!0),t.splice(n,1),a--);return s&&t.unshift(""),(i==="."||i==="..")&&t.push(""),t.join("/")}function Y(e,r,t){if(e=un(e),!(this instanceof Y))return new Y(e,r,t);var n,i,s,a,o,u,c=an.slice(),f=typeof r,l=this,d=0;for(f!=="object"&&f!=="string"&&(t=r,r=null),t&&typeof t!="function"&&(t=Ut.parse),r=xf(r),i=qf(e||"",r),n=!i.protocol&&!i.slashes,l.slashes=i.slashes||n&&r.slashes,l.protocol=i.protocol||r.protocol||"",e=i.rest,(i.protocol==="file:"&&(i.slashesCount!==2||rT.test(e))||!i.slashes&&(i.protocol||i.slashesCount<2||!Z(l.protocol)))&&(c[3]=[/(.*)/,"pathname"]);d<c.length;d++){if(a=c[d],typeof a=="function"){e=a(e,l);continue}s=a[0],u=a[1],s!==s?l[u]=e:typeof s=="string"?~(o=e.indexOf(s))&&(typeof a[2]=="number"?(l[u]=e.slice(0,o),e=e.slice(o+a[2])):(l[u]=e.slice(o),e=e.slice(0,o))):(o=s.exec(e))&&(l[u]=o[1],e=e.slice(0,o.index)),l[u]=l[u]||n&&a[3]&&r[u]||"",a[4]&&(l[u]=l[u].toLowerCase())}t&&(l.query=t(l.query)),n&&r.slashes&&l.pathname.charAt(0)!=="/"&&(l.pathname!==""||r.pathname!=="")&&(l.pathname=sT(l.pathname,r.pathname)),l.pathname.charAt(0)!=="/"&&Z(l.protocol)&&(l.pathname="/"+l.pathname),wf(l.port,l.protocol)||(l.host=l.hostname,l.port=""),l.username=l.password="",l.auth&&(a=l.auth.split(":"),l.username=a[0]||"",l.password=a[1]||""),l.origin=l.protocol!=="file:"&&Z(l.protocol)&&l.host?l.protocol+"//"+l.host:"null",l.href=l.toString()}function aT(e,r,t){var n=this;switch(e){case"query":typeof r=="string"&&r.length&&(r=(t||Ut.parse)(r)),n[e]=r;break;case"port":n[e]=r,wf(r,n.protocol)?r&&(n.host=n.hostname+":"+r):(n.host=n.hostname,n[e]="");break;case"hostname":n[e]=r,n.port&&(r+=":"+n.port),n.host=r;break;case"host":n[e]=r,/:\d+$/.test(r)?(r=r.split(":"),n.port=r.pop(),n.hostname=r.join(":")):(n.hostname=r,n.port="");break;case"protocol":n.protocol=r.toLowerCase(),n.slashes=!t;break;case"pathname":case"hash":if(r){var i=e==="pathname"?"/":"#";n[e]=r.charAt(0)!==i?i+r:r}else n[e]=r;break;default:n[e]=r}for(var s=0;s<an.length;s++){var a=an[s];a[4]&&(n[a[1]]=n[a[1]].toLowerCase())}return n.origin=n.protocol!=="file:"&&Z(n.protocol)&&n.host?n.protocol+"//"+n.host:"null",n.href=n.toString(),n}function oT(e){(!e||typeof e!="function")&&(e=Ut.stringify);var r,t=this,n=t.protocol;n&&n.charAt(n.length-1)!==":"&&(n+=":");var i=n+(t.slashes||Z(t.protocol)?"//":"");return t.username&&(i+=t.username,t.password&&(i+=":"+t.password),i+="@"),i+=t.host+t.pathname,r=typeof t.query=="object"?e(t.query):t.query,r&&(i+=r.charAt(0)!=="?"?"?"+r:r),t.hash&&(i+=t.hash),i}Y.prototype={set:aT,toString:oT};Y.extractProtocol=qf;Y.location=xf;Y.trimLeft=un;Y.qs=Ut;var uT=Y;function Pe(e){var r=new uT(e);r.host||(r.href=r.href);var t=r.pathname;t.charAt(0)!=="/"&&(t="/"+t);var n=r.host;return(r.port==="80"||r.port==="443")&&(n=r.hostname),{host:n,protocol:r.protocol,search:r.query,hash:r.hash,href:r.href,pathname:t,fullpath:t+(r.query||"")+(r.hash||"")}}var ln=function(){function e(){this.verbs={GET:new ie,PUT:new ie,POST:new ie,DELETE:new ie,PATCH:new ie,HEAD:new ie,OPTIONS:new ie}}return e}(),on=function(){function e(){this.registries={}}return e.prototype.forURL=function(r){var t=Pe(r).host,n=this.registries[t];return n===void 0&&(n=this.registries[t]=new ln),n.verbs},e}(),E=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof E<"u"&&E,M={searchParams:"URLSearchParams"in E,iterable:"Symbol"in E&&"iterator"in Symbol,blob:"FileReader"in E&&"Blob"in E&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in E,arrayBuffer:"ArrayBuffer"in E};function lT(e){return e&&DataView.prototype.isPrototypeOf(e)}M.arrayBuffer&&(mf=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Ff=ArrayBuffer.isView||function(e){return e&&mf.indexOf(Object.prototype.toString.call(e))>-1});var mf,Ff;function ot(e){if(typeof e!="string"&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||e==="")throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function cn(e){return typeof e!="string"&&(e=String(e)),e}function hn(e){var r={next:function(){var t=e.shift();return{done:t===void 0,value:t}}};return M.iterable&&(r[Symbol.iterator]=function(){return r}),r}function C(e){this.map={},e instanceof C?e.forEach(function(r,t){this.append(t,r)},this):Array.isArray(e)?e.forEach(function(r){this.append(r[0],r[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(r){this.append(r,e[r])},this)}C.prototype.append=function(e,r){e=ot(e),r=cn(r);var t=this.map[e];this.map[e]=t?t+", "+r:r};C.prototype.delete=function(e){delete this.map[ot(e)]};C.prototype.get=function(e){return e=ot(e),this.has(e)?this.map[e]:null};C.prototype.has=function(e){return this.map.hasOwnProperty(ot(e))};C.prototype.set=function(e,r){this.map[ot(e)]=cn(r)};C.prototype.forEach=function(e,r){for(var t in this.map)this.map.hasOwnProperty(t)&&e.call(r,this.map[t],t,this)};C.prototype.keys=function(){var e=[];return this.forEach(function(r,t){e.push(t)}),hn(e)};C.prototype.values=function(){var e=[];return this.forEach(function(r){e.push(r)}),hn(e)};C.prototype.entries=function(){var e=[];return this.forEach(function(r,t){e.push([t,r])}),hn(e)};M.iterable&&(C.prototype[Symbol.iterator]=C.prototype.entries);function nn(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function Rf(e){return new Promise(function(r,t){e.onload=function(){r(e.result)},e.onerror=function(){t(e.error)}})}function cT(e){var r=new FileReader,t=Rf(r);return r.readAsArrayBuffer(e),t}function hT(e){var r=new FileReader,t=Rf(r);return r.readAsText(e),t}function fT(e){for(var r=new Uint8Array(e),t=new Array(r.length),n=0;n<r.length;n++)t[n]=String.fromCharCode(r[n]);return t.join("")}function bf(e){if(e.slice)return e.slice(0);var r=new Uint8Array(e.byteLength);return r.set(new Uint8Array(e)),r.buffer}function Tf(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?typeof e=="string"?this._bodyText=e:M.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:M.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:M.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():M.arrayBuffer&&M.blob&&lT(e)?(this._bodyArrayBuffer=bf(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):M.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||Ff(e))?this._bodyArrayBuffer=bf(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||(typeof e=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):M.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},M.blob&&(this.blob=function(){var e=nn(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=nn(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(cT)}),this.text=function(){var e=nn(this);if(e)return e;if(this._bodyBlob)return hT(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(fT(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},M.formData&&(this.formData=function(){return this.text().then(vT)}),this.json=function(){return this.text().then(JSON.parse)},this}var dT=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function pT(e){var r=e.toUpperCase();return dT.indexOf(r)>-1?r:e}function oe(e,r){if(!(this instanceof oe))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');r=r||{};var t=r.body;if(e instanceof oe){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,r.headers||(this.headers=new C(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,!t&&e._bodyInit!=null&&(t=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=r.credentials||this.credentials||"same-origin",(r.headers||!this.headers)&&(this.headers=new C(r.headers)),this.method=pT(r.method||this.method||"GET"),this.mode=r.mode||this.mode||null,this.signal=r.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&t)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(t),(this.method==="GET"||this.method==="HEAD")&&(r.cache==="no-store"||r.cache==="no-cache")){var n=/([?&])_=[^&]*/;if(n.test(this.url))this.url=this.url.replace(n,"$1_="+new Date().getTime());else{var i=/\?/;this.url+=(i.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}oe.prototype.clone=function(){return new oe(this,{body:this._bodyInit})};function vT(e){var r=new FormData;return e.trim().split("&").forEach(function(t){if(t){var n=t.split("="),i=n.shift().replace(/\+/g," "),s=n.join("=").replace(/\+/g," ");r.append(decodeURIComponent(i),decodeURIComponent(s))}}),r}function yT(e){var r=new C,t=e.replace(/\r?\n[\t ]+/g," ");return t.split("\r").map(function(n){return n.indexOf(`
`)===0?n.substr(1,n.length):n}).forEach(function(n){var i=n.split(":"),s=i.shift().trim();if(s){var a=i.join(":").trim();r.append(s,a)}}),r}Tf.call(oe.prototype);function H(e,r){if(!(this instanceof H))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');r||(r={}),this.type="default",this.status=r.status===void 0?200:r.status,this.ok=this.status>=200&&this.status<300,this.statusText=r.statusText===void 0?"":""+r.statusText,this.headers=new C(r.headers),this.url=r.url||"",this._initBody(e)}Tf.call(H.prototype);H.prototype.clone=function(){return new H(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new C(this.headers),url:this.url})};H.error=function(){var e=new H(null,{status:0,statusText:""});return e.type="error",e};var gT=[301,302,303,307,308];H.redirect=function(e,r){if(gT.indexOf(r)===-1)throw new RangeError("Invalid status code");return new H(null,{status:r,headers:{location:e}})};var ae=E.DOMException;try{new ae}catch{ae=function(r,t){this.message=r,this.name=t;var n=Error(r);this.stack=n.stack},ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae}function fn(e,r){return new Promise(function(t,n){var i=new oe(e,r);if(i.signal&&i.signal.aborted)return n(new ae("Aborted","AbortError"));var s=new XMLHttpRequest;function a(){s.abort()}s.onload=function(){var u={status:s.status,statusText:s.statusText,headers:yT(s.getAllResponseHeaders()||"")};u.url="responseURL"in s?s.responseURL:u.headers.get("X-Request-URL");var c="response"in s?s.response:s.responseText;setTimeout(function(){t(new H(c,u))},0)},s.onerror=function(){setTimeout(function(){n(new TypeError("Network request failed"))},0)},s.ontimeout=function(){setTimeout(function(){n(new TypeError("Network request failed"))},0)},s.onabort=function(){setTimeout(function(){n(new ae("Aborted","AbortError"))},0)};function o(u){try{return u===""&&E.location.href?E.location.href:u}catch{return u}}s.open(i.method,o(i.url),!0),i.credentials==="include"?s.withCredentials=!0:i.credentials==="omit"&&(s.withCredentials=!1),"responseType"in s&&(M.blob?s.responseType="blob":M.arrayBuffer&&i.headers.get("Content-Type")&&i.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(s.responseType="arraybuffer")),r&&typeof r.headers=="object"&&!(r.headers instanceof C)?Object.getOwnPropertyNames(r.headers).forEach(function(u){s.setRequestHeader(u,cn(r.headers[u]))}):i.headers.forEach(function(u,c){s.setRequestHeader(c,u)}),i.signal&&(i.signal.addEventListener("abort",a),s.onreadystatechange=function(){s.readyState===4&&i.signal.removeEventListener("abort",a)}),s.send(typeof i._bodyInit>"u"?null:i._bodyInit)})}fn.polyfill=!0;E.fetch||(E.fetch=fn,E.Headers=C,E.Request=oe,E.Response=H);var _f=Object.freeze({__proto__:null,Headers:C,Request:oe,Response:H,get DOMException(){return ae},fetch:fn});function mT(e,r){var t=["error","timeout","abort","readystatechange"],n=[],i=["readyState","responseText","response","responseXML","responseURL","status","statusText"],s=e._passthroughRequest=new r;s.open(e.method,e.url,e.async,e.username,e.password),e.responseType==="arraybuffer"&&(i=["readyState","response","status","statusText"],s.responseType=e.responseType),"onload"in s&&t.push("load"),e.async&&e.responseType!=="arraybuffer"&&(t.push("progress"),n.push("progress"));function a(d,p,v){for(var y=0;y<d.length;y++){var g=d[y];g in p&&(v[g]=p[g])}}function o(d,p,v){d.dispatchEvent(v),d["on"+p]&&d["on"+p](v)}function u(d){s["on"+d]=function(p){a(i,s,e),o(e,d,p)}}function c(d){s.upload&&e.upload&&e.upload["on"+d]&&(s.upload["on"+d]=function(p){o(e.upload,d,p)})}var f;for(f=0;f<t.length;f++)u(t[f]);for(f=0;f<n.length;f++)c(n[f]);e.async&&(s.timeout=e.timeout,s.withCredentials=e.withCredentials),!s.timeout&&s.timeout!==0&&(s.timeout=0);for(var l in e.requestHeaders)s.setRequestHeader(l,e.requestHeaders[l]);return s}function bT(e){function r(){at.call(this)}return r.prototype=Object.create(at.prototype),r.prototype.constructor=r,r.prototype.send=function(){if(this.sendArguments=arguments,!e.pretender.running)throw new Error("You shut down a Pretender instance while there was a pending request. That request just tried to complete. Check to see if you accidentally shut down a pretender earlier than you intended to");at.prototype.send.apply(this,arguments),e.pretender.checkPassthrough(this)?this.passthrough():e.pretender.handleRequest(this)},r.prototype.passthrough=function(){if(!this.sendArguments)throw new Error("You attempted to passthrough a FakeRequest that was never sent. Call `.send()` on the original request first");var n=mT(this,e.pretender._nativeXMLHttpRequest);return n.send.apply(n,this.sendArguments),n},r.prototype._passthroughCheck=function(t,n){return this._passthroughRequest?this._passthroughRequest[t].apply(this._passthroughRequest,n):at.prototype[t].apply(this,n)},r.prototype.abort=function(){return this._passthroughCheck("abort",arguments)},r.prototype.getResponseHeader=function(){return this._passthroughCheck("getResponseHeader",arguments)},r.prototype.getAllResponseHeaders=function(){return this._passthroughCheck("getAllResponseHeaders",arguments)},e.pretender._nativeXMLHttpRequest.prototype._passthroughCheck&&console.warn("You created a second Pretender instance while there was already one running. Running two Pretender servers at once will lead to unexpected results and will be removed entirely in a future major version.Please call .shutdown() on your instances when you no longer need them to respond."),r}var sn=function(){function e(){this.length=0}return e.prototype.push=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return 0},e}();function Cf(e,r,t){var n=0,i=e.requestBody;i&&(i instanceof FormData?i.forEach(function(s){s instanceof File?n+=s.size:n+=s.length}):n=i.byteLength||i.size||i.length||0),setTimeout(function(){if(!e.aborted&&!e.status){var s=new Date().getTime()-r.getTime(),a=t<=0?0:s/t*n;e.upload._progress(!0,a,n),e._progress(!0,a,n),Cf(e,r,t)}else e.status&&(e.upload._progress(!0,n,n),e._progress(!0,n,n))},50)}function _T(e){return Object.prototype.toString.call(e)==="[object Array]"}var Af={};function de(e){return function(r,t,n){return this.register(e,r,t,n)}}var $t=function(){function e(){var r=this;this.hosts=new on,this.handlers=[],this.get=de("GET"),this.post=de("POST"),this.put=de("PUT"),this.delete=de("DELETE"),this.patch=de("PATCH"),this.head=de("HEAD"),this.options=de("OPTIONS"),this.passthrough=Af;var t=arguments[arguments.length-1],n=typeof t=="object"?t:null,i=n&&n.trackRequests===!1;this.handledRequests=i?new sn:[],this.passthroughRequests=i?new sn:[],this.unhandledRequests=i?new sn:[],this.requestReferences=[],this.forcePassthrough=n&&n.forcePassthrough===!0,this.disableUnhandled=n&&n.disableUnhandled===!0,this._nativeXMLHttpRequest=self.XMLHttpRequest,this.running=!1;var s={pretender:this};this.ctx=s,self.XMLHttpRequest=bT(s),this._fetchProps=_f?["fetch","Headers","Request","Response"]:[],this._fetchProps.forEach(function(u){r["_native"+u]=self[u],self[u]=_f[u]},this),this.running=!0;for(var a=n?arguments.length-1:arguments.length,o=0;o<a;o++)this.map(arguments[o])}return e.prototype.map=function(r){r.call(this)},e.prototype.register=function(r,t,n,i){if(!n)throw new Error("The function you tried passing to Pretender to handle "+r+" "+t+" is undefined or missing.");var s=n;s.numberOfCalls=0,s.async=i,this.handlers.push(s);var a=this.hosts.forURL(t)[r];return a.add([{path:Pe(t).fullpath,handler:s}]),s},e.prototype.checkPassthrough=function(r){var t=r.method.toUpperCase(),n=Pe(r.url).fullpath,i=this.hosts.forURL(r.url)[t].recognize(n),s=i&&i[0];return s&&s.handler===Af||this.forcePassthrough?(this.passthroughRequests.push(r),this.passthroughRequest(t,n,r),!0):!1},e.prototype.handleRequest=function(r){var t=r.method.toUpperCase(),n=r.url,i=this._handlerFor(t,n,r);if(i){i.handler.numberOfCalls++;var s=i.handler.async;this.handledRequests.push(r);var a=this,o=function(c){if(!_T(c)){var f="Remember to `return [status, headers, body];` in your route handler.";throw new Error("Nothing returned by handler for "+n+". "+f)}var l=c[0],d=a.prepareHeaders(c[1]),p=a.prepareBody(c[2],d);a.handleResponse(r,s,function(){r.respond(l,d,p),a.handledRequest(t,n,r)})};try{var u=i.handler(r);u&&typeof u.then=="function"?u.then(function(c){o(c)}):o(u)}catch(c){this.erroredRequest(t,n,r,c),this.resolve(r)}}else this.disableUnhandled||(this.unhandledRequests.push(r),this.unhandledRequest(t,n,r))},e.prototype.handleResponse=function(r,t,n){var i=typeof t=="function"?t():t;if(i=typeof i=="boolean"||typeof i=="number"?i:0,i===!1)n();else{var s=this;s.requestReferences.push({request:r,callback:n}),i!==!0&&(Cf(r,new Date,i),setTimeout(function(){s.resolve(r)},i))}},e.prototype.resolve=function(r){for(var t=0,n=this.requestReferences.length;t<n;t++){var i=this.requestReferences[t];if(i.request===r){i.callback(),this.requestReferences.splice(t,1);break}}},e.prototype.requiresManualResolution=function(r,t){var n=this._handlerFor(r.toUpperCase(),t,{});if(!n)return!1;var i=n.handler.async;return typeof i=="function"?i()===!0:i===!0},e.prototype.prepareBody=function(r,t){return r},e.prototype.prepareHeaders=function(r){return r},e.prototype.handledRequest=function(r,t,n){},e.prototype.passthroughRequest=function(r,t,n){},e.prototype.unhandledRequest=function(r,t,n){throw new Error("Pretender intercepted "+r+" "+t+" but no handler was defined for this type of request")},e.prototype.erroredRequest=function(r,t,n,i){throw i.message="Pretender intercepted "+r+" "+t+" but encountered an error: "+i.message,i},e.prototype.shutdown=function(){var r=this;self.XMLHttpRequest=this._nativeXMLHttpRequest,this._fetchProps.forEach(function(t){self[t]=r["_native"+t]},this),this.ctx.pretender=void 0,this.running=!1},e.prototype._handlerFor=function(r,t,n){var i=this.hosts.forURL(t)[r],s=i.recognize(Pe(t).fullpath),a=s?s[0]:null;return a&&(n.params=a.params,n.queryParams=s.queryParams),a},e.parseURL=Pe,e.Hosts=on,e.Registry=ln,e}();$t.parseURL=Pe;$t.Hosts=on;$t.Registry=ln;var Sf=$t;typeof global<"u"&&global.__pretenderNodePolyfill&&(delete global.self,delete global.__pretenderNodePolyfill);function Of(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function AT(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Of(Object(t),!0).forEach(function(n){S(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Of(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function O(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?O=function(r){return typeof r}:O=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},O(e)}function _(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ef(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function q(e,r,t){return r&&Ef(e.prototype,r),t&&Ef(e,t),e}function S(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function $(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Vt(e,r)}function Qt(e){return Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Qt(e)}function Vt(e,r){return Vt=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Vt(e,r)}function Uf(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function U(e,r,t){return Uf()?U=Reflect.construct:U=function(i,s,a){var o=[null];o.push.apply(o,s);var u=Function.bind.apply(i,o),c=new u;return a&&Vt(c,a.prototype),c},U.apply(null,arguments)}function $f(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wT(e,r){if(r&&(typeof r=="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $f(e)}function B(e){var r=Uf();return function(){var n=Qt(e),i;if(r){var s=Qt(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return wT(this,i)}}function k(e,r){return Bf(e)||FT(e,r)||Tn(e,r)||Gf()}function xT(e){return Bf(e)||Kf(e)||Tn(e)||Gf()}function ke(e){return qT(e)||Kf(e)||Tn(e)||RT()}function qT(e){if(Array.isArray(e))return xn(e)}function Bf(e){if(Array.isArray(e))return e}function Kf(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FT(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,s=!1,a,o;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(n.push(a.value),!(r&&n.length===r));i=!0);}catch(u){s=!0,o=u}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw o}}return n}}function Tn(e,r){if(e){if(typeof e=="string")return xn(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xn(e,r)}}function xn(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function RT(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gf(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TT(e){for(var r=(0,Nf.default)((0,Xt.default)(e)),t=r.length,n=new Array(t),i={},s=t,a=function o(u,c,f){if(f.indexOf(u)>=0)throw new Error("Cyclic dependency in properties ".concat(JSON.stringify(f)));if(!i[c]){i[c]=!0;var l=e.filter(function(y){return y&&y[0]===u});if(c=l.length,c){var d=f.concat(u);do{var p=l[--c],v=p[1];v&&o(v,r.indexOf(v),d)}while(c)}n[--t]=u}};s--;)i[s]||a(r[s],s,[]);return n.reverse()}var pe=function e(){this.build=function(r){var t=this,n={},i=Object.assign({},this.attrs);delete i.afterCreate,Object.keys(i).forEach(function(a){e.isTrait.call(t,a)&&delete i[a]});var s=CT(i,r);return s.forEach(function(a){var o,u;o=function(l){return(0,Mf.default)(l,u)},u=function(l){return Array.isArray(l)?l.map(u):(0,ze.default)(l)?o(l):(0,ct.default)(l)?l.call(i,r):l};var c=i[a];(0,ct.default)(c)?n[a]=c.call(n,r):n[a]=u(c)}),n}};pe.extend=function(e){var r=Object.assign({},this.attrs,e),t=function(){this.attrs=r,pe.call(this)};return t.extend=pe.extend,t.extractAfterCreateCallbacks=pe.extractAfterCreateCallbacks,t.isTrait=pe.isTrait,t.attrs=r,t};pe.extractAfterCreateCallbacks=function(){var e=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=r.traits,n=[],i=this.attrs||{},s;return i.afterCreate&&n.push(i.afterCreate),Array.isArray(t)?s=t:s=Object.keys(i),s.filter(function(a){return e.isTrait(a)&&i[a].extension.afterCreate}).forEach(function(a){n.push(i[a].extension.afterCreate)}),n};pe.isTrait=function(e){var r=this.attrs;return(0,ze.default)(r[e])&&r[e].__isTrait__===!0};function CT(e,r){var t=function(){},n=new t,i=[],s;return Object.keys(e).forEach(function(a){var o;Object.defineProperty(n.constructor.prototype,a,{get:function(){return i.push([s,a]),o},set:function(c){o=c},enumerable:!1,configurable:!0})}),Object.keys(e).forEach(function(a){var o=e[a];typeof o!="function"&&(n[a]=o)}),Object.keys(e).forEach(function(a){var o=e[a];s=a,typeof o=="function"&&(n[a]=o.call(n,r)),i.push([a])}),TT(i)}function ST(e){return(+e).toString()===e.toString()}var OT=function(){function e(){_(this,e),this._nextId=1,this._ids={}}return q(e,[{key:"get",value:function(){return this._nextId}},{key:"set",value:function(t){if(this._ids[t])throw new Error("Attempting to use the ID ".concat(t,", but it's already been used"));ST(t)&&+t>=this._nextId&&(this._nextId=+t+1),this._ids[t]=!0}},{key:"inc",value:function(){var t=this.get()+1;return this._nextId=t,t}},{key:"fetch",value:function(){var t=this.get();return this._ids[t]=!0,this.inc(),t.toString()}},{key:"reset",value:function(){this._nextId=1,this._ids={}}}]),e}();var ET=console.warn,j=function(){function e(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;_(this,e),this.code=r,this.headers=t,r===204?n!==void 0&&n!==""?ET(`Mirage: One of your route handlers is returning a custom
          204 Response that has data, but this is a violation of the HTTP spec
          and could lead to unexpected behavior. 204 responses should have no
          content (an empty string) as their body.`):this.data="":(n===void 0||n==="")&&!Object.prototype.hasOwnProperty.call(this.headers,"Content-Type")?this.data={}:this.data=n,r!==204&&!Object.prototype.hasOwnProperty.call(this.headers,"Content-Type")&&(this.headers["Content-Type"]="application/json")}return q(e,[{key:"toRackResponse",value:function(){return[this.code,this.headers,this.data]}}]),e}(),dn={},pn={},vn={},yn={};function b(e){if(typeof dn[e]!="string"){var r=Bu(W(e),!1),t=r.split("/").map(kf.default).join("/");dn[e]=t}return dn[e]}function x(e){if(typeof pn[e]!="string"){var r=Gu(W(e));pn[e]=r}return pn[e]}function W(e){if(typeof vn[e]!="string"){var r=Ku(e);vn[e]=r}return vn[e]}function Jt(e){if(typeof yn[e]!="string"){var r=Pt(e);yn[e]=r}return yn[e]}function IT(e){return(0,ze.default)(e)&&e.__isAssociation__===!0}var If=["description","fileName","lineNumber","message","name","number","stack"];function m(e,r){if(typeof e=="string"&&!r)throw new Zt(e);if(!e)throw new Zt(r.replace(/^ +/gm,"")||"Assertion failed")}function Zt(e,r){var t=Error(e);r&&(t.stack=r);for(var n=0;n<If.length;n++){var i=If[n];["description","message","stack"].indexOf(i)>-1?this[i]="Mirage: ".concat(t[i]):this[i]=t[i]}}Zt.prototype=Object.create(Error.prototype);var ft=function(){function e(r,t){_(this,e),this.modelName=void 0,O(r)==="object"?(this.modelName=void 0,this.opts=r):(this.modelName=r?x(r):"",this.opts=t||{}),this.name="",this.ownerModelName=""}return q(e,[{key:"setSchema",value:function(t){this.schema=t}},{key:"isReflexive",value:function(){var t=!!(this.modelName===this.ownerModelName&&this.opts.inverse),n=this.opts.inverse===void 0&&this.ownerModelName===this.modelName;return t||n}},{key:"isPolymorphic",get:function(){return this.opts.polymorphic}},{key:"type",get:function(){throw new Error("Subclasses of Association must implement a getter for type")}},{key:"foreignKey",get:function(){return this.getForeignKey()}},{key:"identifier",get:function(){throw new Error("Subclasses of Association must implement a getter for identifier")}}]),e}(),Me={},lt=function(e){$(t,e);var r=B(t);function t(){return _(this,t),r.apply(this,arguments)}return q(t,[{key:"identifier",get:function(){if(typeof Me[this.name]!="string"){var i="".concat(b(this.name),"Id");Me[this.name]=i}return Me[this.name]}},{key:"type",get:function(){return"belongsTo"}},{key:"getForeignKeyArray",value:function(){return[b(this.ownerModelName),this.getForeignKey()]}},{key:"getForeignKey",value:function(){if(typeof Me[this.name]!="string"){var i="".concat(b(this.name),"Id");Me[this.name]=i}return Me[this.name]}},{key:"addMethodsToModelClass",value:function(i,s){var a=i.prototype,o=this,u=this.getForeignKey(),c=S({},s,this);a.belongsToAssociations=Object.assign(a.belongsToAssociations,c),Object.keys(a.belongsToAssociations).forEach(function(f){var l=a.belongsToAssociations[f];a.belongsToAssociationFks[l.getForeignKey()]=l}),this.schema.addDependentAssociation(this,this.modelName),a.associationKeys.add(s),a.associationIdKeys.add(u),Object.defineProperty(a,u,{get:function(){this._tempAssociations=this._tempAssociations||{};var l=this._tempAssociations[s],d;return l===null?d=null:o.isPolymorphic?l?d={id:l.id,type:l.modelName}:d=this.attrs[u]:l?d=l.id:d=this.attrs[u],d},set:function(l){var d;l===null?d=null:l!==void 0&&(o.isPolymorphic?(m(O(l)==="object","You're setting an ID on the polymorphic association '".concat(o.name,"' but you didn't pass in an object. Polymorphic IDs need to be in the form { type, id }.")),d=o.schema[o.schema.toCollectionName(l.type)].find(l.id)):(d=o.schema[o.schema.toCollectionName(o.modelName)].find(l),m(d,"Couldn't find ".concat(o.modelName," with id = ").concat(l)))),this[s]=d}}),Object.defineProperty(a,s,{get:function(){this._tempAssociations=this._tempAssociations||{};var l=this._tempAssociations[s],d=this[u],p=null;return l?p=l:d!==null&&(o.isPolymorphic?p=o.schema[o.schema.toCollectionName(d.type)].find(d.id):p=o.schema[o.schema.toCollectionName(o.modelName)].find(d)),p},set:function(l){if(this._tempAssociations=this._tempAssociations||{},this._tempAssociations[s]=l,l&&l.hasInverseFor(o)){var d=l.inverseFor(o);l.associate(this,d)}}}),a["new".concat(Jt(s))]=function(){var f,l;o.isPolymorphic?(f=arguments.length<=0?void 0:arguments[0],l=arguments.length<=1?void 0:arguments[1]):(f=o.modelName,l=arguments.length<=0?void 0:arguments[0]);var d=o.schema[o.schema.toCollectionName(f)].new(l);return this[s]=d,d},a["create".concat(Jt(s))]=function(){var f,l;o.isPolymorphic?(f=arguments.length<=0?void 0:arguments[0],l=arguments.length<=1?void 0:arguments[1]):(f=o.modelName,l=arguments.length<=0?void 0:arguments[0]);var d=o.schema[o.schema.toCollectionName(f)].create(l);return this[s]=d,this.save(),d.reload()}}},{key:"disassociateAllDependentsFromTarget",value:function(i){var s=this,a=this.ownerModelName,o;this.isPolymorphic?o={type:i.modelName,id:i.id}:o=i.id;var u=this.schema[this.schema.toCollectionName(a)].where(function(c){var f=c[s.getForeignKey()];return f?O(f)==="object"?f.type===o.type&&f.id===o.id:f===o:!1});u.models.forEach(function(c){c.disassociate(i,s),c.save()})}}]),t}(ft);function ue(e){return Array.isArray(e)?e.map(ue):Object.assign({},e)}var PT=function(){function e(r,t,n){_(this,e),this.name=r,this._records=[],this.identityManager=new n,t&&this.insert(t)}return q(e,[{key:"all",value:function(){return ue(this._records)}},{key:"insert",value:function(t){var n=this;return Array.isArray(t)?(0,zf.default)(t,function(i){return n._insertRecord(i)}):this._insertRecord(t)}},{key:"find",value:function(t){if(Array.isArray(t)){var n=this._findRecords(t).filter(Boolean).map(ue);return n}else{var i=this._findRecord(t);return i?ue(i):null}}},{key:"findBy",value:function(t){var n=this._findRecordBy(t);return n?ue(n):null}},{key:"where",value:function(t){return this._findRecordsWhere(t).map(ue)}},{key:"firstOrCreate",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.where(t),s=k(i,1),a=s[0];if(a)return a;var o=Object.assign(n,t),u=this.insert(o);return u}},{key:"update",value:function(t,n){var i=this,s;if(typeof n>"u"){n=t;var a=[];return this._records.forEach(function(l){var d=Object.assign({},l);i._updateRecord(l,n),(0,Gt.default)(d,l)||a.push(l)}),a}else if(typeof t=="number"||typeof t=="string"){var o=t,u=this._findRecord(o);return this._updateRecord(u,n),u}else if(Array.isArray(t)){var c=t;return s=this._findRecords(c),s.forEach(function(l){i._updateRecord(l,n)}),s}else if(O(t)==="object"){var f=t;return s=this._findRecordsWhere(f),s.forEach(function(l){i._updateRecord(l,n)}),s}}},{key:"remove",value:function(t){var n=this,i;if(typeof t>"u")this._records=[],this.identityManager.reset();else if(typeof t=="number"||typeof t=="string"){var s=this._findRecord(t),a=this._records.indexOf(s);this._records.splice(a,1)}else Array.isArray(t)?(i=this._findRecords(t),i.forEach(function(o){var u=n._records.indexOf(o);n._records.splice(u,1)})):O(t)==="object"&&(i=this._findRecordsWhere(t),i.forEach(function(o){var u=n._records.indexOf(o);n._records.splice(u,1)}))}},{key:"_findRecord",value:function(t){return t=t.toString(),this._records.find(function(n){return n.id===t})}},{key:"_findRecordBy",value:function(t){return this._findRecordsWhere(t)[0]}},{key:"_findRecords",value:function(t){return t.map(this._findRecord,this)}},{key:"_findRecordsWhere",value:function(t){var n=this._records;function i(a){var o=Object.keys(t);return o.every(function(u){return String(a[u])===String(t[u])})}var s=O(t)==="object"?i:t;return n.filter(s)}},{key:"_insertRecord",value:function(t){var n=ue(t);return n&&(n.id===void 0||n.id===null)?n.id=this.identityManager.fetch(n):(n.id=n.id.toString(),this.identityManager.set(n.id)),this._records.push(n),ue(n)}},{key:"_updateRecord",value:function(t,n){var i=n&&Object.prototype.hasOwnProperty.call(n,"id")?n.id.toString():null,s=t.id;if(i&&s!==i)throw new Error("Updating the ID of a record is not permitted");for(var a in n)a!=="id"&&(t[a]=n[a])}}]),e}(),Yf=function(){function e(r,t){_(this,e),this._collections=[],this.registerIdentityManagers(t),r&&this.loadData(r)}return q(e,[{key:"loadData",value:function(t){for(var n in t)this.createCollection(n,(0,jf.default)(t[n]))}},{key:"dump",value:function(){return this._collections.reduce(function(t,n){return t[n.name]=n.all(),t},{})}},{key:"createCollection",value:function(t,n){if(this[t])n&&this[t].insert(n);else{var i=this.identityManagerFor(t),s=new PT(t,n,i);Object.defineProperty(this,t,{get:function(){var o=s.all();return["insert","find","findBy","where","update","remove","firstOrCreate"].forEach(function(u){o[u]=function(){return s[u].apply(s,arguments)}}),o}}),Object.defineProperty(this,"_".concat(t),{get:function(){var o=[];return["insert","find","findBy","where","update","remove","firstOrCreate"].forEach(function(u){o[u]=function(){return s[u].apply(s,arguments)}}),o}}),this._collections.push(s)}return this}},{key:"createCollections",value:function(){for(var t=this,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];i.forEach(function(a){return t.createCollection(a)})}},{key:"emptyData",value:function(){this._collections.forEach(function(t){return t.remove()})}},{key:"identityManagerFor",value:function(t){return this._identityManagers[this._container.inflector.singularize(t)]||this._identityManagers.application||OT}},{key:"registerIdentityManagers",value:function(t){this._identityManagers=t||{}}}]),e}(),Q=function(){function e(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];_(this,e),m(r&&typeof r=="string","You must pass a `modelName` into a Collection"),this.modelName=r,this.models=t}return q(e,[{key:"length",get:function(){return this.models.length}},{key:"update",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return X.default.apply(void 0,[this.models,"update"].concat(n)),this}},{key:"save",value:function(){return(0,X.default)(this.models,"save"),this}},{key:"reload",value:function(){return(0,X.default)(this.models,"reload"),this}},{key:"destroy",value:function(){return(0,X.default)(this.models,"destroy"),this}},{key:"add",value:function(t){return this.models.push(t),this}},{key:"remove",value:function(t){var n=this.models.find(function(s){return s.toString()===t.toString()});if(n){var i=this.models.indexOf(n);this.models.splice(i,1)}return this}},{key:"includes",value:function(t){return this.models.some(function(n){return n.toString()===t.toString()})}},{key:"filter",value:function(t){var n=this.models.filter(t);return new e(this.modelName,n)}},{key:"sort",value:function(t){var n=this.models.concat().sort(t);return new e(this.modelName,n)}},{key:"slice",value:function(){var t,n=(t=this.models).slice.apply(t,arguments);return new e(this.modelName,n)}},{key:"mergeCollection",value:function(t){return this.models=this.models.concat(t.models),this}},{key:"toString",value:function(){return"collection:".concat(this.modelName,"(").concat(this.models.map(function(t){return t.id}).join(","),")")}}]),e}(),z=function(){function e(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];_(this,e),this.models=r}return q(e,[{key:"length",get:function(){return this.models.length}},{key:"update",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return X.default.apply(void 0,[this.models,"update"].concat(n)),this}},{key:"destroy",value:function(){return(0,X.default)(this.models,"destroy"),this}},{key:"save",value:function(){return(0,X.default)(this.models,"save"),this}},{key:"reload",value:function(){return(0,X.default)(this.models,"reload"),this}},{key:"add",value:function(t){return this.models.push(t),this}},{key:"remove",value:function(t){var n=this.models.find(function(s){return(0,Gt.default)(s.attrs,t.attrs)});if(n){var i=this.models.indexOf(n);this.models.splice(i,1)}return this}},{key:"includes",value:function(t){return this.models.some(function(n){return(0,Gt.default)(n.attrs,t.attrs)})}},{key:"filter",value:function(t){var n=this.models.filter(t);return new e(n)}},{key:"sort",value:function(t){var n=this.models.concat().sort(t);return new e(n)}},{key:"slice",value:function(){var t,n=(t=this.models).slice.apply(t,arguments);return new e(n)}},{key:"mergeCollection",value:function(t){return this.models=this.models.concat(t.models),this}},{key:"toString",value:function(){return"collection:".concat(this.modelName,"(").concat(this.models.map(function(t){return t.id}).join(","),")")}}]),e}(),Ne={},ut=function(e){$(t,e);var r=B(t);function t(){return _(this,t),r.apply(this,arguments)}return q(t,[{key:"identifier",get:function(){if(typeof Ne[this.name]!="string"){var i="".concat(b(this._container.inflector.singularize(this.name)),"Ids");Ne[this.name]=i}return Ne[this.name]}},{key:"type",get:function(){return"hasMany"}},{key:"getForeignKeyArray",value:function(){return[b(this.ownerModelName),this.getForeignKey()]}},{key:"getForeignKey",value:function(){if(typeof Ne[this.name]!="string"){var i="".concat(this._container.inflector.singularize(b(this.name)),"Ids");Ne[this.name]=i}return Ne[this.name]}},{key:"addMethodsToModelClass",value:function(i,s){var a=i.prototype,o=this,u=this.getForeignKey(),c=S({},s,this);a.hasManyAssociations=Object.assign(a.hasManyAssociations,c),Object.keys(a.hasManyAssociations).forEach(function(f){var l=a.hasManyAssociations[f];a.hasManyAssociationFks[l.getForeignKey()]=l}),this.schema.addDependentAssociation(this,this.modelName),a.associationKeys.add(s),a.associationIdKeys.add(u),Object.defineProperty(a,u,{get:function(){this._tempAssociations=this._tempAssociations||{};var l=this._tempAssociations[s],d=[];return l?o.isPolymorphic?d=l.models.map(function(p){return{type:p.modelName,id:p.id}}):d=l.models.map(function(p){return p.id}):d=this.attrs[u]||[],d},set:function(l){var d;if(l===null)d=[];else if(l!==void 0)if(m(Array.isArray(l),"You must pass an array in when setting ".concat(u," on ").concat(this)),o.isPolymorphic){m(l.every(function(v){return O(v)==="object"&&O(v.type)!==void 0&&O(v.id)!==void 0}),"You must pass in an array of polymorphic identifiers (objects of shape { type, id }) when setting ".concat(u," on ").concat(this));var p=l.map(function(v){var y=v.type,g=v.id;return o.schema[o.schema.toCollectionName(y)].find(g)});d=new z(p)}else d=o.schema[o.schema.toCollectionName(o.modelName)].find(l);this[s]=d}}),Object.defineProperty(a,s,{get:function(){this._tempAssociations=this._tempAssociations||{};var l=null;if(this._tempAssociations[s])l=this._tempAssociations[s];else{if(o.isPolymorphic)if(this[u]){var d=this[u],p=d.map(function(v){var y=v.type,g=v.id;return o.schema[o.schema.toCollectionName(y)].find(g)});l=new z(p)}else l=new z(o.modelName);else this[u]?l=o.schema[o.schema.toCollectionName(o.modelName)].find(this[u]):l=new Q(o.modelName);this._tempAssociations[s]=l}return l},set:function(l){var d=this;(l instanceof Q||l instanceof z)&&(l=l.models),l=l?(0,ht.default)(l):[],this._tempAssociations=this._tempAssociations||{};var p;o.isPolymorphic?p=new z(l):p=new Q(o.modelName,l),this._tempAssociations[s]=p,l.forEach(function(v){if(v.hasInverseFor(o)){var y=v.inverseFor(o);v.associate(d,y)}})}}),a["new".concat(Jt(b(this._container.inflector.singularize(o.name))))]=function(){var f,l;o.isPolymorphic?(f=arguments.length<=0?void 0:arguments[0],l=arguments.length<=1?void 0:arguments[1]):(f=o.modelName,l=arguments.length<=0?void 0:arguments[0]);var d=o.schema[o.schema.toCollectionName(f)].new(l),p=this[s].models;return p.push(d),this[s]=p,d},a["create".concat(Jt(b(this._container.inflector.singularize(o.name))))]=function(){var f,l;o.isPolymorphic?(f=arguments.length<=0?void 0:arguments[0],l=arguments.length<=1?void 0:arguments[1]):(f=o.modelName,l=arguments.length<=0?void 0:arguments[0]);var d=o.schema[o.schema.toCollectionName(f)].create(l),p=this[s].models;return p.push(d),this[s]=p,this.save(),d.reload()}}},{key:"disassociateAllDependentsFromTarget",value:function(i){var s=this,a=this.ownerModelName,o;this.isPolymorphic?o={type:i.modelName,id:i.id}:o=i.id;var u=this.schema[this.schema.toCollectionName(a)].where(function(c){var f=c[s.getForeignKey()];return f&&f.find(function(l){return O(l)==="object"?l.type===o.type&&l.id===o.id:l===o})});u.models.forEach(function(c){c.disassociate(i,s),c.save()})}}]),t}(ft),gn={},er=function(){function e(){_(this,e)}return q(e,[{key:"getModelClassFromPath",value:function(t){if(t){if(typeof gn[t]!="string"){for(var n=t.split("/"),i,s=n.length-1;s>=0;s--){var a=n[s];if(a.length&&a[0]!==":"){i=a;break}}gn[t]=x(b(this._container.inflector.singularize(i)))}return gn[t]}}},{key:"_getIdForRequest",value:function(t,n){var i;return t&&t.params&&t.params.id?i=t.params.id:n&&n.data&&n.data.id&&(i=n.data.id),i}},{key:"_getJsonApiDocForRequest",value:function(t,n){var i;return t&&t.requestBody&&(i=JSON.parse(t.requestBody)),this.serializerOrRegistry.normalize(i,n)}},{key:"_getAttrsForRequest",value:function(t,n){var i=this,s=this._getJsonApiDocForRequest(t,n),a=this._getIdForRequest(t,s),o={};return m(s.data&&(s.data.attributes||s.data.type||s.data.relationships),"You're using a shorthand or #normalizedRequestAttrs, but your serializer's normalize function did not return a valid JSON:API document. Consult the docs for the normalize hook on the Serializer class."),s.data.attributes&&(o=Object.keys(s.data.attributes).reduce(function(u,c){return u[b(c)]=s.data.attributes[c],u},{})),s.data.relationships&&Object.keys(s.data.relationships).forEach(function(u){var c=s.data.relationships[u],f=i.schema.modelClassFor(n),l=f.associationFor(b(u)),d;m(l,"You're passing the relationship '".concat(u,"' to the '").concat(n,"' model via a ").concat(t.method," to '").concat(t.url,"', but you did not define the '").concat(u,"' association on the '").concat(n,"' model.")),l.isPolymorphic?d=c.data:l instanceof ut?d=c.data&&c.data.map(function(p){return p.id}):d=c.data&&c.data.id,o[l.identifier]=d},{}),a&&(o.id=a),o}},{key:"_getAttrsForFormRequest",value:function(t){var n=t.requestBody,i,s=[];return m(n&&typeof n=="string","You're using the helper method #normalizedFormData, but the request body is empty or not a valid url encoded string."),s=n.split("&"),i=s.reduce(function(a,o){var u=o.split("="),c=k(u,2),f=c[0],l=c[1];return a[f]=decodeURIComponent(l.replace(/\+/g," ")),a},{}),i}}]),e}(),Wf=function(e){$(t,e);var r=B(t);function t(n,i,s,a,o){var u;return _(this,t),u=r.call(this,o),u.schema=n,u.serializerOrRegistry=i,u.userFunction=s,u.path=a,u}return q(t,[{key:"handle",value:function(i){return this.userFunction(this.schema,i)}},{key:"setRequest",value:function(i){this.request=i}},{key:"serialize",value:function(i,s){var a;return s?a=this.serializerOrRegistry.serializerFor(s,{explicit:!0}):a=this.serializerOrRegistry,a.serialize(i,this.request)}},{key:"normalizedRequestAttrs",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,s=this.path,a=this.request,o=this.request.requestHeaders,u,c={};for(var f in o)c[f.toLowerCase()]=o[f];return/x-www-form-urlencoded/.test(c["content-type"])?u=this._getAttrsForFormRequest(a):(i?m(x(i)===i,"You called normalizedRequestAttrs('".concat(i,"'), but normalizedRequestAttrs was intended to be used with the dasherized version of the model type. Please change this to normalizedRequestAttrs('").concat(x(i),"').")):i=this.getModelClassFromPath(s),m(this.schema.hasModelForModelName(i),"You're using a shorthand or the #normalizedRequestAttrs helper but the detected model of '".concat(i,"' does not exist. You might need to pass in the correct modelName as the first argument to #normalizedRequestAttrs.")),u=this._getAttrsForRequest(a,i)),u}}]),t}(er),MT=function(){function e(r,t,n){_(this,e),this.schema=r,this.serializerOrRegistry=t,this.object=n}return q(e,[{key:"handle",value:function(){return this.object}}]),e}(),dt=function(e){$(t,e);var r=B(t);function t(n,i,s,a){var o,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};_(this,t),o=r.call(this),s=s||o.getModelClassFromPath(a),o.schema=n,o.serializerOrRegistry=i,o.shorthand=s,o.options=u;var c=Array.isArray(s)?"array":O(s);if(c==="string"){var f=o.schema[o.schema.toCollectionName(s)];o.handle=function(d){return o.handleStringShorthand(d,f)}}else if(c==="array"){var l=s.map(function(d){return o.schema[o.schema.toCollectionName(d)]});o.handle=function(d){return o.handleArrayShorthand(d,l)}}return o}return t}(er),NT=function(e){$(t,e);var r=B(t);function t(){return _(this,t),r.apply(this,arguments)}return q(t,[{key:"handleStringShorthand",value:function(i,s){var a=this.shorthand,o=b(a);m(s,"The route handler for ".concat(i.url," is trying to access the ").concat(o," model, but that model doesn't exist."));var u=this._getIdForRequest(i);if(u){var c=s.find(u);return c||new j(404)}else if(this.options.coalesce){var f=this.serializerOrRegistry.getCoalescedIds(i,o);if(f)return s.find(f)}return s.all()}},{key:"handleArrayShorthand",value:function(i,s){var a=this.shorthand,o=this._getIdForRequest(i);return m(!o||this._container.inflector.singularize(a[0])!==a[0],`It looks like you're using the "Single record with
      related records" version of the array shorthand, in addition to opting
      in to the model layer. This shorthand was made when there was no
      serializer layer. Now that you're using models, please ensure your
      relationships are defined, and create a serializer for the parent
      model, adding the relationships there.`),s.map(function(u){return u.all()})}}]),t}(dt),kT=function(e){$(t,e);var r=B(t);function t(){return _(this,t),r.apply(this,arguments)}return q(t,[{key:"handleStringShorthand",value:function(i,s){var a=this.shorthand,o=b(a);m(s,"The route handler for ".concat(i.url," is trying to access the ").concat(o," model, but that model doesn't exist."));var u=this._getAttrsForRequest(i,s.camelizedModelName);return s.create(u)}}]),t}(dt),zT=function(e){$(t,e);var r=B(t);function t(){return _(this,t),r.apply(this,arguments)}return q(t,[{key:"handleStringShorthand",value:function(i,s){var a=this.shorthand,o=b(a);m(s,"The route handler for ".concat(i.url," is trying to access the ").concat(o," model, but that model doesn't exist."));var u=this._getIdForRequest(i),c=s.find(u);if(!c)return new j(404);var f=this._getAttrsForRequest(i,s.camelizedModelName);return c.update(f)}}]),t}(dt),jT=function(e){$(t,e);var r=B(t);function t(){return _(this,t),r.apply(this,arguments)}return q(t,[{key:"handleStringShorthand",value:function(i,s){var a=this.shorthand,o=b(a);m(s,"The route handler for ".concat(i.url," is trying to access the ").concat(o," model, but that model doesn't exist."));var u=this._getIdForRequest(i),c=s.find(u);if(!c)return new j(404);c.destroy()}},{key:"handleArrayShorthand",value:function(i,s){var a=this,o=this._getIdForRequest(i),u=s[0].find(o),c=s.slice(1).map(function(f){return a._container.inflector.pluralize(f.camelizedModelName)});c.forEach(function(f){return u[f].destroy()}),u.destroy()}}]),t}(dt),DT=function(e){$(t,e);var r=B(t);function t(){return _(this,t),r.apply(this,arguments)}return q(t,[{key:"handleStringShorthand",value:function(i,s){var a=this.shorthand,o=b(a);m(s,"The route handler for ".concat(i.url," is trying to access the ").concat(o," model, but that model doesn't exist."));var u=this._getIdForRequest(i);if(u){var c=s.find(u);return c?new j(204):new j(404)}else if(this.options.coalesce&&i.queryParams&&i.queryParams.ids){var f=s.find(i.queryParams.ids);return f?new j(204):new j(404)}else return new j(204)}}]),t}(dt),LT={get:200,put:204,post:201,delete:204};function HT(e){var r=e.verb,t=e.schema,n=e.serializerOrRegistry,i=e.path,s=e.rawHandler,a=e.options,o=e.middleware,u,c=[t,n,s,i,a,o],f=O(s);return f==="function"?u=U(Wf,c):f==="object"&&s?u=U(MT,c):r==="get"?u=U(NT,c):r==="post"?u=U(kT,c):r==="put"||r==="patch"?u=U(zT,c):r==="delete"?u=U(jT,c):r==="head"&&(u=U(DT,c)),u}var Qf=function(){function e(r){var t=r.schema,n=r.verb,i=r.rawHandler,s=r.customizedCode,a=r.options,o=r.path,u=r.serializerOrRegistry,c=r.middleware;_(this,e),this.verb=n,this.customizedCode=s,this.serializerOrRegistry=u,this.middleware=c||[],this.handler=HT({verb:n,schema:t,path:o,serializerOrRegistry:u,rawHandler:i,options:a})}return q(e,[{key:"handle",value:function(t){var n=this;return this._getMirageResponseForRequest(t,this.middleware).then(function(i){return n.serialize(i,t)}).then(function(i){return i.toRackResponse()})}},{key:"_getMirageResponseForRequest",value:function(t){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s;try{this.handler instanceof Wf&&this.handler.setRequest(t),s=this.handleWithMiddleware(t,[].concat(ke(i),[function(o,u){return n.handler.handle(u)}]))}catch(o){if(o instanceof Zt)s=new j(500,{},o);else{var a=o.message||o;s=new j(500,{},{message:a,stack:"Mirage: Your ".concat(t.method," handler for the url ").concat(t.url,` threw an error:

`).concat(o.stack||o)})}}return this._toMirageResponse(s)}},{key:"handleWithMiddleware",value:function(t,n){var i=this,s=xT(n),a=s[0],o=s.slice(1);return a(this.schema,t,function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t;return i.handleWithMiddleware(u,o)})}},{key:"_toMirageResponse",value:function(t){var n=this,i;return new Promise(function(s,a){Promise.resolve(t).then(function(o){if(o instanceof j)i=t;else{var u=n._getCodeForResponse(o);i=new j(u,{},o)}s(i)}).catch(a)})}},{key:"_getCodeForResponse",value:function(t){var n;return this.customizedCode?n=this.customizedCode:(n=LT[this.verb],n===204&&t!==void 0&&t!==""&&(n=200)),n}},{key:"serialize",value:function(t,n){return t.data=this.serializerOrRegistry.serialize(t.data,n),t}}]),e}();function Vf(e,r){var t=function(n){$(s,n);var i=B(s);function s(){var a;_(this,s);for(var o=arguments.length,u=new Array(o),c=0;c<o;c++)u[c]=arguments[c];if(a=i.call.apply(i,[this].concat(u)),e&&(0,Df.default)(e,"constructor")){var f;(f=e.constructor).call.apply(f,[$f(a)].concat(u))}return a}return s}(this);return Object.assign(t,this,r),e&&Object.assign(t.prototype,e),t}var je=function(){function e(r,t,n,i){var s=this;return _(this,e),m(r,"A model requires a schema"),m(t,"A model requires a modelName"),this._schema=r,this.modelName=t,this.fks=i||[],this.attrs={},n=n||{},this.fks.forEach(function(a){s.attrs[a]=n[a]!==void 0?n[a]:null}),Object.keys(n).forEach(function(a){var o=n[a];s._validateAttr(a,o),s._setupAttr(a,o),s._setupRelationship(a,o)}),this}return q(e,[{key:"save",value:function(){var t=this._schema.toInternalCollectionName(this.modelName);return this.isNew()?(this.attrs=this._schema.db[t].insert(this.attrs),this._definePlainAttribute("id")):(this._schema.isSaving[this.toString()]=!0,this._schema.db[t].update(this.attrs.id,this.attrs)),this._saveAssociations(),this._schema.isSaving[this.toString()]=!1,this}},{key:"update",value:function(t,n){var i;return t==null?this:(O(t)==="object"?i=t:(i={})[t]=n,Object.keys(i).forEach(function(s){!this.associationKeys.has(s)&&!this.associationIdKeys.has(s)&&this._definePlainAttribute(s),this[s]=i[s]},this),this.save(),this)}},{key:"destroy",value:function(){if(this.isSaved()){this._disassociateFromDependents();var t=this._schema.toInternalCollectionName(this.modelName);this._schema.db[t].remove(this.attrs.id)}}},{key:"isNew",value:function(){var t=!1,n=this.attrs.id!==void 0&&this.attrs.id!==null;if(n){var i=this._schema.toInternalCollectionName(this.modelName),s=this._schema.db[i].find(this.attrs.id);s&&(t=!0)}return!t}},{key:"isSaved",value:function(){return!this.isNew()}},{key:"reload",value:function(){if(this.id){var t=this._schema.toInternalCollectionName(this.modelName),n=this._schema.db[t].find(this.id);Object.keys(n).filter(function(i){return i!=="id"}).forEach(function(i){this.attrs[i]=n[i]},this)}return this._tempAssociations={},this}},{key:"toJSON",value:function(){return AT({},this.attrs)}},{key:"associations",get:function(){return this._schema.associationsFor(this.modelName)}},{key:"associationFor",value:function(t){return this.associations[t]}},{key:"inverseFor",value:function(t){return this._explicitInverseFor(t)||this._implicitInverseFor(t)}},{key:"_explicitInverseFor",value:function(t){this._checkForMultipleExplicitInverses(t);var n=this._schema.associationsFor(this.modelName),i=t.opts.inverse,s=i?n[i]:null,a=s&&s.isPolymorphic,o=s&&s.modelName===t.ownerModelName,u=s&&s.opts.inverse;return u&&s.opts.inverse!==t.name&&m(!1,"You specified an inverse of ".concat(i," for ").concat(t.name,", but it does not match ").concat(s.modelName," ").concat(s.name,"'s inverse")),a||o?s:null}},{key:"_checkForMultipleExplicitInverses",value:function(t){var n=this._schema.associationsFor(this.modelName),i=Object.keys(n).filter(function(s){var a=n[s],o=t.ownerModelName===a.modelName,u=t.name===a.opts.inverse;return o&&u});m(i.length<=1,"The ".concat(this.modelName," model has defined multiple explicit inverse associations for the ").concat(t.ownerModelName,".").concat(t.name," association."))}},{key:"_implicitInverseFor",value:function(t){var n=this,i=this._schema.associationsFor(this.modelName),s=t.ownerModelName;return(0,Bt.default)(i).filter(function(a){return a.modelName===s}).reduce(function(a,o){var u=o.opts.inverse,c=u===void 0,f=u===t.name,l=c||f;return l&&(m(!a,"The ".concat(n.modelName," model has multiple possible inverse associations for the ").concat(t.ownerModelName,".").concat(t.name," association.")),a=o),a},null)}},{key:"hasInverseFor",value:function(t){return!!this.inverseFor(t)}},{key:"alreadyAssociatedWith",value:function(t,n){var i=this[n.name];if(i&&t)return i instanceof e?i.isSaved()&&t.isSaved()?i.toString()===t.toString():i===t:i.includes(t)}},{key:"associate",value:function(t,n){if(!this.alreadyAssociatedWith(t,n)){var i=n.name;n instanceof ut?this[i].includes(t)||this[i].add(t):this[i]=t}}},{key:"disassociate",value:function(t,n){var i=n.getForeignKey();if(n instanceof ut){var s;if(n.isPolymorphic){var a=this[i].find(function(o){var u=o.type,c=o.id;return u===t.modelName&&c===t.id});s=a&&this[i].indexOf(a)}else s=this[i].map(function(o){return o.toString()}).indexOf(t.id.toString());s>-1&&this.attrs[i].splice(s,1)}else this.attrs[i]=null}},{key:"isSaving",get:function(){return this._schema.isSaving[this.toString()]}},{key:"_setupAttr",value:function(t,n){var i=this.associationKeys.has(t)||this.associationIdKeys.has(t);i||(this.attrs[t]=n,this._definePlainAttribute(t))}},{key:"_definePlainAttribute",value:function(t){var n=Object.getOwnPropertyDescriptor(this,t);n&&n.get||(Object.prototype.hasOwnProperty.call(this.attrs,t)||(this.attrs[t]=null),Object.defineProperty(this,t,{get:function(){return this.attrs[t]},set:function(s){this.attrs[t]=s}}))}},{key:"_setupRelationship",value:function(t,n){var i=this.associationIdKeys.has(t)||this.fks.includes(t),s=this.associationKeys.has(t);i&&(n!=null&&this._validateForeignKeyExistsInDatabase(t,n),this.attrs[t]=n),s&&(this[t]=n)}},{key:"_validateAttr",value:function(t,n){if(this.associationKeys.has(t)){var i=this.associationFor(t),s=n===null;if(i instanceof ut){var a=n instanceof Q||n instanceof z,o=Array.isArray(n)&&n.every(function(p){return p instanceof e});m(a||o||s,"You're trying to create a ".concat(this.modelName,' model and you passed in "').concat(n,'" under the ').concat(t," key, but that key is a HasMany relationship. You must pass in a Collection, PolymorphicCollection, array of Models, or null."))}else i instanceof lt&&m(n instanceof e||s,"You're trying to create a ".concat(this.modelName,' model and you passed in "').concat(n,'" under the ').concat(t," key, but that key is a BelongsTo relationship. You must pass in a Model or null."))}if(this.associationIdKeys.has(t)&&t.endsWith("Ids")){var u=Array.isArray(n),c=n===null;m(u||c,"You're trying to create a ".concat(this.modelName,' model and you passed in "').concat(n,'" under the ').concat(t," key, but that key is a foreign key for a HasMany relationship. You must pass in an array of ids or null."))}{var f=n instanceof e||n instanceof Q||n instanceof z,l=Array.isArray(n)&&n.length&&n.every(function(p){return p instanceof e});if(f||l){var d=n;m(this.associationKeys.has(t),"You're trying to create a ".concat(this.modelName," model and you passed in a ").concat(d.toString()," under the ").concat(t," key, but you haven't defined that key as an association on your model."))}}}},{key:"_validateForeignKeyExistsInDatabase",value:function(t,n){var i=this;if(Array.isArray(n)){var s=this.hasManyAssociationFks[t],a;s.isPolymorphic?(a=n.map(function(l){var d=l.type,p=l.id;return i._schema.db[i._schema.toInternalCollectionName(d)].find(p)}),a=(0,ht.default)(a)):a=this._schema.db[this._schema.toInternalCollectionName(s.modelName)].find(n);var o=s.isPolymorphic?n.map(function(l){return"".concat(l.type,":").concat(l.id)}).join(","):n;m(a.length===n.length,"You're instantiating a ".concat(this.modelName," that has a ").concat(t," of ").concat(o,", but some of those records don't exist in the database."))}else{var u=this.belongsToAssociationFks[t],c;u.isPolymorphic?c=this._schema.db[this._schema.toInternalCollectionName(n.type)].find(n.id):c=this._schema.db[this._schema.toInternalCollectionName(u.modelName)].find(n);var f=u.isPolymorphic?"".concat(n.type,":").concat(n.id):n;m(c,"You're instantiating a ".concat(this.modelName," that has a ").concat(t," of ").concat(f,", but that record doesn't exist in the database."))}}},{key:"_saveAssociations",value:function(){this._saveBelongsToAssociations(),this._saveHasManyAssociations()}},{key:"_saveBelongsToAssociations",value:function(){var t=this;(0,Bt.default)(this.belongsToAssociations).forEach(function(n){t._disassociateFromOldInverses(n),t._saveNewAssociates(n),t._associateWithNewInverses(n)})}},{key:"_saveHasManyAssociations",value:function(){var t=this;(0,Bt.default)(this.hasManyAssociations).forEach(function(n){t._disassociateFromOldInverses(n),t._saveNewAssociates(n),t._associateWithNewInverses(n)})}},{key:"_disassociateFromOldInverses",value:function(t){t instanceof ut?this._disassociateFromHasManyInverses(t):t instanceof lt&&this._disassociateFromBelongsToInverse(t)}},{key:"_disassociateFromHasManyInverses",value:function(t){var n=this,i=t.getForeignKey(),s=this._tempAssociations&&this._tempAssociations[t.name],a=this.attrs[i];if(s&&a){var o;t.isPolymorphic?o=a.map(function(u){var c=u.type,f=u.id;return n._schema[n._schema.toCollectionName(c)].find(f)}):o=this._schema[this._schema.toCollectionName(t.modelName)].find(a||[]).models,o.filter(function(u){return!u.isSaving&&!s.includes(u)&&u.hasInverseFor(t)}).forEach(function(u){var c=u.inverseFor(t);u.disassociate(n,c),u.save()})}}},{key:"_disassociateFromBelongsToInverse",value:function(t){var n=t.getForeignKey(),i=this._tempAssociations&&this._tempAssociations[t.name],s=this.attrs[n];if(i!==void 0&&s){var a;if(t.isPolymorphic?a=this._schema[this._schema.toCollectionName(s.type)].find(s.id):a=this._schema[this._schema.toCollectionName(t.modelName)].find(s),a.hasInverseFor(t)){var o=a.inverseFor(t);a.disassociate(this,o),a._updateInDb(a.attrs)}}}},{key:"_disassociateFromDependents",value:function(){var t=this;this._schema.dependentAssociationsFor(this.modelName).forEach(function(n){n.disassociateAllDependentsFromTarget(t)})}},{key:"_saveNewAssociates",value:function(t){var n=t.getForeignKey(),i=this._tempAssociations&&this._tempAssociations[t.name];if(i!==void 0){if(this.__isSavingNewChildren=!0,delete this._tempAssociations[t.name],i instanceof Q)i.models.filter(function(a){return!a.isSaving}).forEach(function(a){a.save()}),this._updateInDb(S({},n,i.models.map(function(a){return a.id})));else if(i instanceof z)i.models.filter(function(a){return!a.isSaving}).forEach(function(a){a.save()}),this._updateInDb(S({},n,i.models.map(function(a){return{type:a.modelName,id:a.id}})));else if(i===null)this._updateInDb(S({},n,null));else if(this.equals(i))this._updateInDb(S({},n,this.id));else if(!i.isSaving){i.save(),this._syncTempAssociations(i);var s;t.isPolymorphic?s={id:i.id,type:i.modelName}:s=i.id,this._updateInDb(S({},n,s))}this.__isSavingNewChildren=!1}}},{key:"_associateWithNewInverses",value:function(t){var n=this;if(!this.__isSavingNewChildren){var i=this[t.name];i instanceof e?this._associateModelWithInverse(i,t):(i instanceof Q||i instanceof z)&&i.models.forEach(function(s){n._associateModelWithInverse(s,t)}),delete this._tempAssociations[t.name]}}},{key:"_associateModelWithInverse",value:function(t,n){var i=this;if(t.hasInverseFor(n)){var s=t.inverseFor(n),a=s.getForeignKey(),o=this.id;if(s instanceof lt){var u;s.isPolymorphic?u={type:this.modelName,id:o}:u=o,this._schema.db[this._schema.toInternalCollectionName(t.modelName)].update(t.id,S({},a,u))}else{var c=this._schema.db[this._schema.toInternalCollectionName(t.modelName)],f=c.find(t.id)[s.getForeignKey()]||[],l=Object.assign([],f),d,p;s.isPolymorphic?(d={type:this.modelName,id:o},p=l.some(function(v){return v.type==i.modelName&&v.id==o})):(d=o,p=l.includes(o)),p||l.push(d),c.update(t.id,S({},a,l))}}}},{key:"_updateInDb",value:function(t){this.attrs=this._schema.db[this._schema.toInternalCollectionName(this.modelName)].update(this.attrs.id,t)}},{key:"_syncTempAssociations",value:function(t){var n=this;Object.keys(this._tempAssociations).forEach(function(i){n._tempAssociations[i]&&n._tempAssociations[i].toString()===t.toString()&&(n._tempAssociations[i]=t)})}},{key:"toString",value:function(){var t=this.id?"(".concat(this.id,")"):"";return"model:".concat(this.modelName).concat(t)}},{key:"equals",value:function(t){return this.toString()===t.toString()}}]),e}();je.extend=Vf;je.findBelongsToAssociation=function(e){return this.prototype.belongsToAssociations[e]};var D=function(){function e(r,t){var n=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};_(this,e),this.registry=r,this.type=t,this.request=i,this.attrs=this.attrs||void 0,this.include=this.include||[],this.root=this.root||void 0,this.embed=this.embed||void 0,this._embedFn=(0,ct.default)(this.embed)?this.embed:function(){return!!n.embed},this.serializeIds=this.serializeIds||void 0,this.primaryKey=this.primaryKey||void 0}return q(e,[{key:"serialize",value:function(t){return this.primaryResource=t,this.buildPayload(t)}},{key:"normalize",value:function(t){return t}},{key:"buildPayload",value:function(t,n,i,s){if(!t&&(0,Yt.default)(n))return s;if(t){var a=this.getHashForPrimaryResource(t),o=k(a,2),u=o[0],c=o[1],f=this.isCollection(t)?t.models:[t];return this.buildPayload(void 0,c,f,u)}else{var l=n.shift(),d=this.getHashForIncludedResource(l),p=k(d,2),v=p[0],y=p[1],g=y.filter(function(ee){return!i.map(function(te){return te.toString()}).includes(ee.toString())}).concat(n),R=(this.isCollection(l)?l.models:[l]).concat(i),I=this.mergePayloads(s,v);return this.buildPayload(void 0,g,R,I)}}},{key:"getHashForPrimaryResource",value:function(t){var n=this.getHashForResource(t),i=k(n,2),s=i[0],a=i[1],o;if(this.root){m(!(t instanceof z),"The base Serializer class cannot serialize a top-level PolymorphicCollection when root is true, since PolymorphicCollections have no type.");var u=this.serializerFor(t.modelName),c=u.keyForResource(t);o=S({},c,s)}else o=s;return[o,a]}},{key:"getHashForIncludedResource",value:function(t){var n,i;if(t instanceof z)n={},i=t.models;else{var s=this.serializerFor(t.modelName),a=s.getHashForResource(t),o=k(a,2),u=o[0],c=o[1],f=s.keyForRelationship(t.modelName);n=Array.isArray(u)?S({},f,u):S({},f,[u]),i=c}return[n,i]}},{key:"getHashForResource",value:function(t){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=this,u;a&&t.modelName&&(o=this.serializerFor(t.modelName)),this.isModel(t)?u=o._hashForModel(t,i,s):u=t.models.map(function(f){var l=o;return l||(l=n.serializerFor(f.modelName)),l._hashForModel(f,i,s)});var c=(0,Rn.default)((0,ht.default)((0,Xt.default)(o.getKeysForIncluded().map(function(f){return n.isCollection(t)?t.models.map(function(l){return l[f]}):t[f]}))),function(f){return f.toString()});return[u,c]}},{key:"mergePayloads",value:function(t,n){var i,s=Object.keys(n),a=k(s,1),o=a[0];return t[o]?(i=t,i[o]=t[o].concat(n[o])):i=Object.assign(t,n),i}},{key:"keyForResource",value:function(t){var n=t.modelName;return this.isModel(t)?this.keyForModel(n):this.keyForCollection(n)}},{key:"keyForModel",value:function(t){return b(t)}},{key:"keyForCollection",value:function(t){return this._container.inflector.pluralize(this.keyForModel(t))}},{key:"_hashForModel",value:function(t,n){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=this._attrsForModel(t);if(n&&t.fks.forEach(function(u){delete a[u]}),this.embed){var o=Object.assign({},s);o[t.modelName]=o[t.modelName]||{},o[t.modelName][t.id]=!0,this.getKeysForEmbedded().forEach(function(u){var c=t[u];if(c&&!(0,Fn.default)(o,"".concat(c.modelName,".").concat(c.id))){var f=i.getHashForResource(c,!0,o,!0),l=k(f,1),d=l[0],p=i.keyForEmbeddedRelationship(u);if(a[p]=d,i.isModel(c)){var v="".concat(b(u),"Id");delete a[v]}}})}return this._maybeAddAssociationIds(t,a)}},{key:"_attrsForModel",value:function(t){var n={};return this.attrs?n=this.attrs.reduce(function(i,s){return i[s]=t[s],i},{}):n=Object.assign(n,t.attrs),t.fks.forEach(function(i){return delete n[i]}),this._formatAttributeKeys(n)}},{key:"_maybeAddAssociationIds",value:function(t,n){var i=this,s=Object.assign({},n);return this.serializeIds==="always"?ke(t.associationKeys).filter(function(a){return!i._embedFn(a)}).forEach(function(a){var o=t[a],u=t.associationFor(a);if(i.isCollection(o)){var c=i.keyForRelationshipIds(a);s[c]=t["".concat(i._container.inflector.singularize(a),"Ids")]}else if(i.isModel(o)&&u.isPolymorphic){var f=i.keyForPolymorphicForeignKeyType(a),l=i.keyForPolymorphicForeignKeyId(a);s[f]=t["".concat(a,"Id")].type,s[l]=t["".concat(a,"Id")].id}else if(o){var d=i.keyForForeignKey(a);s[d]=t["".concat(a,"Id")]}}):this.serializeIds==="included"&&this.getKeysForIncluded().forEach(function(a){var o=t[a],u=t.associationFor(a);if(i.isCollection(o)){var c=i.keyForRelationshipIds(a);s[c]=t["".concat(i._container.inflector.singularize(a),"Ids")]}else if(i.isModel(o)&&u.isPolymorphic){var f=i.keyForPolymorphicForeignKeyType(a),l=i.keyForPolymorphicForeignKeyId(a);s[f]=t["".concat(a,"Id")].type,s[l]=t["".concat(a,"Id")].id}else if(i.isModel(o)){var d=i.keyForForeignKey(a);s[d]=t["".concat(a,"Id")]}}),s}},{key:"keyForAttribute",value:function(t){return t==="id"?this.keyForId():t}},{key:"keyForRelationship",value:function(t){return b(this._container.inflector.pluralize(t))}},{key:"keyForEmbeddedRelationship",value:function(t){return b(t)}},{key:"keyForRelationshipIds",value:function(t){return"".concat(this._container.inflector.singularize(b(t)),"Ids")}},{key:"keyForForeignKey",value:function(t){return"".concat(b(t),"Id")}},{key:"keyForPolymorphicForeignKeyId",value:function(t){return"".concat(b(t),"Id")}},{key:"keyForPolymorphicForeignKeyType",value:function(t){return"".concat(b(t),"Type")}},{key:"isModel",value:function(t){return t instanceof je}},{key:"isCollection",value:function(t){return t instanceof Q||t instanceof z}},{key:"isModelOrCollection",value:function(t){return this.isModel(t)||this.isCollection(t)}},{key:"serializerFor",value:function(t){return this.registry.serializerFor(t)}},{key:"getAssociationKeys",value:function(){return(0,ct.default)(this.include)?this.include(this.request,this.primaryResource):this.include}},{key:"getKeysForEmbedded",value:function(){var t=this;return this.getAssociationKeys().filter(function(n){return t._embedFn(n)})}},{key:"getKeysForIncluded",value:function(){var t=this;return this.getAssociationKeys().filter(function(n){return!t._embedFn(n)})}},{key:"schema",get:function(){return this.registry.schema}},{key:"keyForId",value:function(){return this.primaryKey}},{key:"valueForId",value:function(t){return t}},{key:"_formatAttributeKeys",value:function(t){var n={};for(var i in t){var s=t[i];i==="id"&&(s=this.valueForId(s));var a=this.keyForAttribute(i);n[a]=s}return n}},{key:"getCoalescedIds",value:function(){}}]),e}();D.prototype.include=[];D.prototype.root=!0;D.prototype.embed=!1;D.prototype.primaryKey="id";D.prototype.serializeIds="included";D.extend=Vf;var Jf=function(e){$(t,e);var r=B(t);function t(){var n;return _(this,t),n=r.apply(this,arguments),n.alwaysIncludeLinkageData=n.alwaysIncludeLinkageData||void 0,n}return q(t,[{key:"keyForModel",value:function(i){return x(i)}},{key:"keyForCollection",value:function(i){return x(i)}},{key:"keyForAttribute",value:function(i){return x(i)}},{key:"keyForRelationship",value:function(i){return x(i)}},{key:"links",value:function(){}},{key:"getHashForPrimaryResource",value:function(i){this._createRequestedIncludesGraph(i);var s=this.getHashForResource(i),a={data:s},o=this.getAddToIncludesForResource(i);return[a,o]}},{key:"getHashForIncludedResource",value:function(i){var s=this.serializerFor(i.modelName),a=s.getHashForResource(i),o={included:this.isModel(i)?[a]:a},u=[];return this.hasQueryParamIncludes()||(u=this.getAddToIncludesForResource(i)),[o,u]}},{key:"getHashForResource",value:function(i){var s=this,a;return this.isModel(i)?a=this.getResourceObjectForModel(i):a=i.models.map(function(o){return s.getResourceObjectForModel(o)}),a}},{key:"getAddToIncludesForResource",value:function(i){var s;if(this.hasQueryParamIncludes())s=this.getQueryParamIncludes();else{var a=this.serializerFor(i.modelName);s=a.getKeysForIncluded()}return this.getAddToIncludesForResourceAndPaths(i,s)}},{key:"getAddToIncludesForResourceAndPaths",value:function(i,s){var a=this,o=[];return s.forEach(function(u){var c=u.split("."),f=a.getIncludesForResourceAndPath.apply(a,[i].concat(ke(c)));o.push(f)}),(0,Rn.default)((0,ht.default)((0,Xt.default)(o)),function(u){return u.toString()})}},{key:"getIncludesForResourceAndPath",value:function(i){for(var s=this,a=arguments.length,o=new Array(a>1?a-1:0),u=1;u<a;u++)o[u-1]=arguments[u];var c=b(o.shift()),f=[],l=[];if(this.isModel(i)){var d=i[c];this.isModel(d)?l=[d]:this.isCollection(d)&&(l=d.models)}else i.models.forEach(function(p){var v=p[c];s.isModel(v)?l.push(v):s.isCollection(v)&&(l=l.concat(v.models))});return f=f.concat(l),o.length&&l.forEach(function(p){f=f.concat(s.getIncludesForResourceAndPath.apply(s,[p].concat(o)))}),f}},{key:"getResourceObjectForModel",value:function(i){var s=this._attrsForModel(i,!0);delete s.id;var a={type:this.typeKeyForModel(i),id:i.id,attributes:s};return this._maybeAddRelationshipsToResourceObjectForModel(a,i)}},{key:"_maybeAddRelationshipsToResourceObjectForModel",value:function(i,s){var a=this,o={};return s.associationKeys.forEach(function(u){var c=s[u],f=a.keyForRelationship(u),l={};if(a.hasLinksForRelationship(s,u)){var d=a.serializerFor(s.modelName),p=d.links(s);l.links=p[u]}if(a.alwaysIncludeLinkageData||a.shouldIncludeLinkageData(u,s)||a._relationshipIsIncludedForModel(u,s)){var v=null;a.isModel(c)?v={type:a.typeKeyForModel(c),id:c.id}:a.isCollection(c)&&(v=c.models.map(function(y){return{type:a.typeKeyForModel(y),id:y.id}})),l.data=v}(0,Yt.default)(l)||(o[f]=l)}),(0,Yt.default)(o)||(i.relationships=o),i}},{key:"hasLinksForRelationship",value:function(i,s){var a=this.serializerFor(i.modelName),o=a.links&&a.links(i);return o&&o[s]!=null}},{key:"_relationshipIsIncludedForModel",value:function(i,s){if(this.hasQueryParamIncludes()){var a=this.request._includesGraph,o=this._graphKeyForModel(s),u;return a.data[o]?u=a.data[o]:a.included[this._container.inflector.pluralize(s.modelName)]&&(u=a.included[this._container.inflector.pluralize(s.modelName)][o]),u&&u.relationships&&Object.prototype.hasOwnProperty.call(u.relationships,x(i))}else{var c=this.getKeysForIncluded();return c.includes(i)}}},{key:"_createRequestedIncludesGraph",value:function(i){var s=this,a={data:{}};if(this.isModel(i)){var o=this._graphKeyForModel(i);a.data[o]={},this._addPrimaryModelToRequestedIncludesGraph(a,i)}else this.isCollection(i)&&i.models.forEach(function(u){var c=s._graphKeyForModel(u);a.data[c]={},s._addPrimaryModelToRequestedIncludesGraph(a,u)});this.request._includesGraph=a}},{key:"_addPrimaryModelToRequestedIncludesGraph",value:function(i,s){var a=this;if(this.hasQueryParamIncludes()){var o=this._graphKeyForModel(s);this.getQueryParamIncludes().filter(function(u){return!!u.trim()}).forEach(function(u){i.data[o].relationships=i.data[o].relationships||{};var c=u.split(".").map(x),f=c[0],l=f,d=b(f),p=s.associationKeys.has(d);m(p,'You tried to include "'.concat(f,'" with ').concat(s,' but no association named "').concat(d,'" is defined on the model.'));var v=s[d],y;a.isModel(v)?y=a._graphKeyForModel(v):a.isCollection(v)?y=v.models.map(a._graphKeyForModel):y=null,i.data[o].relationships[l]=y,v&&a._addResourceToRequestedIncludesGraph(i,v,c.slice(1))})}}},{key:"_addResourceToRequestedIncludesGraph",value:function(i,s,a){var o=this;i.included=i.included||{};var u=this.isCollection(s)?s.models:[s];u.forEach(function(c){var f=o._container.inflector.pluralize(c.modelName);i.included[f]=i.included[f]||{},o._addModelToRequestedIncludesGraph(i,c,a)})}},{key:"_addModelToRequestedIncludesGraph",value:function(i,s,a){var o=this._container.inflector.pluralize(s.modelName),u=this._graphKeyForModel(s);i.included[o][u]=i.included[o][u]||{},a.length&&this._addResourceRelationshipsToRequestedIncludesGraph(i,o,u,s,a)}},{key:"_addResourceRelationshipsToRequestedIncludesGraph",value:function(i,s,a,o,u){i.included[s][a].relationships=i.included[s][a].relationships||{};var c=u[0],f=o[b(c)],l;this.isModel(f)?l=this._graphKeyForModel(f):this.isCollection(f)&&(l=f.models.map(this._graphKeyForModel)),i.included[s][a].relationships[c]=l,f&&this._addResourceToRequestedIncludesGraph(i,f,u.slice(1))}},{key:"_graphKeyForModel",value:function(i){return"".concat(i.modelName,":").concat(i.id)}},{key:"getQueryParamIncludes",value:function(){var i=(0,Fn.default)(this,"request.queryParams.include");return i&&!Array.isArray(i)&&(i=i.split(",")),i}},{key:"hasQueryParamIncludes",value:function(){return!!this.getQueryParamIncludes()}},{key:"typeKeyForModel",value:function(i){return x(this._container.inflector.pluralize(i.modelName))}},{key:"getCoalescedIds",value:function(i){var s=i.queryParams&&i.queryParams["filter[id]"];return typeof s=="string"?s.split(","):s}},{key:"shouldIncludeLinkageData",value:function(i,s){return!1}}]),t}(D);Jf.prototype.alwaysIncludeLinkageData=!1;var Zf=function(){function e(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_(this,e),this.schema=r,this._serializerMap=t}return q(e,[{key:"normalize",value:function(t,n){return this.serializerFor(n).normalize(t)}},{key:"serialize",value:function(t,n){var i=this;if(this.request=n,this._isModelOrCollection(t)){var s=this.serializerFor(t.modelName);return s.serialize(t,n)}else return Array.isArray(t)&&t.some(this._isCollection)?t.reduce(function(a,o){var u=i.serializerFor(o.modelName);return u.embed?a[i._container.inflector.pluralize(o.modelName)]=u.serialize(o,n):a=Object.assign(a,u.serialize(o,n)),a},{}):t}},{key:"serializerFor",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.explicit,s=i===void 0?!1:i,a=t&&this._serializerMap&&this._serializerMap[b(t)];return s?m(!!a,"You passed in ".concat(t," as an explicit serializer type but that serializer doesn't exist.")):(a=a||this._serializerMap.application||D,m(!a||a.prototype.embed||a.prototype.root||new a instanceof Jf,"You cannot have a serializer that sideloads (embed: false) and disables the root (root: false).")),new a(this,t,this.request)}},{key:"_isModel",value:function(t){return t instanceof je}},{key:"_isCollection",value:function(t){return t instanceof Q||t instanceof z}},{key:"_isModelOrCollection",value:function(t){return this._isModel(t)||this._isCollection(t)}},{key:"registerSerializers",value:function(t){var n=this._serializerMap||{};this._serializerMap=Object.assign(n,t)}},{key:"getCoalescedIds",value:function(t,n){return this.serializerFor(n).getCoalescedIds(t)}}]),e}(),mn={},bn={},_n={},Xf=function(){function e(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_(this,e),m(r,"A schema requires a db"),this.db=r,this._registry={},this._dependentAssociations={polymorphic:[]},this.registerModels(t),this.isSaving={}}return q(e,[{key:"registerModels",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,Lf.default)(n,function(i,s){t.registerModel(s,n[s])})}},{key:"registerModel",value:function(t,n){var i=this,s=b(t),a=x(s);n=n.extend(),this._registry[s]=this._registry[s]||{class:null,foreignKeys:[]},this._registry[s].class=n,n.prototype._schema=this,n.prototype.modelName=a,n.prototype.hasManyAssociations={},n.prototype.hasManyAssociationFks={},n.prototype.belongsToAssociations={},n.prototype.belongsToAssociationFks={},n.prototype.associationKeys=new Set,n.prototype.associationIdKeys=new Set,n.prototype.dependentAssociations=[];var o={};for(var u in n.prototype)if(n.prototype[u]instanceof ft){var c=n.prototype[u];c.name=u,c.modelName=c.modelName||this.toModelName(u),c.ownerModelName=a,c.setSchema(this);var f=c.getForeignKeyArray(),l=k(f,2),d=l[0],p=l[1];o[d]=o[d]||[],m(!o[d].includes(p),"Your '".concat(t,"' model definition has multiple possible inverse relationships of type '").concat(d,"'. Please use explicit inverses.")),o[d].push(p),this._addForeignKeyToRegistry(d,p),c.addMethodsToModelClass(n,u)}var v=this.toCollectionName(a);return this.db[v]||this.db.createCollection(v),this[v]={camelizedModelName:s,new:function(g){return i.new(s,g)},create:function(g){return i.create(s,g)},all:function(g){return i.all(s,g)},find:function(g){return i.find(s,g)},findBy:function(g){return i.findBy(s,g)},findOrCreateBy:function(g){return i.findOrCreateBy(s,g)},where:function(g){return i.where(s,g)},none:function(g){return i.none(s,g)},first:function(g){return i.first(s,g)}},this}},{key:"modelFor",value:function(t){return this._registry[t]}},{key:"new",value:function(t,n){return this._instantiateModel(x(t),n)}},{key:"create",value:function(t,n){return this.new(t,n).save()}},{key:"all",value:function(t){var n=this.collectionForType(t);return this._hydrate(n,x(t))}},{key:"none",value:function(t){return this._hydrate([],x(t))}},{key:"find",value:function(t,n){var i=this.collectionForType(t),s=i.find(n);return Array.isArray(n)&&m(s.length===n.length,"Couldn't find all ".concat(this._container.inflector.pluralize(t)," with ids: (").concat(n.join(","),") (found ").concat(s.length," results, but was looking for ").concat(n.length,")")),this._hydrate(s,x(t))}},{key:"findBy",value:function(t,n){var i=this.collectionForType(t),s=i.findBy(n);return this._hydrate(s,x(t))}},{key:"findOrCreateBy",value:function(t,n){var i=this.collectionForType(t),s=i.findBy(n),a;return s?a=this._hydrate(s,x(t)):a=this.create(t,n),a}},{key:"where",value:function(t,n){var i=this.collectionForType(t),s=i.where(n);return this._hydrate(s,x(t))}},{key:"first",value:function(t){var n=this.collectionForType(t),i=n[0];return this._hydrate(i,x(t))}},{key:"modelClassFor",value:function(t){var n=this._registry[b(t)];return m(n,"Model not registered: ".concat(t)),n.class.prototype}},{key:"addDependentAssociation",value:function(t,n){t.isPolymorphic?this._dependentAssociations.polymorphic.push(t):(this._dependentAssociations[n]=this._dependentAssociations[n]||[],this._dependentAssociations[n].push(t))}},{key:"dependentAssociationsFor",value:function(t){var n=this._dependentAssociations[t]||[],i=this._dependentAssociations.polymorphic||[];return n.concat(i)}},{key:"associationsFor",value:function(t){var n=this.modelClassFor(t);return Object.assign({},n.belongsToAssociations,n.hasManyAssociations)}},{key:"hasModelForModelName",value:function(t){return this.modelFor(b(t))}},{key:"collectionForType",value:function(t){var n=this.toCollectionName(t);return m(this.db[n],"You're trying to find model(s) of type ".concat(t," but this collection doesn't exist in the database.")),this.db[n]}},{key:"toCollectionName",value:function(t){if(typeof mn[t]!="string"){var n=x(t),i=b(this._container.inflector.pluralize(n));mn[t]=i}return mn[t]}},{key:"toInternalCollectionName",value:function(t){if(typeof bn[t]!="string"){var n="_".concat(this.toCollectionName(t));bn[t]=n}return bn[t]}},{key:"toModelName",value:function(t){if(typeof _n[t]!="string"){var n=x(t),i=this._container.inflector.singularize(n);_n[t]=i}return _n[t]}},{key:"_addForeignKeyToRegistry",value:function(t,n){this._registry[t]=this._registry[t]||{class:null,foreignKeys:[]};var i=this._registry[t].foreignKeys;i.includes(n)||i.push(n)}},{key:"_instantiateModel",value:function(t,n){var i=this._modelFor(t),s=this._foreignKeysFor(t);return new i(this,t,n,s)}},{key:"_modelFor",value:function(t){return this._registry[b(t)].class}},{key:"_foreignKeysFor",value:function(t){return this._registry[b(t)].foreignKeys}},{key:"_hydrate",value:function(t,n){if(Array.isArray(t)){var i=t.map(function(s){return this._instantiateModel(n,s)},this);return new Q(n,i)}else return t?this._instantiateModel(n,t):null}}]),e}(),UT={Db:Yf,Association:ft,RouteHandler:Qf,BaseRouteHandler:er,Serializer:D,SerializerRegistry:Zf,Schema:Xf},$T={singularize:Ur,pluralize:Hr},ed=function(){function e(){_(this,e),this.inflector=$T}return q(e,[{key:"register",value:function(t,n){this[t]=n}},{key:"create",value:function(t){var n=UT[t];n.prototype._container=this;for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];return U(n,s)}}]),e}(),ve=new ed;Yf.prototype._container=ve;ft.prototype._container=ve;er.prototype._container=ve;Qf.prototype._container=ve;D.prototype._container=ve;Zf.prototype._container=ve;Xf.prototype._container=ve;var BT=["http://localhost:0/chromecheckurl","http://localhost:30820/socket.io",function(e){return/.+\.hot-update.json$/.test(e.url)}],qn={coalesce:!1,timing:void 0};function KT(e){if(!e||O(e)!=="object")return!1;for(var r=Object.keys(qn),t=Object.keys(e),n=0;n<t.length;n++){var i=t[n];if(r.indexOf(i)>-1)return!0}return!1}function GT(e){var r=e.splice(-1),t=k(r,1),n=t[0];KT(n)?n=(0,Wt.default)({},qn,n):(e.push(n),n=qn);for(var i=2-e.length;i-- >0;)e.push(void 0);return e.push(n),e}var YT=function(){function e(){_(this,e),S(this,"urlPrefix",void 0),S(this,"namespace",void 0),S(this,"timing",void 0),S(this,"passthroughChecks",void 0),S(this,"pretender",void 0),S(this,"mirageServer",void 0),S(this,"trackRequests",void 0)}return q(e,[{key:"create",value:function(t,n){var i=this;this.mirageServer=t,this.pretender=this._create(t,n),t.pretender=this.pretender,this.passthroughChecks=this.passthroughChecks||[],this.config(n),[["get"],["post"],["put"],["delete","del"],["patch"],["head"],["options"]].forEach(function(s){var a=k(s,2),o=a[0],u=a[1];i[o]=function(c){for(var f,l=arguments.length,d=new Array(l>1?l-1:0),p=1;p<l;p++)d[p-1]=arguments[p];var v=GT(d),y=k(v,3),g=y[0],R=y[1],I=y[2],ee=t.registerRouteHandler(o,c,g,R,I),te=i._getFullPath(c),ye=I.timing!==void 0?I.timing:function(){return i.timing};return(f=i.pretender)===null||f===void 0?void 0:f[o](te,ee,ye)},t[o]=i[o],u&&(i[u]=i[o],t[u]=i[o])})}},{key:"config",value:function(t){var n,i,s=typeof t.useDefaultPassthroughs<"u"?t.useDefaultPassthroughs:!0;s&&this._configureDefaultPassthroughs();var a=t.trackRequests!==void 0&&t.trackRequests!==this.trackRequests;m(!a,"You cannot modify Pretender's request tracking once the server is created"),this.timing=(n=(i=t.timing)!==null&&i!==void 0?i:this.timing)!==null&&n!==void 0?n:400,this.urlPrefix=this.urlPrefix||t.urlPrefix||"",this.namespace=this.namespace||t.namespace||""}},{key:"_configureDefaultPassthroughs",value:function(){var t=this;BT.forEach(function(n){t.passthrough(n)})}},{key:"_create",value:function(t,n){if(typeof window<"u")return this.trackRequests=n.trackRequests||!1,new Sf(function(){this.passthroughRequest=function(s,a,o){t.shouldLog()&&console.log("Mirage: Passthrough request for ".concat(s.toUpperCase()," ").concat(o.url))},this.handledRequest=function(s,a,o){if(t.shouldLog()){console.groupCollapsed("Mirage: [".concat(o.status,"] ").concat(s.toUpperCase()," ").concat(o.url));var u=o.requestBody,c=o.responseText,f,l;try{f=JSON.parse(u)}catch{f=u}try{l=JSON.parse(c)}catch{l=c}console.groupCollapsed("Response"),console.log(l),console.groupEnd(),console.groupCollapsed("Request (data)"),console.log(f),console.groupEnd(),console.groupCollapsed("Request (raw)"),console.log(o),console.groupEnd(),console.groupEnd()}};var i=this.checkPassthrough;this.checkPassthrough=function(s){var a=t.passthroughChecks.some(function(u){return u(s)});if(a){var o=s.url.includes("?")?s.url.substr(0,s.url.indexOf("?")):s.url;this[s.method.toLowerCase()](o,this.passthrough)}return i.apply(this,arguments)},this.unhandledRequest=function(s,a){a=decodeURI(a);var o="";this.namespace===""?o="There is no existing namespace defined. Please define one":o="The existing namespace is ".concat(this.namespace),m("Your app tried to ".concat(s," '").concat(a,"', but there was no route defined to handle this request. Define a route for this endpoint in your routes() config. Did you forget to define a namespace? ").concat(o))}},{trackRequests:this.trackRequests})}},{key:"passthrough",value:function(){for(var t=this,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];if(typeof window<"u"){var a=["get","post","put","delete","patch","options","head"],o=i[i.length-1];i.length===0?i=["/**","/"]:i.length>1&&Array.isArray(o)&&(a=i.pop()),i.forEach(function(u){typeof u=="function"?t.passthroughChecks.push(u):a.forEach(function(c){var f=t._getFullPath(u);t.pretender[c](f,t.pretender.passthrough)})})}}},{key:"_getFullPath",value:function(t){t=t[0]==="/"?t.slice(1):t;var n="",i=this.urlPrefix?this.urlPrefix.trim():"",s="";if(this.urlPrefix&&this.namespace&&(this.namespace[0]==="/"&&this.namespace[this.namespace.length-1]==="/"&&(s=this.namespace.substring(0,this.namespace.length-1).substring(1)),this.namespace[0]==="/"&&this.namespace[this.namespace.length-1]!=="/"&&(s=this.namespace.substring(1)),this.namespace[0]!=="/"&&this.namespace[this.namespace.length-1]==="/"&&(s=this.namespace.substring(0,this.namespace.length-1)),this.namespace[0]!=="/"&&this.namespace[this.namespace.length-1]!=="/"&&(s=this.namespace)),this.namespace&&!this.urlPrefix){if(this.namespace[0]==="/"&&this.namespace[this.namespace.length-1]==="/"&&(s=this.namespace.substring(0,this.namespace.length-1)),this.namespace[0]==="/"&&this.namespace[this.namespace.length-1]!=="/"&&(s=this.namespace),this.namespace[0]!=="/"&&this.namespace[this.namespace.length-1]==="/"){var a=this.namespace.substring(0,this.namespace.length-1);s="/".concat(a)}this.namespace[0]!=="/"&&this.namespace[this.namespace.length-1]!=="/"&&(s="/".concat(this.namespace))}return this.namespace||(s=""),/^https?:\/\//.test(t)?n+=t:(i.length&&(n+=i[i.length-1]==="/"?i:"".concat(i,"/")),n+=s,n[n.length-1]!=="/"&&(n+="/"),n+=t,/^https?:\/\//.test(n)||(n="/".concat(n),n=n.replace(/\/+/g,"/"))),n}},{key:"start",value:function(){}},{key:"shutdown",value:function(){this.pretender.shutdown()}}]),e}(),An={},WT={singularize:Ur,pluralize:Hr};function td(e){return new QT(e)}var QT=function(){function e(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_(this,e),this._container=new ed,this.config(r),this.db=this.db||void 0,this.schema=this.schema||void 0,this.middleware=[]}return q(e,[{key:"namespace",get:function(){return this.interceptor.namespace},set:function(t){this.interceptor.namespace=t}},{key:"urlPrefix",get:function(){return this.interceptor.urlPrefix},set:function(t){this.interceptor.urlPrefix=t}},{key:"timing",get:function(){return this.interceptor.timing},set:function(t){this.interceptor.timing=t}},{key:"passthroughChecks",get:function(){return this.interceptor.passthroughChecks},set:function(t){this.interceptor.passthroughChecks=t}},{key:"config",value:function(){var t,n,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};i.interceptor||(i.interceptor=new YT),this.interceptor?this.interceptor.config(i):(this.interceptor=i.interceptor,this.interceptor.create(this,i));var s=i.environment&&this.environment&&this.environment!==i.environment;m(!s,"You cannot modify Mirage's environment once the server is created"),this.environment=i.environment||this.environment||"development",i.routes&&(m(!i.baseConfig,"The routes option is an alias for the baseConfig option. You can't pass both options into your server definition."),i.baseConfig=i.routes),i.seeds&&(m(!i.scenarios,"The seeds option is an alias for the scenarios.default option. You can't pass both options into your server definition."),i.scenarios={default:i.seeds}),this._config=i,this.inflector=i.inflector||WT,this._container.register("inflector",this.inflector),this.logging=i.logging!==void 0?this.logging:void 0,this.testConfig=this.testConfig||void 0,this.trackRequests=i.trackRequests,this.db?this.db.registerIdentityManagers(i.identityManagers):this.db=this._container.create("Db",void 0,i.identityManagers),this.schema?(this.schema.registerModels(i.models),this.serializerOrRegistry.registerSerializers(i.serializers||{})):(this.schema=this._container.create("Schema",this.db,i.models),this.serializerOrRegistry=this._container.create("SerializerRegistry",this.schema,i.serializers));var a=this._hasModulesOfType(i,"factories"),o=i.scenarios&&Object.prototype.hasOwnProperty.call(i.scenarios,"default");i.baseConfig&&this.loadConfig(i.baseConfig),this.isTest()&&(this.loadConfig(i.testConfig),typeof window<"u"&&(window.server=this)),this.isTest()&&a?this.loadFactories(i.factories):!this.isTest()&&o?(this.loadFactories(i.factories),i.scenarios.default(this)):this.loadFixtures(),(t=(n=this.interceptor).start)===null||t===void 0||t.call(n)}},{key:"isTest",value:function(){return this.environment==="test"}},{key:"shouldLog",value:function(){return typeof this.logging<"u"?this.logging:!this.isTest()}},{key:"loadConfig",value:function(t){t?.call(this),this.timing=this.isTest()?0:this.timing||0}},{key:"passthrough",value:function(){for(var t,n,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];(t=(n=this.interceptor).passthrough)===null||t===void 0||t.call.apply(t,[n].concat(s))}},{key:"loadFixtures",value:function(){for(var t=this._config.fixtures,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];if(i.length){var a=i.map(b),o=a.filter(function(u){return!t[u]});if(o.length)throw new Error("Fixtures not found: ".concat(o.join(", ")));t=Hf.default.apply(void 0,[t].concat(ke(a)))}this.db.loadData(t)}},{key:"loadFactories",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=this._factoryMap||{};this._factoryMap=(0,Wt.default)(i,n),Object.keys(n).forEach(function(s){var a=t.schema.toCollectionName(s);t.db.createCollection(a)})}},{key:"factoryFor",value:function(t){var n=b(t);if(this._factoryMap&&this._factoryMap[n])return this._factoryMap[n]}},{key:"build",value:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];var a=i.filter(function(y){return y&&typeof y=="string"}),o=(0,Kt.default)(i,function(y){return(0,ze.default)(y)}),u=b(t);this.factorySequences=this.factorySequences||{},this.factorySequences[u]=this.factorySequences[u]+1||0;var c=this.factoryFor(t);if(c){c=c.extend({});var f=c.attrs||{};this._validateTraits(a,c,t);var l=this._mergeExtensions(f,a,o);this._mapAssociationsFromAttributes(t,f,o),this._mapAssociationsFromAttributes(t,l);var d=c.extend(l),p=new d,v=this.factorySequences[u];return p.build(v)}else return o}},{key:"buildList",value:function(t,n){m((0,wn.default)(n),"second argument has to be an integer, you passed: ".concat(O(n)));for(var i=[],s=arguments.length,a=new Array(s>2?s-2:0),o=2;o<s;o++)a[o-2]=arguments[o];for(var u=[t].concat(a),c=0;c<n;c++)i.push(this.build.apply(this,u));return i}},{key:"create",value:function(t){var n=this;m(this._modelOrFactoryExistsForType(t),"You called server.create('".concat(t,"') but no model or factory was found. Make sure you're passing in the singularized version of the model or factory name."));for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];var o=s.filter(function(g){return g&&typeof g=="string"}),u=(0,Kt.default)(s,function(g){return(0,ze.default)(g)}),c=(0,Kt.default)(s,function(g){return g&&Array.isArray(g)}),f=this.build.apply(this,[t].concat(ke(o),[u])),l;if(this.schema&&this.schema[this.schema.toCollectionName(t)]){var d=this.schema[this.schema.toCollectionName(t)];l=d.create(f)}else{var p,v;c?p=c:(v=this.schema?this.schema.toInternalCollectionName(t):"_".concat(this.inflector.pluralize(t)),p=this.db[v]),m(p,"You called server.create('".concat(t,"') but no model or factory was found.")),l=p.insert(f)}var y=this.factoryFor(t);return y&&y.extractAfterCreateCallbacks({traits:o}).forEach(function(g){g(l,n)}),l}},{key:"createList",value:function(t,n){m(this._modelOrFactoryExistsForType(t),"You called server.createList('".concat(t,"') but no model or factory was found. Make sure you're passing in the singularized version of the model or factory name.")),m((0,wn.default)(n),"second argument has to be an integer, you passed: ".concat(O(n)));for(var i=[],s=this.schema?this.schema.toInternalCollectionName(t):"_".concat(this.inflector.pluralize(t)),a=this.db[s],o=arguments.length,u=new Array(o>2?o-2:0),c=2;c<o;c++)u[c-2]=arguments[c];for(var f=[t].concat(u,[a]),l=0;l<n;l++)i.push(this.create.apply(this,f));return i}},{key:"shutdown",value:function(){typeof window<"u"&&this.interceptor.shutdown(),typeof window<"u"&&this.environment==="test"&&(window.server=void 0)}},{key:"resource",value:function(t){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.only,a=i.except,o=i.path;if(t=this.inflector.pluralize(t),o=o||"/".concat(t),s=s||[],a=a||[],s.length>0&&a.length>0)throw"cannot use both :only and :except options";var u={index:{methods:["get"],path:"".concat(o)},show:{methods:["get"],path:"".concat(o,"/:id")},create:{methods:["post"],path:"".concat(o)},update:{methods:["put","patch"],path:"".concat(o,"/:id")},delete:{methods:["del"],path:"".concat(o,"/:id")}},c=Object.keys(u),f=s.length>0&&s||a.length>0&&c.filter(function(l){return a.indexOf(l)===-1})||c;f.forEach(function(l){var d=u[l];d.methods.forEach(function(p){return o===t?n[p](d.path):n[p](d.path,t)})})}},{key:"_serialize",value:function(t){return typeof t=="string"?t:JSON.stringify(t)}},{key:"registerRouteHandler",value:function(t,n,i,s,a){var o=this,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:this.middleware,c=this._container.create("RouteHandler",{schema:this.schema,verb:t,rawHandler:i,customizedCode:s,options:a,path:n,serializerOrRegistry:this.serializerOrRegistry,middleware:u});return function(f){return c.handle(f).then(function(l){var d=k(l,3),p=d[0],v=d[1],y=d[2];return[p,v,o._serialize(y)]})}}},{key:"_hasModulesOfType",value:function(t,n){var i=t[n];return i?Object.keys(i).length>0:!1}},{key:"_typeIsPluralForModel",value:function(t){if(typeof An[t]!="boolean"){var n=this._modelOrFactoryExistsForTypeOrCollectionName(t),i=t===this.inflector.pluralize(t),s=this.inflector.singularize(t)===this.inflector.pluralize(t),a=i&&!s&&n;An[t]=a}return An[t]}},{key:"_modelOrFactoryExistsForType",value:function(t){var n=this.schema&&this.schema.modelFor(b(t)),i=this.db[this.schema.toInternalCollectionName(t)];return(n||i)&&!this._typeIsPluralForModel(t)}},{key:"_modelOrFactoryExistsForTypeOrCollectionName",value:function(t){var n=this.schema&&this.schema.modelFor(b(t)),i=this.db[this.schema.toInternalCollectionName(t)];return n||i}},{key:"_validateTraits",value:function(t,n,i){t.forEach(function(s){if(!n.isTrait(s))throw new Error("'".concat(s,"' trait is not registered in '").concat(i,"' factory"))})}},{key:"_mergeExtensions",value:function(t,n,i){var s=n.map(function(a){return t[a].extension});return s.push(i||{}),s.reduce(function(a,o){return(0,Wt.default)(a,o)},{})}},{key:"_mapAssociationsFromAttributes",value:function(t,n){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(n||{}).filter(function(a){return IT(n[a])}).forEach(function(a){var o=i.schema.modelClassFor(t),u=o.associationFor(a);m(u&&u instanceof lt,"You're using the `association` factory helper on the '".concat(a,"' attribute of your ").concat(t," factory, but that attribute is not a `belongsTo` association."));var c=u&&u instanceof lt&&u.modelName===t;m(!c,"You're using the association() helper on your ".concat(t," factory for ").concat(a,", which is a belongsTo self-referential relationship. You can't do this as it will lead to infinite recursion. You can move the helper inside of a trait and use it selectively."));var f=u&&u.opts&&u.opts.polymorphic;m(!f,"You're using the association() helper on your ".concat(t," factory for ").concat(a,", which is a polymorphic relationship. This is not currently supported."));var l=n[a],d="".concat(b(a),"Id");s[a]||(n[d]=i.create.apply(i,[u.modelName].concat(ke(l.traitsAndOverrides))).id),delete n[a]})}}]),e}(),Pf=D.extend({serializeIds:"always",normalizeIds:!0,keyForModel:function(r){return W(r)},keyForAttribute:function(r){return r=D.prototype.keyForAttribute.apply(this,arguments),W(r)},keyForRelationship:function(r){return this._container.inflector.pluralize(W(r))},keyForEmbeddedRelationship:function(r){return W(r)},keyForRelationshipIds:function(r){return"".concat(W(this._container.inflector.singularize(r)),"_ids")},keyForForeignKey:function(r){return"".concat(W(r),"_id")},keyForPolymorphicForeignKeyId:function(r){return"".concat(W(r),"_id")},keyForPolymorphicForeignKeyType:function(r){return"".concat(W(r),"_type")},normalize:function(r){var t=this,n=Object.keys(r)[0],i=r[n],s=b(n),a=this.schema.modelClassFor(s),o=a.belongsToAssociations,u=a.hasManyAssociations,c=Object.keys(o),f=Object.keys(u);this.primaryKey!=="id"&&(i.id=i[this.primaryKey],delete i[this.primaryKey]);var l={data:{type:this._container.inflector.pluralize(n),attributes:{}}};i.id&&(l.data.id=i.id);var d={};return Object.keys(i).forEach(function(p){if(p!=="id")if(t.normalizeIds)if(c.includes(p)){var v=o[p],y=v.modelName;d[x(p)]={data:{type:y,id:i[p]}}}else if(f.includes(p)){var g=u[p],R=g.modelName,I=i[p].map(function(ee){return{type:R,id:ee}});d[x(p)]={data:I}}else l.data.attributes[x(p)]=i[p];else l.data.attributes[x(p)]=i[p]}),Object.keys(d).length&&(l.data.relationships=d),l},getCoalescedIds:function(r){return r.queryParams&&r.queryParams.ids}}),FI=Pf.extend({serializeIds:"always",keyForModel:function(r){return b(r)},keyForAttribute:function(r){return r=Pf.prototype.keyForAttribute.apply(this,arguments),b(r)},keyForRelationship:function(r){return b(this._container.inflector.pluralize(r))},keyForEmbeddedRelationship:function(r){return b(r)},keyForRelationshipIds:function(r){return b(this._container.inflector.pluralize(r))},keyForForeignKey:function(r){return b(this._container.inflector.singularize(r))},getCoalescedIds:function(r){return r.queryParams&&r.queryParams.ids}});function rd({environment:e="test"}={}){return td({environment:e,models:{question:je},routes(){this.namespace="api",this.timing=400,this.resource("questions"),this.passthrough()}})}rd({environment:"development"});Wn(ai,si).catch(e=>console.error(e));
