import{a as je,b as xe,c as Me,d as Oe,f as Fe,g as Y,h as Ne,i as P,m as ze}from"./chunk-M7HKHVC4.js";import{a as Ee}from"./chunk-NMTATIVG.js";import{$ as f,C as Le,F as me,Hc as Pe,I as A,Ka as Se,L as Ce,P as ve,Pc as _e,Rc as De,S as Z,V as X,a as p,aa as x,b as j,ca as d,ea as c,fa as M,g as ue,ga as ye,h as ce,ha as Re,i as he,ia as be,j as G,l as de,mb as we,n as B,nc as Ae,o as L,pb as F,q as C,ra as S,s as fe,sa as Te,t as T,v as ge,x as H,xa as O,xb as Ie,y as q,z as pe}from"./chunk-WW63N5WR.js";var y=class{},Q=(()=>{class n extends y{getTranslation(e){return L({})}static \u0275fac=(()=>{let e;return function(i){return(e||(e=S(n)))(i||n)}})();static \u0275prov=f({token:n,factory:n.\u0275fac})}return n})(),w=class{},J=(()=>{class n{handle(e){return e.key}static \u0275fac=function(t){return new(t||n)};static \u0275prov=f({token:n,factory:n.\u0275fac})}return n})();function v(n){return typeof n<"u"&&n!==null}function $(n){return N(n)&&!se(n)&&n!==null}function N(n){return typeof n=="object"}function se(n){return Array.isArray(n)}function Ue(n){return typeof n=="string"}function it(n){return typeof n=="function"}function ee(n,a){let e=Object.assign({},n);return N(n)?(N(n)&&N(a)&&Object.keys(a).forEach(t=>{$(a[t])?t in n?e[t]=ee(n[t],a[t]):Object.assign(e,{[t]:a[t]}):Object.assign(e,{[t]:a[t]})}),e):ee({},a)}function te(n,a){let e=a.split(".");a="";do a+=e.shift(),v(n)&&v(n[a])&&($(n[a])||se(n[a])||!e.length)?(n=n[a],a=""):e.length?a+=".":n=void 0;while(e.length);return n}function st(n,a,e){let t=a.split("."),i=n;for(let s=0;s<t.length;s++){let r=t[s];s===t.length-1?i[r]=e:((!i[r]||!$(i[r]))&&(i[r]={}),i=i[r])}}var R=class{},ne=(()=>{class n extends R{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(e,t){if(Ue(e))return this.interpolateString(e,t);if(it(e))return this.interpolateFunction(e,t)}interpolateFunction(e,t){return e(t)}interpolateString(e,t){return t?e.replace(this.templateMatcher,(i,s)=>{let r=te(t,s);return v(r)?r:i}):e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=S(n)))(i||n)}})();static \u0275prov=f({token:n,factory:n.\u0275fac})}return n})(),b=class{},ie=(()=>{class n extends b{compile(e,t){return e}compileTranslations(e,t){return e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=S(n)))(i||n)}})();static \u0275prov=f({token:n,factory:n.\u0275fac})}return n})(),I=class{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new O;onLangChange=new O;onDefaultLangChange=new O},z=new d("ISOLATE_TRANSLATE_SERVICE"),U=new d("USE_DEFAULT_LANG"),V=new d("DEFAULT_LANGUAGE"),K=new d("USE_EXTEND"),_=n=>C(n)?n:L(n),D=(()=>{class n{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;extend;loadingTranslations;pending=!1;_translationRequests={};lastUseLanguage=null;get onTranslationChange(){return this.store.onTranslationChange}get onLangChange(){return this.store.onLangChange}get onDefaultLangChange(){return this.store.onDefaultLangChange}get defaultLang(){return this.store.defaultLang}set defaultLang(e){this.store.defaultLang=e}get currentLang(){return this.store.currentLang}set currentLang(e){this.store.currentLang=e}get langs(){return this.store.langs}set langs(e){this.store.langs=e}get translations(){return this.store.translations}set translations(e){this.store.translations=e}constructor(e,t,i,s,r,o=!0,l=!1,u=!1,h){this.store=e,this.currentLoader=t,this.compiler=i,this.parser=s,this.missingTranslationHandler=r,this.useDefaultLang=o,this.extend=u,l&&(this.store=new I),h&&this.setDefaultLang(h)}setDefaultLang(e){if(e===this.defaultLang)return;let t=this.retrieveTranslations(e);typeof t<"u"?(this.defaultLang==null&&(this.defaultLang=e),t.pipe(A(1)).subscribe(()=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(this.lastUseLanguage=e,e===this.currentLang)return L(this.translations[e]);this.currentLang||(this.currentLang=e);let t=this.retrieveTranslations(e);return C(t)?(t.pipe(A(1)).subscribe(()=>{this.changeLang(e)}),t):(this.changeLang(e),L(this.translations[e]))}changeLang(e){e===this.lastUseLanguage&&(this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),this.defaultLang==null&&this.changeDefaultLang(e))}retrieveTranslations(e){if(typeof this.translations[e]>"u"||this.extend)return this._translationRequests[e]=this._translationRequests[e]||this.loadAndCompileTranslations(e),this._translationRequests[e]}getTranslation(e){return this.loadAndCompileTranslations(e)}loadAndCompileTranslations(e){this.pending=!0;let t=this.currentLoader.getTranslation(e).pipe(Z(1),A(1));return this.loadingTranslations=t.pipe(T(i=>this.compiler.compileTranslations(i,e)),Z(1),A(1)),this.loadingTranslations.subscribe({next:i=>{this.translations[e]=this.extend&&this.translations[e]?p(p({},i),this.translations[e]):i,this.updateLangs(),this.pending=!1},error:i=>{this.pending=!1}}),t}setTranslation(e,t,i=!1){let s=this.compiler.compileTranslations(t,e);(i||this.extend)&&this.translations[e]?this.translations[e]=ee(this.translations[e],s):this.translations[e]=s,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){let t=e.filter(i=>!this.langs.includes(i));t.length>0&&(this.langs=[...this.langs,...t])}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResultForKey(e,t,i){let s;if(e&&(s=this.runInterpolation(te(e,t),i)),s===void 0&&this.defaultLang!=null&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(s=this.runInterpolation(te(this.translations[this.defaultLang],t),i)),s===void 0){let r={key:t,translateService:this};typeof i<"u"&&(r.interpolateParams=i),s=this.missingTranslationHandler.handle(r)}return s!==void 0?s:t}runInterpolation(e,t){if(se(e))return e.map(i=>this.runInterpolation(i,t));if($(e)){let i={};for(let s in e){let r=this.runInterpolation(e[s],t);r!==void 0&&(i[s]=r)}return i}else return this.parser.interpolate(e,t)}getParsedResult(e,t,i){if(t instanceof Array){let s={},r=!1;for(let l of t)s[l]=this.getParsedResultForKey(e,l,i),r=r||C(s[l]);if(!r)return s;let o=t.map(l=>_(s[l]));return pe(o).pipe(T(l=>{let u={};return l.forEach((h,g)=>{u[t[g]]=h}),u}))}return this.getParsedResultForKey(e,t,i)}get(e,t){if(!v(e)||!e.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe(me(i=>_(this.getParsedResult(i,e,t)))):_(this.getParsedResult(this.translations[this.currentLang],e,t))}getStreamOnTranslationChange(e,t){if(!v(e)||!e.length)throw new Error('Parameter "key" is required and cannot be empty');return H(q(()=>this.get(e,t)),this.onTranslationChange.pipe(X(i=>{let s=this.getParsedResult(i.translations,e,t);return _(s)})))}stream(e,t){if(!v(e)||!e.length)throw new Error('Parameter "key" required');return H(q(()=>this.get(e,t)),this.onLangChange.pipe(X(i=>{let s=this.getParsedResult(i.translations,e,t);return _(s)})))}instant(e,t){if(!v(e)||e.length===0)throw new Error('Parameter "key" is required and cannot be empty');let i=this.getParsedResult(this.translations[this.currentLang],e,t);return C(i)?Array.isArray(e)?e.reduce((s,r)=>(s[r]=r,s),{}):e:i}set(e,t,i=this.currentLang){st(this.translations[i],e,Ue(t)?this.compiler.compile(t,i):this.compiler.compileTranslations(t,i)),this.updateLangs(),this.onTranslationChange.emit({lang:i,translations:this.translations[i]})}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.loadAndCompileTranslations(e)}resetLang(e){delete this._translationRequests[e],delete this.translations[e]}getBrowserLang(){if(typeof window>"u"||!window.navigator)return;let e=this.getBrowserCultureLang();return e?e.split(/[-_]/)[0]:void 0}getBrowserCultureLang(){if(!(typeof window>"u"||typeof window.navigator>"u"))return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}static \u0275fac=function(t){return new(t||n)(c(I),c(y),c(b),c(R),c(w),c(U),c(z),c(K),c(V))};static \u0275prov=f({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Dt=(n={})=>be([n.loader||{provide:y,useClass:Q},n.compiler||{provide:b,useClass:ie},n.parser||{provide:R,useClass:ne},n.missingTranslationHandler||{provide:w,useClass:J},I,{provide:z,useValue:n.isolate},{provide:U,useValue:n.useDefaultLang},{provide:K,useValue:n.extend},{provide:V,useValue:n.defaultLanguage},D]),Ve=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[e.loader||{provide:y,useClass:Q},e.compiler||{provide:b,useClass:ie},e.parser||{provide:R,useClass:ne},e.missingTranslationHandler||{provide:w,useClass:J},I,{provide:z,useValue:e.isolate},{provide:U,useValue:e.useDefaultLang},{provide:K,useValue:e.extend},{provide:V,useValue:e.defaultLanguage},D]}}static forChild(e={}){return{ngModule:n,providers:[e.loader||{provide:y,useClass:Q},e.compiler||{provide:b,useClass:ie},e.parser||{provide:R,useClass:ne},e.missingTranslationHandler||{provide:w,useClass:J},{provide:z,useValue:e.isolate},{provide:U,useValue:e.useDefaultLang},{provide:K,useValue:e.extend},{provide:V,useValue:e.defaultLanguage},D]}}static \u0275fac=function(t){return new(t||n)};static \u0275mod=F({type:n});static \u0275inj=x({})}return n})();var rt=new d("LOCALIZE_ROUTER_FORROOT_GUARD"),re=new d("RAW_ROUTES"),m=function(n){return n.LocalStorage="LocalStorage",n.SessionStorage="SessionStorage",n.Cookie="Cookie",n}(m||{}),$e=new d("USE_CACHED_LANG"),ke=new d("CACHE_MECHANISM"),We=new d("CACHE_NAME"),Ge=new d("COOKIE_FORMAT"),Be=new d("INITIAL_NAVIGATION"),He=new d("DEFAULT_LANG_FUNCTION"),qe=new d("ALWAYS_SET_PREFIX"),at="LOCALIZE_DEFAULT_LANGUAGE",ot="{{value}};{{expires}}",lt=!1,k=(()=>{class n{constructor(e=!0,t=!0,i=m.LocalStorage,s=at,r=void 0,o=ot,l=lt){this.useCachedLang=e,this.alwaysSetPrefix=t,this.cacheName=s,this.cookieFormat=o,this.initialNavigation=l,this.cacheMechanism=i,this.defaultLangFunction=r}static{this.\u0275fac=function(t){return new(t||n)(c($e),c(qe),c(ke),c(We),c(He),c(Ge),c(Be))}}static{this.\u0275prov=f({token:n,factory:n.\u0275fac})}}return n})(),ut=30,E=(()=>{class n{constructor(e,t,i){this.translate=e,this.location=t,this.settings=i}init(e){let t;if(this.routes=e,!this.locales||!this.locales.length)return Promise.resolve();let i=this.getLocationLang(),s=this._getBrowserLang();this.settings.defaultLangFunction?this.defaultLang=this.settings.defaultLangFunction(this.locales,this._cachedLang,s):this.defaultLang=this._cachedLang||s||this.locales[0],t=i||this.defaultLang,this.translate.setDefaultLang(this.defaultLang);let r=[];if(this.settings.alwaysSetPrefix){let o={path:"",redirectTo:this.defaultLang,pathMatch:"full"},l=e.findIndex(u=>u.path==="**");l!==-1&&(this._wildcardRoute=e.splice(l,1)[0]),r=this.routes.splice(0,this.routes.length,o)}else r=[...this.routes];for(let o=r.length-1;o>=0;o--)r[o].data&&r[o].data.skipRouteLocalization&&(this.settings.alwaysSetPrefix&&this.routes.push(r[o]),(r[o].redirectTo===void 0||!r[o].data.skipRouteLocalization.localizeRedirectTo||typeof r[o].redirectTo=="function")&&r.splice(o,1));return r&&r.length&&(this.locales.length>1||this.settings.alwaysSetPrefix)&&(this._languageRoute={children:r},this.routes.unshift(this._languageRoute)),this._wildcardRoute&&this.settings.alwaysSetPrefix&&this.routes.push(this._wildcardRoute),fe(this.translateRoutes(t))}initChildRoutes(e){return this._translateRouteTree(e),e}translateRoutes(e){return new ue(t=>{this._cachedLang=e,this._languageRoute&&(this._languageRoute.path=e),this.translate.use(e).subscribe(i=>{this._translationObject=i,this.currentLang=e,this._languageRoute?(this._translateRouteTree(this._languageRoute.children,!0),this._wildcardRoute&&this._wildcardRoute.redirectTo&&this._translateProperty(this._wildcardRoute,"redirectTo",!0)):this._translateRouteTree(this.routes,!0),t.next(void 0),t.complete()})})}_translateRouteTree(e,t){e.forEach(i=>{let s=i.data&&i.data.skipRouteLocalization,r=!s||s.localizeRedirectTo;if(i.redirectTo&&r&&typeof i.redirectTo!="function"){let o=i.redirectTo.indexOf("/")===0||t;this._translateProperty(i,"redirectTo",o)}s||(i.path!==null&&i.path!==void 0&&this._translateProperty(i,"path"),i.children&&this._translateRouteTree(i.children),i.loadChildren&&i._loadedRoutes?.length&&this._translateRouteTree(i._loadedRoutes))})}_translateProperty(e,t,i){let s=e.data=e.data||{};s.localizeRouter||(s.localizeRouter={}),s.localizeRouter[t]||(s.localizeRouter=j(p({},s.localizeRouter),{[t]:e[t]}));let r=this.translateRoute(s.localizeRouter[t]);e[t]=i?this.addPrefixToUrl(r):r}get urlPrefix(){return this.settings.alwaysSetPrefix||this.currentLang!==this.defaultLang?this.currentLang?this.currentLang:this.defaultLang:""}addPrefixToUrl(e){let t=e.split("?"),i=t[0].length===1&&t[0]==="/";t[0]=t[0].replace(/\/$/,"");let s=t.join("?");return this.urlPrefix===""?s:!s.startsWith("/")&&!i?`${this.urlPrefix}/${s}`:`/${this.urlPrefix}${s}`}translateRoute(e){let t=e.split("?");if(t.length>2)throw Error("There should be only one query parameter block in the URL");return t[0].split("/").map(s=>s.length?this.translateText(s):s).join("/")+(t.length>1?`?${t[1]}`:"")}getLocationLang(e){let t=(e||this.location.path()).split(/[\?;]/),i=[];return t.length>0&&(i=t[0].split("/")),i.length>1&&this.locales.indexOf(i[1])!==-1?i[1]:i.length&&this.locales.indexOf(i[0])!==-1?i[0]:null}_getBrowserLang(){return this._returnIfInLocales(this.translate.getBrowserLang())}get _cachedLang(){if(this.settings.useCachedLang){if(this.settings.cacheMechanism===m.LocalStorage)return this._cacheWithLocalStorage();if(this.settings.cacheMechanism===m.SessionStorage)return this._cacheWithSessionStorage();if(this.settings.cacheMechanism===m.Cookie)return this._cacheWithCookies()}}set _cachedLang(e){this.settings.useCachedLang&&(this.settings.cacheMechanism===m.LocalStorage&&this._cacheWithLocalStorage(e),this.settings.cacheMechanism===m.SessionStorage&&this._cacheWithSessionStorage(e),this.settings.cacheMechanism===m.Cookie&&this._cacheWithCookies(e))}_cacheWithLocalStorage(e){try{if(typeof window>"u"||typeof window.localStorage>"u")return;if(e){window.localStorage.setItem(this.settings.cacheName,e);return}return this._returnIfInLocales(window.localStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithSessionStorage(e){try{if(typeof window>"u"||typeof window.sessionStorage>"u")return;if(e){window.sessionStorage.setItem(this.settings.cacheName,e);return}return this._returnIfInLocales(window.sessionStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithCookies(e){try{if(typeof document>"u"||typeof document.cookie>"u")return;let t=encodeURIComponent(this.settings.cacheName);if(e){let r=`${this.settings.cookieFormat}`;r=r.replace("{{value}}",`${t}=${encodeURIComponent(e)}`).replace(/{{expires:?(\d+)?}}/g,(o,l)=>{let u=l===void 0?ut:parseInt(l,10),h=new Date;return h.setTime(h.getTime()+u*864e5),`expires=${h.toUTCString()}`}),document.cookie=r;return}let s=new RegExp("(?:^"+t+"|;\\s*"+t+")=(.*?)(?:;|$)","g").exec(document.cookie);return decodeURIComponent(s[1])}catch{return}}_returnIfInLocales(e){return e&&this.locales.indexOf(e)!==-1?e:null}translateText(e){if(this.escapePrefix&&e.startsWith(this.escapePrefix))return e.replace(this.escapePrefix,"");{if(!this._translationObject)return e;let t=this.prefix+e,i=this.translate.getParsedResult(this._translationObject,t);return i!==t?i:e}}chooseQueryParams(e,t){let i;return e&&e.queryParams?i=e.queryParams:t&&(i=t),i}formatQueryParams(e){return new Ee({fromObject:e}).toString()}getPrefix(){return this.prefix}getEscapePrefix(){return this.escapePrefix}static{this.\u0275fac=function(t){return new(t||n)(c(D),c(Pe),c(k))}}static{this.\u0275prov=f({token:n,factory:n.\u0275fac})}}return n})();var ct=(()=>{class n extends E{load(e){return new Promise(t=>{this.init(e).then(t)})}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=S(n)))(i||n)}})()}static{this.\u0275prov=f({token:n,factory:n.\u0275fac})}}return n})();function ht(n){return!!n&&typeof n.then=="function"}function oe(n){let a=Array.isArray(n)?[]:{};for(let e in n)if(e){let t=n[e];a[e]=typeof t=="object"?oe(t):t}return a}var Ze=(()=>{class n{constructor(e,t,i,s){this.parser=e,this.settings=t,this.router=i,this.route=s,this.routerEvents=new G;let r=new de(1);this.hooks={_initializedSubject:r,initialized:r.asObservable()}}init(){this.applyConfigToRouter(this.parser.routes),this.router.events.pipe(Le(e=>e instanceof xe),ve()).subscribe(this._routeChanged()),this.settings.initialNavigation&&this.router.initialNavigation()}changeLanguage(e,t,i){if(e!==this.parser.currentLang){let s=this.router.routerState.snapshot.root;this.parser.translateRoutes(e).subscribe(()=>{let r=this.traverseRouteSnapshot(s);if(r=this.translateRoute(r),!this.settings.alwaysSetPrefix){let u=r.split("/"),h=u.indexOf(this.parser.currentLang);if(this.parser.currentLang===this.parser.defaultLang)(h===0||h===1&&u[0]==="")&&(u=u.slice(0,h).concat(u.slice(h+1)));else if(h===-1){let g=u[0]===""?1:0;u=u.slice(0,g).concat(this.parser.currentLang,u.slice(g))}r=u.join("/")}r=r.replace(/\/+/g,"/");let o=r.lastIndexOf("/");o>0&&o===r.length-1&&(r=r.slice(0,-1));let l=this.parser.chooseQueryParams(t,this.route.snapshot.queryParams);if(this.applyConfigToRouter(this.parser.routes),this.lastExtras=t,i){let u=t?p({},t):{};l&&(u.queryParams=l),this.router.navigate([r],u)}else{let u=this.parser.formatQueryParams(l);u=u?`?${u}`:"",this.router.navigateByUrl(`${r}${u}`,t)}})}}traverseRouteSnapshot(e){return e.firstChild&&e.routeConfig?`${this.parseSegmentValue(e)}/${this.traverseRouteSnapshot(e.firstChild)}`:e.firstChild?this.traverseRouteSnapshot(e.firstChild):this.parseSegmentValue(e)}buildUrlFromSegments(e,t){return t.map((i,s)=>i.indexOf(":")===0?e.url[s].path:i).join("/")}parseSegmentValue(e){if(e.routeConfig&&e.routeConfig.matcher){let t=this.parseSegmentValueMatcher(e);return this.buildUrlFromSegments(e,t)}else if(e.data.localizeRouter){let i=e.data.localizeRouter.path.split("/");return this.buildUrlFromSegments(e,i)}else if(e.parent&&e.parent.parent){let i=e.routeConfig.path.split("/");return this.buildUrlFromSegments(e,i)}else return""}parseSegmentValueMatcher(e){let t=e.data&&e.data.localizeMatcher&&e.data.localizeMatcher.params||{};return e.url.map(s=>{let r=s.path,o=s.localizedParamName;return(o&&t[o]?t[o](r):null)||`${this.parser.getEscapePrefix()}${r}`})}translateRoute(e){if(typeof e=="string"){let i=this.parser.translateRoute(e);return e.indexOf("/")?i:this.parser.addPrefixToUrl(i)}let t=[];return e.forEach((i,s)=>{if(typeof i=="string"){let r=this.parser.translateRoute(i);!s&&!i.indexOf("/")?t.push(this.parser.addPrefixToUrl(r)):t.push(r)}else t.push(i)}),t}_routeChanged(){return([e,t])=>{let i=this.parser.getLocationLang(e.url)||this.parser.defaultLang,s=this.parser.getLocationLang(t.url)||this.parser.defaultLang,r=this.lastExtras;s!==i&&this.latestUrl!==t.url&&(this.latestUrl=t.url,this.cancelCurrentNavigation(),this.parser.translateRoutes(s).subscribe(()=>{this.applyConfigToRouter(this.parser.routes),this.lastExtras=void 0,this.router.navigateByUrl(t.url,r),this.routerEvents.next(s)})),this.latestUrl=t.url}}cancelCurrentNavigation(){let e=this.router.getCurrentNavigation(),t=this.router.serializeUrl(e.extractedUrl);this.router.events.next(new Me(e.id,t,"")),this.router.navigationTransitions.transitions.next(j(p({},this.router.navigationTransitions.transitions.getValue()),{id:0}))}applyConfigToRouter(e){this.router.resetConfig(oe(e))}static{this.\u0275fac=function(t){return new(t||n)(c(E),c(k),c(P),c(Oe))}}static{this.\u0275prov=f({token:n,factory:n.\u0275fac})}}return n})();var ae=class{constructor(){}shouldDetach(a){return!1}store(a,e){}shouldAttach(a){return!1}retrieve(a){return null}shouldReuseRoute(a,e){return a&&e?this.getKey(a)===this.getKey(e):!1}getKey(a){if(a.firstChild&&a.firstChild.routeConfig&&a.firstChild.routeConfig.path&&a.firstChild.routeConfig.path.indexOf("**")!==-1)return"WILDCARD";if(!a.data.localizeRouter&&(!a.parent||!a.parent.parent)&&!a.data.skipRouteLocalization)return"LANG";if(a.routeConfig.matcher){let e=`${this.getKey(a.parent)}/${a.routeConfig.matcher.name}`;return a.data.discriminantPathKey&&(e=`${e}-${a.data.discriminantPathKey}`),e}else if(a.data.localizeRouter){let e=`${this.getKey(a.parent)}/${a.data.localizeRouter.path}`;return a.data.discriminantPathKey&&(e=`${e}-${a.data.discriminantPathKey}`),e}else{let e=a.routeConfig.path;return a.parent&&(e=`${this.getKey(a.parent)}/${a.routeConfig.path}`),a.data.discriminantPathKey&&(e=`${e}-${a.data.discriminantPathKey}`),e}}},dt=(()=>{class n extends P{constructor(){super(),this.platformId=M(Se),this.compiler=M(Ae),this.localize=M(E),this.childrenLoaders=new WeakMap,this.loadModuleFactoryOrRoutes=(i,s)=>pt(s.loadChildren()).pipe(T(gt),ge(r=>r instanceof we||Array.isArray(r)?L(r):B(this.compiler.compileModuleAsync(r))),T(r=>{this.onLoadEndListener&&this.onLoadEndListener(s);let o,l;if(Array.isArray(r))l=this.localize.initChildRoutes([].concat(...r));else{o=r.create(i).injector;let h=o.get.bind(o);o.get=(g,W,Qe)=>{let le=h(g,W,Qe);return g===Y?this.localize.initChildRoutes([].concat(...le)):le},l=o.get(Y,[],{optional:!0,self:!0}).reduce((g,W)=>g.concat(W),[])}return{routes:l.map(Xe),injector:o}}));let t=De(this.platformId)?this.navigationTransitions.configLoader.__proto__:this.navigationTransitions.configLoader;t.loadChildren=(i,s)=>{if(this.childrenLoaders.get(s))return this.childrenLoaders.get(s);if(s._loadedRoutes)return L({routes:s._loadedRoutes,injector:s._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(s);let o=this.loadModuleFactoryOrRoutes(i,s).pipe(Ce(()=>{this.childrenLoaders.delete(s)})),l=new he(o,()=>new G).pipe(ce());return this.childrenLoaders.set(s,l),l}}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=f({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Xe(n){let a=n.children&&n.children.map(Xe),e=a?j(p({},n),{children:a}):p({},n);return!e.component&&!e.loadComponent&&(a||e.loadChildren)&&e.outlet&&e.outlet!==je&&(e.component=Fe),e}function ft(n){return n&&typeof n=="object"&&"default"in n}function gt(n){return ft(n)?n.default:n}function pt(n){return C(n)?n:ht(n)?B(Promise.resolve(n)):L(n)}var Ke=(()=>{class n{constructor(e){this.injector=e}appInitializer(){return this.parser.load(this.routes).then(()=>{let t=this.injector.get(Ze),i=this.injector.get(P),s=this.injector.get(k);if(t.init(),s.initialNavigation)return new Promise(r=>{let o=i.navigationTransitions.afterPreactivation,l=!0;i.navigationTransitions.afterPreactivation=()=>(l&&(r(),l=!1,t.hooks._initializedSubject.next(!0),t.hooks._initializedSubject.complete()),o())});t.hooks._initializedSubject.next(!0),t.hooks._initializedSubject.complete()})}generateInitializer(e,t){return this.parser=e,this.routes=t.reduce((i,s)=>i.concat(s)),this.appInitializer}static{this.\u0275fac=function(t){return new(t||n)(c(Te))}}static{this.\u0275prov=f({token:n,factory:n.\u0275fac})}}return n})();function Lt(n,a,e){let t=oe(e);return n.generateInitializer(a,t).bind(n)}function Ye(n,a){return[{provide:P,useClass:dt},{provide:rt,useFactory:Ct,deps:[[mt,new ye,new Re]]},{provide:$e,useValue:a.useCachedLang},{provide:qe,useValue:a.alwaysSetPrefix},{provide:We,useValue:a.cacheName},{provide:ke,useValue:a.cacheMechanism},{provide:He,useValue:a.defaultLangFunction},{provide:Ge,useValue:a.cookieFormat},{provide:Be,useValue:a.initialNavigation},k,a.parser||{provide:E,useClass:ct},{provide:re,multi:!0,useValue:n},Ze,Ke,{provide:Ie,multi:!0,useFactory:Lt,deps:[Ke,E,re]},{provide:Ne,useClass:ae}]}var mt=(()=>{class n{static forRoot(e,t={}){return{ngModule:n,providers:Ye(e,t)}}static forChild(e){return{ngModule:n,providers:[{provide:re,multi:!0,useValue:e}]}}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=F({type:n})}static{this.\u0275inj=x({imports:[_e,ze,Ve]})}}return n})();function Ct(n){if(n)throw new Error("LocalizeRouterModule.forRoot() called twice. Lazy loaded modules should use LocalizeRouterModule.forChild() instead.");return"guarded"}function Wt(n,a={}){return{\u0275kind:"LocalizeRouter",\u0275providers:Ye(n,a)}}export{y as a,D as b,Dt as c,k as d,E as e,Ze as f,Wt as g};
