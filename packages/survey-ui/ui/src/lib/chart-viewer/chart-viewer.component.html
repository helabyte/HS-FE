<mat-card *ngIf="chartData()" class="max-w-2xl mx-auto">
  <mat-card-header class="mb-4">
    <mat-card-title>{{ chartData().questionText }}</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <div class="grid grid-cols-1 gap-4">
      <div *ngIf="chartData()" class="chart-container" #chartContainer>
        <svg
          *ngIf="chartData()?.chartType === 'pie'"
          hlsPieChart
          [chartData]="chartData()"
          [width]="chartContainer.offsetWidth"
        ></svg>
        <svg
          *ngIf="chartData()?.chartType === 'bar'"
          hlsBarChart
          [chartData]="chartData()"
          [width]="chartContainer.offsetWidth"
        ></svg>
        <svg
          *ngIf="chartData()?.chartType === 'line'"
          hlsLineChart
          [chartData]="chartData()"
          [width]="chartContainer.offsetWidth"
        ></svg>
        <div
          *ngIf="!['pie', 'bar', 'line'].includes(chartData()?.chartType ?? '')"
          class="error-message"
        >
          Unsupported chart type: {{ chartData()?.chartType }}
        </div>
      </div>
      <hls-poll [pollOptions]="pollData()" />
    </div>
  </mat-card-content>
  <mat-card-actions>
    <button mat-button>SHARE</button>
  </mat-card-actions>
</mat-card>
